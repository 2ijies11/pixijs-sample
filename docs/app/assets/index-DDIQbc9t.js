var m1=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var iC=m1((aC,gc)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function df(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function i_(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var o=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return i[r]}})}),t}var cp={exports:{}},Jh={},dp={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function g1(){if(Ay)return lt;Ay=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function P(M,z,X){this.props=M,this.context=z,this.refs=I,this.updater=X||b}P.prototype.isReactComponent={},P.prototype.setState=function(M,z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,z,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=P.prototype;function G(M,z,X){this.props=M,this.context=z,this.refs=I,this.updater=X||b}var F=G.prototype=new k;F.constructor=G,A(F,P.prototype),F.isPureReactComponent=!0;var W=Array.isArray,U=Object.prototype.hasOwnProperty,K={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function Z(M,z,X){var ne,ue={},me=null,xe=null;if(z!=null)for(ne in z.ref!==void 0&&(xe=z.ref),z.key!==void 0&&(me=""+z.key),z)U.call(z,ne)&&!N.hasOwnProperty(ne)&&(ue[ne]=z[ne]);var Te=arguments.length-2;if(Te===1)ue.children=X;else if(1<Te){for(var Pe=Array(Te),ve=0;ve<Te;ve++)Pe[ve]=arguments[ve+2];ue.children=Pe}if(M&&M.defaultProps)for(ne in Te=M.defaultProps,Te)ue[ne]===void 0&&(ue[ne]=Te[ne]);return{$$typeof:i,type:M,key:me,ref:xe,props:ue,_owner:K.current}}function ce(M,z){return{$$typeof:i,type:M.type,key:z,ref:M.ref,props:M.props,_owner:M._owner}}function pe(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function de(M){var z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(X){return z[X]})}var Q=/\/+/g;function se(M,z){return typeof M=="object"&&M!==null&&M.key!=null?de(""+M.key):z.toString(36)}function ae(M,z,X,ne,ue){var me=typeof M;(me==="undefined"||me==="boolean")&&(M=null);var xe=!1;if(M===null)xe=!0;else switch(me){case"string":case"number":xe=!0;break;case"object":switch(M.$$typeof){case i:case e:xe=!0}}if(xe)return xe=M,ue=ue(xe),M=ne===""?"."+se(xe,0):ne,W(ue)?(X="",M!=null&&(X=M.replace(Q,"$&/")+"/"),ae(ue,z,X,"",function(ve){return ve})):ue!=null&&(pe(ue)&&(ue=ce(ue,X+(!ue.key||xe&&xe.key===ue.key?"":(""+ue.key).replace(Q,"$&/")+"/")+M)),z.push(ue)),1;if(xe=0,ne=ne===""?".":ne+":",W(M))for(var Te=0;Te<M.length;Te++){me=M[Te];var Pe=ne+se(me,Te);xe+=ae(me,z,X,Pe,ue)}else if(Pe=S(M),typeof Pe=="function")for(M=Pe.call(M),Te=0;!(me=M.next()).done;)me=me.value,Pe=ne+se(me,Te++),xe+=ae(me,z,X,Pe,ue);else if(me==="object")throw z=String(M),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return xe}function Re(M,z,X){if(M==null)return M;var ne=[],ue=0;return ae(M,ne,"","",function(me){return z.call(X,me,ue++)}),ne}function B(M){if(M._status===-1){var z=M._result;z=z(),z.then(function(X){(M._status===0||M._status===-1)&&(M._status=1,M._result=X)},function(X){(M._status===0||M._status===-1)&&(M._status=2,M._result=X)}),M._status===-1&&(M._status=0,M._result=z)}if(M._status===1)return M._result.default;throw M._result}var L={current:null},C={transition:null},H={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:C,ReactCurrentOwner:K};function D(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:Re,forEach:function(M,z,X){Re(M,function(){z.apply(this,arguments)},X)},count:function(M){var z=0;return Re(M,function(){z++}),z},toArray:function(M){return Re(M,function(z){return z})||[]},only:function(M){if(!pe(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},lt.Component=P,lt.Fragment=t,lt.Profiler=o,lt.PureComponent=G,lt.StrictMode=r,lt.Suspense=m,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,lt.act=D,lt.cloneElement=function(M,z,X){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ne=A({},M.props),ue=M.key,me=M.ref,xe=M._owner;if(z!=null){if(z.ref!==void 0&&(me=z.ref,xe=K.current),z.key!==void 0&&(ue=""+z.key),M.type&&M.type.defaultProps)var Te=M.type.defaultProps;for(Pe in z)U.call(z,Pe)&&!N.hasOwnProperty(Pe)&&(ne[Pe]=z[Pe]===void 0&&Te!==void 0?Te[Pe]:z[Pe])}var Pe=arguments.length-2;if(Pe===1)ne.children=X;else if(1<Pe){Te=Array(Pe);for(var ve=0;ve<Pe;ve++)Te[ve]=arguments[ve+2];ne.children=Te}return{$$typeof:i,type:M.type,key:ue,ref:me,props:ne,_owner:xe}},lt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},lt.createElement=Z,lt.createFactory=function(M){var z=Z.bind(null,M);return z.type=M,z},lt.createRef=function(){return{current:null}},lt.forwardRef=function(M){return{$$typeof:d,render:M}},lt.isValidElement=pe,lt.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:B}},lt.memo=function(M,z){return{$$typeof:g,type:M,compare:z===void 0?null:z}},lt.startTransition=function(M){var z=C.transition;C.transition={};try{M()}finally{C.transition=z}},lt.unstable_act=D,lt.useCallback=function(M,z){return L.current.useCallback(M,z)},lt.useContext=function(M){return L.current.useContext(M)},lt.useDebugValue=function(){},lt.useDeferredValue=function(M){return L.current.useDeferredValue(M)},lt.useEffect=function(M,z){return L.current.useEffect(M,z)},lt.useId=function(){return L.current.useId()},lt.useImperativeHandle=function(M,z,X){return L.current.useImperativeHandle(M,z,X)},lt.useInsertionEffect=function(M,z){return L.current.useInsertionEffect(M,z)},lt.useLayoutEffect=function(M,z){return L.current.useLayoutEffect(M,z)},lt.useMemo=function(M,z){return L.current.useMemo(M,z)},lt.useReducer=function(M,z,X){return L.current.useReducer(M,z,X)},lt.useRef=function(M){return L.current.useRef(M)},lt.useState=function(M){return L.current.useState(M)},lt.useSyncExternalStore=function(M,z,X){return L.current.useSyncExternalStore(M,z,X)},lt.useTransition=function(){return L.current.useTransition()},lt.version="18.3.1",lt}var Cy;function Dg(){return Cy||(Cy=1,dp.exports=g1()),dp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function y1(){if(Py)return Jh;Py=1;var i=Dg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,m,g){var _,w={},S=null,b=null;g!==void 0&&(S=""+g),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(b=m.ref);for(_ in m)r.call(m,_)&&!a.hasOwnProperty(_)&&(w[_]=m[_]);if(d&&d.defaultProps)for(_ in m=d.defaultProps,m)w[_]===void 0&&(w[_]=m[_]);return{$$typeof:e,type:d,key:S,ref:b,props:w,_owner:o.current}}return Jh.Fragment=t,Jh.jsx=c,Jh.jsxs=c,Jh}var Ry;function v1(){return Ry||(Ry=1,cp.exports=y1()),cp.exports}var fa=v1(),Hi=Dg();const lo=df(Hi);var cd={},fp={exports:{}},Dn={},pp={exports:{}},mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function _1(){return Iy||(Iy=1,(function(i){function e(C,H){var D=C.length;C.push(H);e:for(;0<D;){var M=D-1>>>1,z=C[M];if(0<o(z,H))C[M]=H,C[D]=z,D=M;else break e}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var H=C[0],D=C.pop();if(D!==H){C[0]=D;e:for(var M=0,z=C.length,X=z>>>1;M<X;){var ne=2*(M+1)-1,ue=C[ne],me=ne+1,xe=C[me];if(0>o(ue,D))me<z&&0>o(xe,ue)?(C[M]=xe,C[me]=D,M=me):(C[M]=ue,C[ne]=D,M=ne);else if(me<z&&0>o(xe,D))C[M]=xe,C[me]=D,M=me;else break e}}return H}function o(C,H){var D=C.sortIndex-H.sortIndex;return D!==0?D:C.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,w=null,S=3,b=!1,A=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(C){for(var H=t(g);H!==null;){if(H.callback===null)r(g);else if(H.startTime<=C)r(g),H.sortIndex=H.expirationTime,e(m,H);else break;H=t(g)}}function W(C){if(I=!1,F(C),!A)if(t(m)!==null)A=!0,B(U);else{var H=t(g);H!==null&&L(W,H.startTime-C)}}function U(C,H){A=!1,I&&(I=!1,k(Z),Z=-1),b=!0;var D=S;try{for(F(H),w=t(m);w!==null&&(!(w.expirationTime>H)||C&&!de());){var M=w.callback;if(typeof M=="function"){w.callback=null,S=w.priorityLevel;var z=M(w.expirationTime<=H);H=i.unstable_now(),typeof z=="function"?w.callback=z:w===t(m)&&r(m),F(H)}else r(m);w=t(m)}if(w!==null)var X=!0;else{var ne=t(g);ne!==null&&L(W,ne.startTime-H),X=!1}return X}finally{w=null,S=D,b=!1}}var K=!1,N=null,Z=-1,ce=5,pe=-1;function de(){return!(i.unstable_now()-pe<ce)}function Q(){if(N!==null){var C=i.unstable_now();pe=C;var H=!0;try{H=N(!0,C)}finally{H?se():(K=!1,N=null)}}else K=!1}var se;if(typeof G=="function")se=function(){G(Q)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Re=ae.port2;ae.port1.onmessage=Q,se=function(){Re.postMessage(null)}}else se=function(){P(Q,0)};function B(C){N=C,K||(K=!0,se())}function L(C,H){Z=P(function(){C(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_continueExecution=function(){A||b||(A=!0,B(U))},i.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<C?Math.floor(1e3/C):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return t(m)},i.unstable_next=function(C){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var D=S;S=H;try{return C()}finally{S=D}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=S;S=C;try{return H()}finally{S=D}},i.unstable_scheduleCallback=function(C,H,D){var M=i.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?M+D:M):D=M,C){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=D+z,C={id:_++,callback:H,priorityLevel:C,startTime:D,expirationTime:z,sortIndex:-1},D>M?(C.sortIndex=D,e(g,C),t(m)===null&&C===t(g)&&(I?(k(Z),Z=-1):I=!0,L(W,D-M))):(C.sortIndex=z,e(m,C),A||b||(A=!0,B(U))),C},i.unstable_shouldYield=de,i.unstable_wrapCallback=function(C){var H=S;return function(){var D=S;S=H;try{return C.apply(this,arguments)}finally{S=D}}}})(mp)),mp}var My;function x1(){return My||(My=1,pp.exports=_1()),pp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function w1(){if(ky)return Dn;ky=1;var i=Dg(),e=x1();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,h=1;h<arguments.length;h++)s+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(o[n]=s,n=0;n<s.length;n++)r.add(s[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function S(n){return m.call(w,n)?!0:m.call(_,n)?!1:g.test(n)?w[n]=!0:(_[n]=!0,!1)}function b(n,s,h,f){if(h!==null&&h.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:h!==null?!h.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function A(n,s,h,f){if(s===null||typeof s>"u"||b(n,s,h,f))return!0;if(f)return!1;if(h!==null)switch(h.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function I(n,s,h,f,y,E,R){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=n,this.type=s,this.sanitizeURL=E,this.removeEmptyString=R}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){P[n]=new I(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];P[s]=new I(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){P[n]=new I(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){P[n]=new I(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){P[n]=new I(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){P[n]=new I(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){P[n]=new I(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){P[n]=new I(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){P[n]=new I(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function G(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(k,G);P[s]=new I(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(k,G);P[s]=new I(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(k,G);P[s]=new I(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){P[n]=new I(n,1,!1,n.toLowerCase(),null,!1,!1)}),P.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){P[n]=new I(n,1,!1,n.toLowerCase(),null,!0,!0)});function F(n,s,h,f){var y=P.hasOwnProperty(s)?P[s]:null;(y!==null?y.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(A(s,h,y,f)&&(h=null),f||y===null?S(s)&&(h===null?n.removeAttribute(s):n.setAttribute(s,""+h)):y.mustUseProperty?n[y.propertyName]=h===null?y.type===3?!1:"":h:(s=y.attributeName,f=y.attributeNamespace,h===null?n.removeAttribute(s):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,f?n.setAttributeNS(f,s,h):n.setAttribute(s,h))))}var W=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),K=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),de=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),C=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=C&&n[C]||n["@@iterator"],typeof n=="function"?n:null)}var D=Object.assign,M;function z(n){if(M===void 0)try{throw Error()}catch(h){var s=h.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+n}var X=!1;function ne(n,s){if(!n||X)return"";X=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(oe){var f=oe}Reflect.construct(n,[],s)}else{try{s.call()}catch(oe){f=oe}n.call(s.prototype)}else{try{throw Error()}catch(oe){f=oe}n()}}catch(oe){if(oe&&f&&typeof oe.stack=="string"){for(var y=oe.stack.split(`
`),E=f.stack.split(`
`),R=y.length-1,j=E.length-1;1<=R&&0<=j&&y[R]!==E[j];)j--;for(;1<=R&&0<=j;R--,j--)if(y[R]!==E[j]){if(R!==1||j!==1)do if(R--,j--,0>j||y[R]!==E[j]){var $=`
`+y[R].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=R&&0<=j);break}}}finally{X=!1,Error.prepareStackTrace=h}return(n=n?n.displayName||n.name:"")?z(n):""}function ue(n){switch(n.tag){case 5:return z(n.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return n=ne(n.type,!1),n;case 11:return n=ne(n.type.render,!1),n;case 1:return n=ne(n.type,!0),n;default:return""}}function me(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case K:return"Portal";case ce:return"Profiler";case Z:return"StrictMode";case se:return"Suspense";case ae:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case de:return(n.displayName||"Context")+".Consumer";case pe:return(n._context.displayName||"Context")+".Provider";case Q:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Re:return s=n.displayName||null,s!==null?s:me(n.type)||"Memo";case B:s=n._payload,n=n._init;try{return me(n(s))}catch{}}return null}function xe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(s);case 8:return s===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Te(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ve(n){var s=Pe(n)?"checked":"value",h=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),f=""+n[s];if(!n.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,E=h.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return y.call(this)},set:function(R){f=""+R,E.call(this,R)}}),Object.defineProperty(n,s,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Me(n){n._valueTracker||(n._valueTracker=ve(n))}function Ue(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var h=s.getValue(),f="";return n&&(f=Pe(n)?n.checked?"true":"false":n.value),n=f,n!==h?(s.setValue(n),!0):!1}function We(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function at(n,s){var h=s.checked;return D({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??n._wrapperState.initialChecked})}function He(n,s){var h=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;h=Te(s.value!=null?s.value:h),n._wrapperState={initialChecked:f,initialValue:h,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function $e(n,s){s=s.checked,s!=null&&F(n,"checked",s,!1)}function Mt(n,s){$e(n,s);var h=Te(s.value),f=s.type;if(h!=null)f==="number"?(h===0&&n.value===""||n.value!=h)&&(n.value=""+h):n.value!==""+h&&(n.value=""+h);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Kn(n,s.type,h):s.hasOwnProperty("defaultValue")&&Kn(n,s.type,Te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Gt(n,s,h){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,h||s===n.value||(n.value=s),n.defaultValue=s}h=n.name,h!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,h!==""&&(n.name=h)}function Kn(n,s,h){(s!=="number"||We(n.ownerDocument)!==n)&&(h==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+h&&(n.defaultValue=""+h))}var cr=Array.isArray;function dr(n,s,h,f){if(n=n.options,s){s={};for(var y=0;y<h.length;y++)s["$"+h[y]]=!0;for(h=0;h<n.length;h++)y=s.hasOwnProperty("$"+n[h].value),n[h].selected!==y&&(n[h].selected=y),y&&f&&(n[h].defaultSelected=!0)}else{for(h=""+Te(h),s=null,y=0;y<n.length;y++){if(n[y].value===h){n[y].selected=!0,f&&(n[y].defaultSelected=!0);return}s!==null||n[y].disabled||(s=n[y])}s!==null&&(s.selected=!0)}}function Zn(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return D({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fi(n,s){var h=s.value;if(h==null){if(h=s.children,s=s.defaultValue,h!=null){if(s!=null)throw Error(t(92));if(cr(h)){if(1<h.length)throw Error(t(93));h=h[0]}s=h}s==null&&(s=""),h=s}n._wrapperState={initialValue:Te(h)}}function Zr(n,s){var h=Te(s.value),f=Te(s.defaultValue);h!=null&&(h=""+h,h!==n.value&&(n.value=h),s.defaultValue==null&&n.defaultValue!==h&&(n.defaultValue=h)),f!=null&&(n.defaultValue=""+f)}function Bl(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Ll(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Ll(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var go,Yi=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,h,f,y){MSApp.execUnsafeLocalFunction(function(){return n(s,h,f,y)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=go.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function pi(n,s){if(s){var h=n.firstChild;if(h&&h===n.lastChild&&h.nodeType===3){h.nodeValue=s;return}}n.textContent=s}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eh=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(n){eh.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),qi[s]=qi[n]})});function Ul(n,s,h){return s==null||typeof s=="boolean"||s===""?"":h||typeof s!="number"||s===0||qi.hasOwnProperty(n)&&qi[n]?(""+s).trim():s+"px"}function yo(n,s){n=n.style;for(var h in s)if(s.hasOwnProperty(h)){var f=h.indexOf("--")===0,y=Ul(h,s[h],f);h==="float"&&(h="cssFloat"),f?n.setProperty(h,y):n[h]=y}}var vo=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function te(n,s){if(s){if(vo[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ie(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ut=null;function _t(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Et=null,tt=null,Nr=null;function Jn(n){if(n=$o(n)){if(typeof Et!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Vo(s),Et(n.stateNode,n.type,s))}}function gr(n){tt?Nr?Nr.push(n):Nr=[n]:tt=n}function dn(){if(tt){var n=tt,s=Nr;if(Nr=tt=null,Jn(n),s)for(n=0;n<s.length;n++)Jn(s[n])}}function _o(n,s){return n(s)}function Fn(){}var Sr=!1;function xo(n,s,h){if(Sr)return n(s,h);Sr=!0;try{return _o(n,s,h)}finally{Sr=!1,(tt!==null||Nr!==null)&&(Fn(),dn())}}function Qi(n,s){var h=n.stateNode;if(h===null)return null;var f=Vo(h);if(f===null)return null;h=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(h&&typeof h!="function")throw Error(t(231,s,typeof h));return h}var wo=!1;if(d)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{wo=!1}function Eo(n,s,h,f,y,E,R,j,$){var oe=Array.prototype.slice.call(arguments,3);try{s.apply(h,oe)}catch(we){this.onError(we)}}var fn=!1,Ki=null,Zi=!1,mi=null,zl={onError:function(n){fn=!0,Ki=n}};function Sa(n,s,h,f,y,E,R,j,$){fn=!1,Ki=null,Eo.apply(zl,arguments)}function Gl(n,s,h,f,y,E,R,j,$){if(Sa.apply(this,arguments),fn){if(fn){var oe=Ki;fn=!1,Ki=null}else throw Error(t(198));Zi||(Zi=!0,mi=oe)}}function Ln(n){var s=n,h=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(h=s.return),n=s.return;while(n)}return s.tag===3?h:null}function ba(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Hl(n){if(Ln(n)!==n)throw Error(t(188))}function Ta(n){var s=n.alternate;if(!s){if(s=Ln(n),s===null)throw Error(t(188));return s!==n?null:n}for(var h=n,f=s;;){var y=h.return;if(y===null)break;var E=y.alternate;if(E===null){if(f=y.return,f!==null){h=f;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===h)return Hl(y),n;if(E===f)return Hl(y),s;E=E.sibling}throw Error(t(188))}if(h.return!==f.return)h=y,f=E;else{for(var R=!1,j=y.child;j;){if(j===h){R=!0,h=y,f=E;break}if(j===f){R=!0,f=y,h=E;break}j=j.sibling}if(!R){for(j=E.child;j;){if(j===h){R=!0,h=E,f=y;break}if(j===f){R=!0,f=E,h=y;break}j=j.sibling}if(!R)throw Error(t(189))}}if(h.alternate!==f)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?n:s}function gi(n){return n=Ta(n),n!==null?Ms(n):null}function Ms(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Ms(n);if(s!==null)return s;n=n.sibling}return null}var jl=e.unstable_scheduleCallback,Aa=e.unstable_cancelCallback,Cf=e.unstable_shouldYield,Pf=e.unstable_requestPaint,Vt=e.unstable_now,Ca=e.unstable_getCurrentPriorityLevel,Pa=e.unstable_ImmediatePriority,Wl=e.unstable_UserBlockingPriority,$l=e.unstable_NormalPriority,th=e.unstable_LowPriority,ks=e.unstable_IdlePriority,Un=null,ft=null;function At(n){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:Ds,br=Math.log,Gr=Math.LN2;function Ds(n){return n>>>=0,n===0?32:31-(br(n)/Gr|0)|0}var yi=64,Tr=4194304;function Ns(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ra(n,s){var h=n.pendingLanes;if(h===0)return 0;var f=0,y=n.suspendedLanes,E=n.pingedLanes,R=h&268435455;if(R!==0){var j=R&~y;j!==0?f=Ns(j):(E&=R,E!==0&&(f=Ns(E)))}else R=h&~y,R!==0?f=Ns(R):E!==0&&(f=Ns(E));if(f===0)return 0;if(s!==0&&s!==f&&(s&y)===0&&(y=f&-f,E=s&-s,y>=E||y===16&&(E&4194240)!==0))return s;if((f&4)!==0&&(f|=h&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=f;0<s;)h=31-fr(s),y=1<<h,f|=n[h],s&=~y;return f}function Tc(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vl(n,s){for(var h=n.suspendedLanes,f=n.pingedLanes,y=n.expirationTimes,E=n.pendingLanes;0<E;){var R=31-fr(E),j=1<<R,$=y[R];$===-1?((j&h)===0||(j&f)!==0)&&(y[R]=Tc(j,s)):$<=s&&(n.expiredLanes|=j),E&=~j}}function Xl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function pn(){var n=yi;return yi<<=1,(yi&4194240)===0&&(yi=64),n}function rh(n){for(var s=[],h=0;31>h;h++)s.push(n);return s}function Ia(n,s,h){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-fr(s),n[s]=h}function nh(n,s){var h=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<h;){var y=31-fr(h),E=1<<y;s[y]=0,f[y]=-1,n[y]=-1,h&=~E}}function Ma(n,s){var h=n.entangledLanes|=s;for(n=n.entanglements;h;){var f=31-fr(h),y=1<<f;y&s|n[f]&s&&(n[f]|=s),h&=~y}}var pt=0;function ka(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Ac,Da,ih,Yl,So,Na=!1,ht=[],vi=null,ei=null,_i=null,Oa=new Map,Fa=new Map,kt=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(n,s){switch(n){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Oa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(s.pointerId)}}function bo(n,s,h,f,y,E){return n===null||n.nativeEvent!==E?(n={blockedOn:s,domEventName:h,eventSystemFlags:f,nativeEvent:E,targetContainers:[y]},s!==null&&(s=$o(s),s!==null&&Da(s)),n):(n.eventSystemFlags|=f,s=n.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),n)}function Rf(n,s,h,f,y){switch(s){case"focusin":return vi=bo(vi,n,s,h,f,y),!0;case"dragenter":return ei=bo(ei,n,s,h,f,y),!0;case"mouseover":return _i=bo(_i,n,s,h,f,y),!0;case"pointerover":var E=y.pointerId;return Oa.set(E,bo(Oa.get(E)||null,n,s,h,f,y)),!0;case"gotpointercapture":return E=y.pointerId,Fa.set(E,bo(Fa.get(E)||null,n,s,h,f,y)),!0}return!1}function Ba(n){var s=ls(n.target);if(s!==null){var h=Ln(s);if(h!==null){if(s=h.tag,s===13){if(s=ba(h),s!==null){n.blockedOn=s,So(n.priority,function(){ih(h)});return}}else if(s===3&&h.stateNode.current.memoizedState.isDehydrated){n.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jr(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var h=Hr(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(h===null){h=n.nativeEvent;var f=new h.constructor(h.type,h);ut=f,h.target.dispatchEvent(f),ut=null}else return s=$o(h),s!==null&&Da(s),n.blockedOn=h,!1;s.shift()}return!0}function mn(n,s,h){Jr(n)&&h.delete(s)}function xi(){Na=!1,vi!==null&&Jr(vi)&&(vi=null),ei!==null&&Jr(ei)&&(ei=null),_i!==null&&Jr(_i)&&(_i=null),Oa.forEach(mn),Fa.forEach(mn)}function Ji(n,s){n.blockedOn===s&&(n.blockedOn=null,Na||(Na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xi)))}function Os(n){function s(y){return Ji(y,n)}if(0<ht.length){Ji(ht[0],n);for(var h=1;h<ht.length;h++){var f=ht[h];f.blockedOn===n&&(f.blockedOn=null)}}for(vi!==null&&Ji(vi,n),ei!==null&&Ji(ei,n),_i!==null&&Ji(_i,n),Oa.forEach(s),Fa.forEach(s),h=0;h<kt.length;h++)f=kt[h],f.blockedOn===n&&(f.blockedOn=null);for(;0<kt.length&&(h=kt[0],h.blockedOn===null);)Ba(h),h.blockedOn===null&&kt.shift()}var Fs=W.ReactCurrentBatchConfig,en=!0;function To(n,s,h,f){var y=pt,E=Fs.transition;Fs.transition=null;try{pt=1,Co(n,s,h,f)}finally{pt=y,Fs.transition=E}}function Ao(n,s,h,f){var y=pt,E=Fs.transition;Fs.transition=null;try{pt=4,Co(n,s,h,f)}finally{pt=y,Fs.transition=E}}function Co(n,s,h,f){if(en){var y=Hr(n,s,h,f);if(y===null)pu(n,s,f,Bs,h),Cc(n,f);else if(Rf(y,n,s,h,f))f.stopPropagation();else if(Cc(n,f),s&4&&-1<sh.indexOf(n)){for(;y!==null;){var E=$o(y);if(E!==null&&Ac(E),E=Hr(n,s,h,f),E===null&&pu(n,s,f,Bs,h),E===y)break;y=E}y!==null&&f.stopPropagation()}else pu(n,s,f,null,h)}}var Bs=null;function Hr(n,s,h,f){if(Bs=null,n=_t(f),n=ls(n),n!==null)if(s=Ln(n),s===null)n=null;else if(h=s.tag,h===13){if(n=ba(s),n!==null)return n;n=null}else if(h===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Bs=n,null}function tn(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ca()){case Pa:return 1;case Wl:return 4;case $l:case th:return 16;case ks:return 536870912;default:return 16}default:return 16}}var jr=null,gn=null,yn=null;function es(){if(yn)return yn;var n,s=gn,h=s.length,f,y="value"in jr?jr.value:jr.textContent,E=y.length;for(n=0;n<h&&s[n]===y[n];n++);var R=h-n;for(f=1;f<=R&&s[h-f]===y[E-f];f++);return yn=y.slice(n,1<f?1-f:void 0)}function La(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Po(){return!0}function ql(){return!1}function Dt(n){function s(h,f,y,E,R){this._reactName=h,this._targetInst=y,this.type=f,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var j in n)n.hasOwnProperty(j)&&(h=n[j],this[j]=h?h(E):E[j]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Po:ql,this.isPropagationStopped=ql,this}return D(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),s}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ct=Dt(yr),wi=D({},yr,{view:0,detail:0}),zn=Dt(wi),Ql,Kl,Ls,Ro=D({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ls&&(Ls&&n.type==="mousemove"?(Ql=n.screenX-Ls.screenX,Kl=n.screenY-Ls.screenY):Kl=Ql=0,Ls=n),Ql)},movementY:function(n){return"movementY"in n?n.movementY:Kl}}),oh=Dt(Ro),Zl=D({},Ro,{dataTransfer:0}),Pc=Dt(Zl),Io=D({},wi,{relatedTarget:0}),Ua=Dt(Io),If=D({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jl=Dt(If),Mf=D({},yr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Gn=Dt(Mf),eu=D({},yr,{data:0}),za=Dt(eu),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=lh[n])?!!s[n]:!1}function Ga(){return Rc}var uh=D({},wi,{key:function(n){if(n.key){var s=Mo[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=La(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ah[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(n){return n.type==="keypress"?La(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?La(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ko=Dt(uh),vn=D({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Dt(vn),hh=D({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),Ic=Dt(hh),ti=D({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rs=Dt(ti),ch=D({},Ro,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Mc=Dt(ch),Ei=[9,13,27,32],ri=d&&"CompositionEvent"in window,ns=null;d&&"documentMode"in document&&(ns=document.documentMode);var kc=d&&"TextEvent"in window&&!ns,Ha=d&&(!ri||ns&&8<ns&&11>=ns),dh=" ",fh=!1;function tu(n,s){switch(n){case"keyup":return Ei.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Us=!1;function Dc(n,s){switch(n){case"compositionend":return ja(s);case"keypress":return s.which!==32?null:(fh=!0,dh);case"textInput":return n=s.data,n===dh&&fh?null:n;default:return null}}function Nc(n,s){if(Us)return n==="compositionend"||!ri&&tu(n,s)?(n=es(),yn=gn=jr=null,Us=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ha&&s.locale!=="ko"?null:s.data;default:return null}}var ph={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Do(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ph[n.type]:s==="textarea"}function Wa(n,s,h,f){gr(f),s=Ka(s,"onChange"),0<s.length&&(h=new Ct("onChange","change",null,h,f),n.push({event:h,listeners:s}))}var No=null,Oo=null;function Fo(n){cu(n,0)}function $a(n){var s=js(n);if(Ue(s))return n}function Va(n,s){if(n==="change")return s}var rn=!1;if(d){var zs;if(d){var is="oninput"in document;if(!is){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),is=typeof Hn.oninput=="function"}zs=is}else zs=!1;rn=zs&&(!document.documentMode||9<document.documentMode)}function ru(){No&&(No.detachEvent("onpropertychange",Gs),Oo=No=null)}function Gs(n){if(n.propertyName==="value"&&$a(Oo)){var s=[];Wa(s,Oo,n,_t(n)),xo(Fo,s)}}function Oc(n,s,h){n==="focusin"?(ru(),No=s,Oo=h,No.attachEvent("onpropertychange",Gs)):n==="focusout"&&ru()}function mh(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $a(Oo)}function Ht(n,s){if(n==="click")return $a(s)}function nu(n,s){if(n==="input"||n==="change")return $a(s)}function gh(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var nn=typeof Object.is=="function"?Object.is:gh;function ss(n,s){if(nn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var h=Object.keys(n),f=Object.keys(s);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var y=h[f];if(!m.call(s,y)||!nn(n[y],s[y]))return!1}return!0}function iu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function os(n,s){var h=iu(n);n=0;for(var f;h;){if(h.nodeType===3){if(f=n+h.textContent.length,n<=s&&f>=s)return{node:h,offset:s-n};n=f}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=iu(h)}}function Bt(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Bt(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ir(){for(var n=window,s=We();s instanceof n.HTMLIFrameElement;){try{var h=typeof s.contentWindow.location.href=="string"}catch{h=!1}if(h)n=s.contentWindow;else break;s=We(n.document)}return s}function Qt(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function su(n){var s=ir(),h=n.focusedElem,f=n.selectionRange;if(s!==h&&h&&h.ownerDocument&&Bt(h.ownerDocument.documentElement,h)){if(f!==null&&Qt(h)){if(s=f.start,n=f.end,n===void 0&&(n=s),"selectionStart"in h)h.selectionStart=s,h.selectionEnd=Math.min(n,h.value.length);else if(n=(s=h.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var y=h.textContent.length,E=Math.min(f.start,y);f=f.end===void 0?E:Math.min(f.end,y),!n.extend&&E>f&&(y=f,f=E,E=y),y=os(h,E);var R=os(h,f);y&&R&&(n.rangeCount!==1||n.anchorNode!==y.node||n.anchorOffset!==y.offset||n.focusNode!==R.node||n.focusOffset!==R.offset)&&(s=s.createRange(),s.setStart(y.node,y.offset),n.removeAllRanges(),E>f?(n.addRange(s),n.extend(R.node,R.offset)):(s.setEnd(R.node,R.offset),n.addRange(s)))}}for(s=[],n=h;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<s.length;h++)n=s[h],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Xa=d&&"documentMode"in document&&11>=document.documentMode,ni=null,yh=null,Kt=null,Ya=!1;function ou(n,s,h){var f=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ya||ni==null||ni!==We(f)||(f=ni,"selectionStart"in f&&Qt(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Kt&&ss(Kt,f)||(Kt=f,f=Ka(yh,"onSelect"),0<f.length&&(s=new Ct("onSelect","select",null,s,h),n.push({event:s,listeners:f}),s.target=ni)))}function Bo(n,s){var h={};return h[n.toLowerCase()]=s.toLowerCase(),h["Webkit"+n]="webkit"+s,h["Moz"+n]="moz"+s,h}var Or={animationend:Bo("Animation","AnimationEnd"),animationiteration:Bo("Animation","AnimationIteration"),animationstart:Bo("Animation","AnimationStart"),transitionend:Bo("Transition","TransitionEnd")},Wr={},Lo={};d&&(Lo=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Uo(n){if(Wr[n])return Wr[n];if(!Or[n])return n;var s=Or[n],h;for(h in s)if(s.hasOwnProperty(h)&&h in Lo)return Wr[n]=s[h];return n}var au=Uo("animationend"),vh=Uo("animationiteration"),_h=Uo("animationstart"),xh=Uo("transitionend"),wh=new Map,Eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(n,s){wh.set(n,s),a(s,[n])}for(var lu=0;lu<Eh.length;lu++){var uu=Eh[lu],qa=uu.toLowerCase(),Fc=uu[0].toUpperCase()+uu.slice(1);Si(qa,"on"+Fc)}Si(au,"onAnimationEnd"),Si(vh,"onAnimationIteration"),Si(_h,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(xh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hu=new Set("cancel close invalid load scroll toggle".split(" ").concat(as));function Sh(n,s,h){var f=n.type||"unknown-event";n.currentTarget=h,Gl(f,s,void 0,n),n.currentTarget=null}function cu(n,s){s=(s&4)!==0;for(var h=0;h<n.length;h++){var f=n[h],y=f.event;f=f.listeners;e:{var E=void 0;if(s)for(var R=f.length-1;0<=R;R--){var j=f[R],$=j.instance,oe=j.currentTarget;if(j=j.listener,$!==E&&y.isPropagationStopped())break e;Sh(y,j,oe),E=$}else for(R=0;R<f.length;R++){if(j=f[R],$=j.instance,oe=j.currentTarget,j=j.listener,$!==E&&y.isPropagationStopped())break e;Sh(y,j,oe),E=$}}}if(Zi)throw n=mi,Zi=!1,mi=null,n}function Pt(n,s){var h=s[Ar];h===void 0&&(h=s[Ar]=new Set);var f=n+"__bubble";h.has(f)||(fu(s,n,2,!1),h.add(f))}function du(n,s,h){var f=0;s&&(f|=4),fu(h,n,f,s)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function zo(n){if(!n[Qa]){n[Qa]=!0,r.forEach(function(h){h!=="selectionchange"&&(hu.has(h)||du(h,!1,n),du(h,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Qa]||(s[Qa]=!0,du("selectionchange",!1,s))}}function fu(n,s,h,f){switch(tn(s)){case 1:var y=To;break;case 4:y=Ao;break;default:y=Co}h=y.bind(null,s,h,n),y=void 0,!wo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),f?y!==void 0?n.addEventListener(s,h,{capture:!0,passive:y}):n.addEventListener(s,h,!0):y!==void 0?n.addEventListener(s,h,{passive:y}):n.addEventListener(s,h,!1)}function pu(n,s,h,f,y){var E=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var j=f.stateNode.containerInfo;if(j===y||j.nodeType===8&&j.parentNode===y)break;if(R===4)for(R=f.return;R!==null;){var $=R.tag;if(($===3||$===4)&&($=R.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;R=R.return}for(;j!==null;){if(R=ls(j),R===null)return;if($=R.tag,$===5||$===6){f=E=R;continue e}j=j.parentNode}}f=f.return}xo(function(){var oe=E,we=_t(h),Se=[];e:{var _e=wh.get(n);if(_e!==void 0){var Oe=Ct,Ge=n;switch(n){case"keypress":if(La(h)===0)break e;case"keydown":case"keyup":Oe=ko;break;case"focusin":Ge="focus",Oe=Ua;break;case"focusout":Ge="blur",Oe=Ua;break;case"beforeblur":case"afterblur":Oe=Ua;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=Pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=Ic;break;case au:case vh:case _h:Oe=Jl;break;case xh:Oe=rs;break;case"scroll":Oe=zn;break;case"wheel":Oe=Mc;break;case"copy":case"cut":case"paste":Oe=Gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=ts}var Ve=(s&4)!==0,lr=!Ve&&n==="scroll",J=Ve?_e!==null?_e+"Capture":null:_e;Ve=[];for(var Y=oe,re;Y!==null;){re=Y;var Ce=re.stateNode;if(re.tag===5&&Ce!==null&&(re=Ce,J!==null&&(Ce=Qi(Y,J),Ce!=null&&Ve.push(Go(Y,Ce,re)))),lr)break;Y=Y.return}0<Ve.length&&(_e=new Oe(_e,Ge,null,h,we),Se.push({event:_e,listeners:Ve}))}}if((s&7)===0){e:{if(_e=n==="mouseover"||n==="pointerover",Oe=n==="mouseout"||n==="pointerout",_e&&h!==ut&&(Ge=h.relatedTarget||h.fromElement)&&(ls(Ge)||Ge[jt]))break e;if((Oe||_e)&&(_e=we.window===we?we:(_e=we.ownerDocument)?_e.defaultView||_e.parentWindow:window,Oe?(Ge=h.relatedTarget||h.toElement,Oe=oe,Ge=Ge?ls(Ge):null,Ge!==null&&(lr=Ln(Ge),Ge!==lr||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Oe=null,Ge=oe),Oe!==Ge)){if(Ve=oh,Ce="onMouseLeave",J="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(Ve=ts,Ce="onPointerLeave",J="onPointerEnter",Y="pointer"),lr=Oe==null?_e:js(Oe),re=Ge==null?_e:js(Ge),_e=new Ve(Ce,Y+"leave",Oe,h,we),_e.target=lr,_e.relatedTarget=re,Ce=null,ls(we)===oe&&(Ve=new Ve(J,Y+"enter",Ge,h,we),Ve.target=re,Ve.relatedTarget=lr,Ce=Ve),lr=Ce,Oe&&Ge)t:{for(Ve=Oe,J=Ge,Y=0,re=Ve;re;re=Ho(re))Y++;for(re=0,Ce=J;Ce;Ce=Ho(Ce))re++;for(;0<Y-re;)Ve=Ho(Ve),Y--;for(;0<re-Y;)J=Ho(J),re--;for(;Y--;){if(Ve===J||J!==null&&Ve===J.alternate)break t;Ve=Ho(Ve),J=Ho(J)}Ve=null}else Ve=null;Oe!==null&&bh(Se,_e,Oe,Ve,!1),Ge!==null&&lr!==null&&bh(Se,lr,Ge,Ve,!0)}}e:{if(_e=oe?js(oe):window,Oe=_e.nodeName&&_e.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&_e.type==="file")var Ye=Va;else if(Do(_e))if(rn)Ye=nu;else{Ye=mh;var Ze=Oc}else(Oe=_e.nodeName)&&Oe.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ye=Ht);if(Ye&&(Ye=Ye(n,oe))){Wa(Se,Ye,h,we);break e}Ze&&Ze(n,_e,oe),n==="focusout"&&(Ze=_e._wrapperState)&&Ze.controlled&&_e.type==="number"&&Kn(_e,"number",_e.value)}switch(Ze=oe?js(oe):window,n){case"focusin":(Do(Ze)||Ze.contentEditable==="true")&&(ni=Ze,yh=oe,Kt=null);break;case"focusout":Kt=yh=ni=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,ou(Se,h,we);break;case"selectionchange":if(Xa)break;case"keydown":case"keyup":ou(Se,h,we)}var Je;if(ri)e:{switch(n){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Us?tu(n,h)&&(rt="onCompositionEnd"):n==="keydown"&&h.keyCode===229&&(rt="onCompositionStart");rt&&(Ha&&h.locale!=="ko"&&(Us||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Us&&(Je=es()):(jr=we,gn="value"in jr?jr.value:jr.textContent,Us=!0)),Ze=Ka(oe,rt),0<Ze.length&&(rt=new za(rt,n,null,h,we),Se.push({event:rt,listeners:Ze}),Je?rt.data=Je:(Je=ja(h),Je!==null&&(rt.data=Je)))),(Je=kc?Dc(n,h):Nc(n,h))&&(oe=Ka(oe,"onBeforeInput"),0<oe.length&&(we=new za("onBeforeInput","beforeinput",null,h,we),Se.push({event:we,listeners:oe}),we.data=Je))}cu(Se,s)})}function Go(n,s,h){return{instance:n,listener:s,currentTarget:h}}function Ka(n,s){for(var h=s+"Capture",f=[];n!==null;){var y=n,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Qi(n,h),E!=null&&f.unshift(Go(n,E,y)),E=Qi(n,s),E!=null&&f.push(Go(n,E,y))),n=n.return}return f}function Ho(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bh(n,s,h,f,y){for(var E=s._reactName,R=[];h!==null&&h!==f;){var j=h,$=j.alternate,oe=j.stateNode;if($!==null&&$===f)break;j.tag===5&&oe!==null&&(j=oe,y?($=Qi(h,E),$!=null&&R.unshift(Go(h,$,j))):y||($=Qi(h,E),$!=null&&R.push(Go(h,$,j)))),h=h.return}R.length!==0&&n.push({event:s,listeners:R})}var kf=/\r\n?/g,Df=/\u0000|\uFFFD/g;function Th(n){return(typeof n=="string"?n:""+n).replace(kf,`
`).replace(Df,"")}function Za(n,s,h){if(s=Th(s),Th(n)!==s&&h)throw Error(t(425))}function Ja(){}var jo=null,Ah=null;function Ch(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,Wo=typeof clearTimeout=="function"?clearTimeout:void 0,mu=typeof Promise=="function"?Promise:void 0,Rh=typeof queueMicrotask=="function"?queueMicrotask:typeof mu<"u"?function(n){return mu.resolve(null).then(n).catch(Nf)}:Ph;function Nf(n){setTimeout(function(){throw n})}function gu(n,s){var h=s,f=0;do{var y=h.nextSibling;if(n.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(f===0){n.removeChild(y),Os(s);return}f--}else h!=="$"&&h!=="$?"&&h!=="$!"||f++;h=y}while(h);Os(s)}function bi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Ih(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var h=n.data;if(h==="$"||h==="$!"||h==="$?"){if(s===0)return n;s--}else h==="/$"&&s++}n=n.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),jn="__reactFiber$"+Hs,el="__reactProps$"+Hs,jt="__reactContainer$"+Hs,Ar="__reactEvents$"+Hs,Bc="__reactListeners$"+Hs,Lc="__reactHandles$"+Hs;function ls(n){var s=n[jn];if(s)return s;for(var h=n.parentNode;h;){if(s=h[jt]||h[jn]){if(h=s.alternate,s.child!==null||h!==null&&h.child!==null)for(n=Ih(n);n!==null;){if(h=n[jn])return h;n=Ih(n)}return s}n=h,h=n.parentNode}return null}function $o(n){return n=n[jn]||n[jt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function js(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Vo(n){return n[el]||null}var yu=[],us=-1;function Ti(n){return{current:n}}function Rt(n){0>us||(n.current=yu[us],yu[us]=null,us--)}function xt(n,s){us++,yu[us]=n.current,n.current=s}var _n={},sr=Ti(_n),vr=Ti(!1),Ai=_n;function hs(n,s){var h=n.type.contextTypes;if(!h)return _n;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in h)y[E]=s[E];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=y),y}function Fr(n){return n=n.childContextTypes,n!=null}function Xo(){Rt(vr),Rt(sr)}function tl(n,s,h){if(sr.current!==_n)throw Error(t(168));xt(sr,s),xt(vr,h)}function Mh(n,s,h){var f=n.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return h;f=f.getChildContext();for(var y in f)if(!(y in s))throw Error(t(108,xe(n)||"Unknown",y));return D({},h,f)}function Yo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||_n,Ai=sr.current,xt(sr,n),xt(vr,vr.current),!0}function kh(n,s,h){var f=n.stateNode;if(!f)throw Error(t(169));h?(n=Mh(n,s,Ai),f.__reactInternalMemoizedMergedChildContext=n,Rt(vr),Rt(sr),xt(sr,n)):Rt(vr),xt(vr,h)}var xn=null,wn=!1,En=!1;function Dh(n){xn===null?xn=[n]:xn.push(n)}function Uc(n){wn=!0,Dh(n)}function Sn(){if(!En&&xn!==null){En=!0;var n=0,s=pt;try{var h=xn;for(pt=1;n<h.length;n++){var f=h[n];do f=f(!0);while(f!==null)}xn=null,wn=!1}catch(y){throw xn!==null&&(xn=xn.slice(n+1)),jl(Pa,Sn),y}finally{pt=s,En=!1}}return null}var Zt=[],qo=0,vu=null,Ws=0,bt=[],bn=0,Ne=null,$r=1,ii="";function cs(n,s){Zt[qo++]=Ws,Zt[qo++]=vu,vu=n,Ws=s}function Qo(n,s,h){bt[bn++]=$r,bt[bn++]=ii,bt[bn++]=Ne,Ne=n;var f=$r;n=ii;var y=32-fr(f)-1;f&=~(1<<y),h+=1;var E=32-fr(s)+y;if(30<E){var R=y-y%5;E=(f&(1<<R)-1).toString(32),f>>=R,y-=R,$r=1<<32-fr(s)+y|h<<y|f,ii=E+n}else $r=1<<E|h<<y|f,ii=n}function Ko(n){n.return!==null&&(cs(n,1),Qo(n,1,0))}function rl(n){for(;n===vu;)vu=Zt[--qo],Zt[qo]=null,Ws=Zt[--qo],Zt[qo]=null;for(;n===Ne;)Ne=bt[--bn],bt[bn]=null,ii=bt[--bn],bt[bn]=null,$r=bt[--bn],bt[bn]=null}var Vr=null,Xr=null,Nt=!1,sn=null;function _u(n,s){var h=ui(5,null,null,0);h.elementType="DELETED",h.stateNode=s,h.return=n,s=n.deletions,s===null?(n.deletions=[h],n.flags|=16):s.push(h)}function Cr(n,s){switch(n.tag){case 5:var h=n.type;return s=s.nodeType!==1||h.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Vr=n,Xr=bi(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Vr=n,Xr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(h=Ne!==null?{id:$r,overflow:ii}:null,n.memoizedState={dehydrated:s,treeContext:h,retryLane:1073741824},h=ui(18,null,null,0),h.stateNode=s,h.return=n,n.child=h,Vr=n,Xr=null,!0):!1;default:return!1}}function Tn(n){return(n.mode&1)!==0&&(n.flags&128)===0}function An(n){if(Nt){var s=Xr;if(s){var h=s;if(!Cr(n,s)){if(Tn(n))throw Error(t(418));s=bi(h.nextSibling);var f=Vr;s&&Cr(n,s)?_u(f,h):(n.flags=n.flags&-4097|2,Nt=!1,Vr=n)}}else{if(Tn(n))throw Error(t(418));n.flags=n.flags&-4097|2,Nt=!1,Vr=n}}}function xu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Vr=n}function nl(n){if(n!==Vr)return!1;if(!Nt)return xu(n),Nt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Ch(n.type,n.memoizedProps)),s&&(s=Xr)){if(Tn(n))throw Cn(),Error(t(418));for(;s;)_u(n,s),s=bi(s.nextSibling)}if(xu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var h=n.data;if(h==="/$"){if(s===0){Xr=bi(n.nextSibling);break e}s--}else h!=="$"&&h!=="$!"&&h!=="$?"||s++}n=n.nextSibling}Xr=null}}else Xr=Vr?bi(n.stateNode.nextSibling):null;return!0}function Cn(){for(var n=Xr;n;)n=bi(n.nextSibling)}function $s(){Xr=Vr=null,Nt=!1}function Pn(n){sn===null?sn=[n]:sn.push(n)}var Of=W.ReactCurrentBatchConfig;function Zo(n,s,h){if(n=h.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var f=h.stateNode}if(!f)throw Error(t(147,n));var y=f,E=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===E?s.ref:(s=function(R){var j=y.refs;R===null?delete j[E]:j[E]=R},s._stringRef=E,s)}if(typeof n!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,n))}return n}function il(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Nh(n){var s=n._init;return s(n._payload)}function Oh(n){function s(J,Y){if(n){var re=J.deletions;re===null?(J.deletions=[Y],J.flags|=16):re.push(Y)}}function h(J,Y){if(!n)return null;for(;Y!==null;)s(J,Y),Y=Y.sibling;return null}function f(J,Y){for(J=new Map;Y!==null;)Y.key!==null?J.set(Y.key,Y):J.set(Y.index,Y),Y=Y.sibling;return J}function y(J,Y){return J=la(J,Y),J.index=0,J.sibling=null,J}function E(J,Y,re){return J.index=re,n?(re=J.alternate,re!==null?(re=re.index,re<Y?(J.flags|=2,Y):re):(J.flags|=2,Y)):(J.flags|=1048576,Y)}function R(J){return n&&J.alternate===null&&(J.flags|=2),J}function j(J,Y,re,Ce){return Y===null||Y.tag!==6?(Y=sp(re,J.mode,Ce),Y.return=J,Y):(Y=y(Y,re),Y.return=J,Y)}function $(J,Y,re,Ce){var Ye=re.type;return Ye===N?we(J,Y,re.props.children,Ce,re.key):Y!==null&&(Y.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===B&&Nh(Ye)===Y.type)?(Ce=y(Y,re.props),Ce.ref=Zo(J,Y,re),Ce.return=J,Ce):(Ce=nd(re.type,re.key,re.props,null,J.mode,Ce),Ce.ref=Zo(J,Y,re),Ce.return=J,Ce)}function oe(J,Y,re,Ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==re.containerInfo||Y.stateNode.implementation!==re.implementation?(Y=op(re,J.mode,Ce),Y.return=J,Y):(Y=y(Y,re.children||[]),Y.return=J,Y)}function we(J,Y,re,Ce,Ye){return Y===null||Y.tag!==7?(Y=xl(re,J.mode,Ce,Ye),Y.return=J,Y):(Y=y(Y,re),Y.return=J,Y)}function Se(J,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=sp(""+Y,J.mode,re),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case U:return re=nd(Y.type,Y.key,Y.props,null,J.mode,re),re.ref=Zo(J,null,Y),re.return=J,re;case K:return Y=op(Y,J.mode,re),Y.return=J,Y;case B:var Ce=Y._init;return Se(J,Ce(Y._payload),re)}if(cr(Y)||H(Y))return Y=xl(Y,J.mode,re,null),Y.return=J,Y;il(J,Y)}return null}function _e(J,Y,re,Ce){var Ye=Y!==null?Y.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Ye!==null?null:j(J,Y,""+re,Ce);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case U:return re.key===Ye?$(J,Y,re,Ce):null;case K:return re.key===Ye?oe(J,Y,re,Ce):null;case B:return Ye=re._init,_e(J,Y,Ye(re._payload),Ce)}if(cr(re)||H(re))return Ye!==null?null:we(J,Y,re,Ce,null);il(J,re)}return null}function Oe(J,Y,re,Ce,Ye){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return J=J.get(re)||null,j(Y,J,""+Ce,Ye);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case U:return J=J.get(Ce.key===null?re:Ce.key)||null,$(Y,J,Ce,Ye);case K:return J=J.get(Ce.key===null?re:Ce.key)||null,oe(Y,J,Ce,Ye);case B:var Ze=Ce._init;return Oe(J,Y,re,Ze(Ce._payload),Ye)}if(cr(Ce)||H(Ce))return J=J.get(re)||null,we(Y,J,Ce,Ye,null);il(Y,Ce)}return null}function Ge(J,Y,re,Ce){for(var Ye=null,Ze=null,Je=Y,rt=Y=0,Ir=null;Je!==null&&rt<re.length;rt++){Je.index>rt?(Ir=Je,Je=null):Ir=Je.sibling;var wt=_e(J,Je,re[rt],Ce);if(wt===null){Je===null&&(Je=Ir);break}n&&Je&&wt.alternate===null&&s(J,Je),Y=E(wt,Y,rt),Ze===null?Ye=wt:Ze.sibling=wt,Ze=wt,Je=Ir}if(rt===re.length)return h(J,Je),Nt&&cs(J,rt),Ye;if(Je===null){for(;rt<re.length;rt++)Je=Se(J,re[rt],Ce),Je!==null&&(Y=E(Je,Y,rt),Ze===null?Ye=Je:Ze.sibling=Je,Ze=Je);return Nt&&cs(J,rt),Ye}for(Je=f(J,Je);rt<re.length;rt++)Ir=Oe(Je,J,rt,re[rt],Ce),Ir!==null&&(n&&Ir.alternate!==null&&Je.delete(Ir.key===null?rt:Ir.key),Y=E(Ir,Y,rt),Ze===null?Ye=Ir:Ze.sibling=Ir,Ze=Ir);return n&&Je.forEach(function(ua){return s(J,ua)}),Nt&&cs(J,rt),Ye}function Ve(J,Y,re,Ce){var Ye=H(re);if(typeof Ye!="function")throw Error(t(150));if(re=Ye.call(re),re==null)throw Error(t(151));for(var Ze=Ye=null,Je=Y,rt=Y=0,Ir=null,wt=re.next();Je!==null&&!wt.done;rt++,wt=re.next()){Je.index>rt?(Ir=Je,Je=null):Ir=Je.sibling;var ua=_e(J,Je,wt.value,Ce);if(ua===null){Je===null&&(Je=Ir);break}n&&Je&&ua.alternate===null&&s(J,Je),Y=E(ua,Y,rt),Ze===null?Ye=ua:Ze.sibling=ua,Ze=ua,Je=Ir}if(wt.done)return h(J,Je),Nt&&cs(J,rt),Ye;if(Je===null){for(;!wt.done;rt++,wt=re.next())wt=Se(J,wt.value,Ce),wt!==null&&(Y=E(wt,Y,rt),Ze===null?Ye=wt:Ze.sibling=wt,Ze=wt);return Nt&&cs(J,rt),Ye}for(Je=f(J,Je);!wt.done;rt++,wt=re.next())wt=Oe(Je,J,rt,wt.value,Ce),wt!==null&&(n&&wt.alternate!==null&&Je.delete(wt.key===null?rt:wt.key),Y=E(wt,Y,rt),Ze===null?Ye=wt:Ze.sibling=wt,Ze=wt);return n&&Je.forEach(function(p1){return s(J,p1)}),Nt&&cs(J,rt),Ye}function lr(J,Y,re,Ce){if(typeof re=="object"&&re!==null&&re.type===N&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case U:e:{for(var Ye=re.key,Ze=Y;Ze!==null;){if(Ze.key===Ye){if(Ye=re.type,Ye===N){if(Ze.tag===7){h(J,Ze.sibling),Y=y(Ze,re.props.children),Y.return=J,J=Y;break e}}else if(Ze.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===B&&Nh(Ye)===Ze.type){h(J,Ze.sibling),Y=y(Ze,re.props),Y.ref=Zo(J,Ze,re),Y.return=J,J=Y;break e}h(J,Ze);break}else s(J,Ze);Ze=Ze.sibling}re.type===N?(Y=xl(re.props.children,J.mode,Ce,re.key),Y.return=J,J=Y):(Ce=nd(re.type,re.key,re.props,null,J.mode,Ce),Ce.ref=Zo(J,Y,re),Ce.return=J,J=Ce)}return R(J);case K:e:{for(Ze=re.key;Y!==null;){if(Y.key===Ze)if(Y.tag===4&&Y.stateNode.containerInfo===re.containerInfo&&Y.stateNode.implementation===re.implementation){h(J,Y.sibling),Y=y(Y,re.children||[]),Y.return=J,J=Y;break e}else{h(J,Y);break}else s(J,Y);Y=Y.sibling}Y=op(re,J.mode,Ce),Y.return=J,J=Y}return R(J);case B:return Ze=re._init,lr(J,Y,Ze(re._payload),Ce)}if(cr(re))return Ge(J,Y,re,Ce);if(H(re))return Ve(J,Y,re,Ce);il(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Y!==null&&Y.tag===6?(h(J,Y.sibling),Y=y(Y,re),Y.return=J,J=Y):(h(J,Y),Y=sp(re,J.mode,Ce),Y.return=J,J=Y),R(J)):h(J,Y)}return lr}var Ci=Oh(!0),sl=Oh(!1),Vs=Ti(null),Xs=null,Pi=null,Ys=null;function ol(){Ys=Pi=Xs=null}function al(n){var s=Vs.current;Rt(Vs),n._currentValue=s}function ll(n,s,h){for(;n!==null;){var f=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),n===h)break;n=n.return}}function qs(n,s){Xs=n,Ys=Pi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(q=!0),n.firstContext=null)}function Yr(n){var s=n._currentValue;if(Ys!==n)if(n={context:n,memoizedValue:s,next:null},Pi===null){if(Xs===null)throw Error(t(308));Pi=n,Xs.dependencies={lanes:0,firstContext:n}}else Pi=Pi.next=n;return s}var Qs=null;function Jo(n){Qs===null?Qs=[n]:Qs.push(n)}function wu(n,s,h,f){var y=s.interleaved;return y===null?(h.next=h,Jo(s)):(h.next=y.next,y.next=h),s.interleaved=h,St(n,f)}function St(n,s){n.lanes|=s;var h=n.alternate;for(h!==null&&(h.lanes|=s),h=n,n=n.return;n!==null;)n.childLanes|=s,h=n.alternate,h!==null&&(h.childLanes|=s),h=n,n=n.return;return h.tag===3?h.stateNode:null}var nt=!1;function Jt(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xt(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ot(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function er(n,s,h){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(vt&2)!==0){var y=f.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),f.pending=s,St(n,h)}return y=f.interleaved,y===null?(s.next=s,Jo(f)):(s.next=y.next,y.next=s),f.interleaved=s,St(n,h)}function Ri(n,s,h){if(s=s.updateQueue,s!==null&&(s=s.shared,(h&4194240)!==0)){var f=s.lanes;f&=n.pendingLanes,h|=f,s.lanes=h,Ma(n,h)}}function tr(n,s){var h=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,h===f)){var y=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var R={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?y=E=R:E=E.next=R,h=h.next}while(h!==null);E===null?y=E=s:E=E.next=s}else y=E=s;h={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:f.shared,effects:f.effects},n.updateQueue=h;return}n=h.lastBaseUpdate,n===null?h.firstBaseUpdate=s:n.next=s,h.lastBaseUpdate=s}function ds(n,s,h,f){var y=n.updateQueue;nt=!1;var E=y.firstBaseUpdate,R=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var $=j,oe=$.next;$.next=null,R===null?E=oe:R.next=oe,R=$;var we=n.alternate;we!==null&&(we=we.updateQueue,j=we.lastBaseUpdate,j!==R&&(j===null?we.firstBaseUpdate=oe:j.next=oe,we.lastBaseUpdate=$))}if(E!==null){var Se=y.baseState;R=0,we=oe=$=null,j=E;do{var _e=j.lane,Oe=j.eventTime;if((f&_e)===_e){we!==null&&(we=we.next={eventTime:Oe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Ge=n,Ve=j;switch(_e=s,Oe=h,Ve.tag){case 1:if(Ge=Ve.payload,typeof Ge=="function"){Se=Ge.call(Oe,Se,_e);break e}Se=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ve.payload,_e=typeof Ge=="function"?Ge.call(Oe,Se,_e):Ge,_e==null)break e;Se=D({},Se,_e);break e;case 2:nt=!0}}j.callback!==null&&j.lane!==0&&(n.flags|=64,_e=y.effects,_e===null?y.effects=[j]:_e.push(j))}else Oe={eventTime:Oe,lane:_e,tag:j.tag,payload:j.payload,callback:j.callback,next:null},we===null?(oe=we=Oe,$=Se):we=we.next=Oe,R|=_e;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;_e=j,j=_e.next,_e.next=null,y.lastBaseUpdate=_e,y.shared.pending=null}}while(!0);if(we===null&&($=Se),y.baseState=$,y.firstBaseUpdate=oe,y.lastBaseUpdate=we,s=y.shared.interleaved,s!==null){y=s;do R|=y.lane,y=y.next;while(y!==s)}else E===null&&(y.shared.lanes=0);gl|=R,n.lanes=R,n.memoizedState=Se}}function fs(n,s,h){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var f=n[s],y=f.callback;if(y!==null){if(f.callback=null,f=h,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var ps={},Rn=Ti(ps),Ii=Ti(ps),_r=Ti(ps);function Mi(n){if(n===ps)throw Error(t(174));return n}function ul(n,s){switch(xt(_r,s),xt(Ii,n),xt(Rn,ps),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mo(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=mo(s,n)}Rt(Rn),xt(Rn,s)}function on(){Rt(Rn),Rt(Ii),Rt(_r)}function Ks(n){Mi(_r.current);var s=Mi(Rn.current),h=mo(s,n.type);s!==h&&(xt(Ii,n),xt(Rn,h))}function Eu(n){Ii.current===n&&(Rt(Rn),Rt(Ii))}var It=Ti(0);function ea(n){for(var s=n;s!==null;){if(s.tag===13){var h=s.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var si=[];function ta(){for(var n=0;n<si.length;n++)si[n]._workInProgressVersionPrimary=null;si.length=0}var Wn=W.ReactCurrentDispatcher,ra=W.ReactCurrentBatchConfig,$n=0,Ft=null,Wt=null,Yt=null,or=!1,In=!1,Pr=0,qr=0;function xr(){throw Error(t(321))}function hl(n,s){if(s===null)return!1;for(var h=0;h<s.length&&h<n.length;h++)if(!nn(n[h],s[h]))return!1;return!0}function cl(n,s,h,f,y,E){if($n=E,Ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Wn.current=n===null||n.memoizedState===null?Pu:Bf,n=h(f,y),In){E=0;do{if(In=!1,Pr=0,25<=E)throw Error(t(301));E+=1,Yt=Wt=null,s.updateQueue=null,Wn.current=Lf,n=h(f,y)}while(In)}if(Wn.current=ml,s=Wt!==null&&Wt.next!==null,$n=0,Yt=Wt=Ft=null,or=!1,s)throw Error(t(300));return n}function oi(){var n=Pr!==0;return Pr=0,n}function Vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ft.memoizedState=Yt=n:Yt=Yt.next=n,Yt}function an(){if(Wt===null){var n=Ft.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var s=Yt===null?Ft.memoizedState:Yt.next;if(s!==null)Yt=s,Wt=n;else{if(n===null)throw Error(t(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Yt===null?Ft.memoizedState=Yt=n:Yt=Yt.next=n}return Yt}function Zs(n,s){return typeof s=="function"?s(n):s}function ki(n){var s=an(),h=s.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=n;var f=Wt,y=f.baseQueue,E=h.pending;if(E!==null){if(y!==null){var R=y.next;y.next=E.next,E.next=R}f.baseQueue=y=E,h.pending=null}if(y!==null){E=y.next,f=f.baseState;var j=R=null,$=null,oe=E;do{var we=oe.lane;if(($n&we)===we)$!==null&&($=$.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),f=oe.hasEagerState?oe.eagerState:n(f,oe.action);else{var Se={lane:we,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};$===null?(j=$=Se,R=f):$=$.next=Se,Ft.lanes|=we,gl|=we}oe=oe.next}while(oe!==null&&oe!==E);$===null?R=f:$.next=j,nn(f,s.memoizedState)||(q=!0),s.memoizedState=f,s.baseState=R,s.baseQueue=$,h.lastRenderedState=f}if(n=h.interleaved,n!==null){y=n;do E=y.lane,Ft.lanes|=E,gl|=E,y=y.next;while(y!==n)}else y===null&&(h.lanes=0);return[s.memoizedState,h.dispatch]}function Su(n){var s=an(),h=s.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=n;var f=h.dispatch,y=h.pending,E=s.memoizedState;if(y!==null){h.pending=null;var R=y=y.next;do E=n(E,R.action),R=R.next;while(R!==y);nn(E,s.memoizedState)||(q=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),h.lastRenderedState=E}return[E,f]}function Fh(){}function bu(n,s){var h=Ft,f=an(),y=s(),E=!nn(f.memoizedState,y);if(E&&(f.memoizedState=y,q=!0),f=f.queue,Gh(Gc.bind(null,h,f,n),[n]),f.getSnapshot!==s||E||Yt!==null&&Yt.memoizedState.tag&1){if(h.flags|=2048,Xn(9,zc.bind(null,h,f,y,s),void 0,null),Rr===null)throw Error(t(349));($n&30)!==0||dl(h,s,y)}return y}function dl(n,s,h){n.flags|=16384,n={getSnapshot:s,value:h},s=Ft.updateQueue,s===null?(s={lastEffect:null,stores:null},Ft.updateQueue=s,s.stores=[n]):(h=s.stores,h===null?s.stores=[n]:h.push(n))}function zc(n,s,h,f){s.value=h,s.getSnapshot=f,Bh(s)&&Lh(n)}function Gc(n,s,h){return h(function(){Bh(s)&&Lh(n)})}function Bh(n){var s=n.getSnapshot;n=n.value;try{var h=s();return!nn(n,h)}catch{return!0}}function Lh(n){var s=St(n,1);s!==null&&Fi(s,n,1,-1)}function Js(n){var s=Vn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:n},s.queue=n,n=n.dispatch=Ff.bind(null,Ft,n),[s.memoizedState,n]}function Xn(n,s,h,f){return n={tag:n,create:s,destroy:h,deps:f,next:null},s=Ft.updateQueue,s===null?(s={lastEffect:null,stores:null},Ft.updateQueue=s,s.lastEffect=n.next=n):(h=s.lastEffect,h===null?s.lastEffect=n.next=n:(f=h.next,h.next=n,n.next=f,s.lastEffect=n)),n}function Uh(){return an().memoizedState}function Tt(n,s,h,f){var y=Vn();Ft.flags|=n,y.memoizedState=Xn(1|s,h,void 0,f===void 0?null:f)}function Tu(n,s,h,f){var y=an();f=f===void 0?null:f;var E=void 0;if(Wt!==null){var R=Wt.memoizedState;if(E=R.destroy,f!==null&&hl(f,R.deps)){y.memoizedState=Xn(s,h,E,f);return}}Ft.flags|=n,y.memoizedState=Xn(1|s,h,E,f)}function zh(n,s){return Tt(8390656,8,n,s)}function Gh(n,s){return Tu(2048,8,n,s)}function Hc(n,s){return Tu(4,2,n,s)}function Hh(n,s){return Tu(4,4,n,s)}function jc(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function ln(n,s,h){return h=h!=null?h.concat([n]):null,Tu(4,4,jc.bind(null,s,n),h)}function fl(){}function Di(n,s){var h=an();s=s===void 0?null:s;var f=h.memoizedState;return f!==null&&s!==null&&hl(s,f[1])?f[0]:(h.memoizedState=[n,s],n)}function pl(n,s){var h=an();s=s===void 0?null:s;var f=h.memoizedState;return f!==null&&s!==null&&hl(s,f[1])?f[0]:(n=n(),h.memoizedState=[n,s],n)}function ms(n,s,h){return($n&21)===0?(n.baseState&&(n.baseState=!1,q=!0),n.memoizedState=h):(nn(h,s)||(h=pn(),Ft.lanes|=h,gl|=h,n.baseState=!0),s)}function Au(n,s){var h=pt;pt=h!==0&&4>h?h:4,n(!0);var f=ra.transition;ra.transition={};try{n(!1),s()}finally{pt=h,ra.transition=f}}function Cu(){return an().memoizedState}function jh(n,s,h){var f=oa(n);if(h={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null},Wh(n))$h(s,h);else if(h=wu(n,s,h,f),h!==null){var y=un();Fi(h,n,f,y),Vh(h,s,f)}}function Ff(n,s,h){var f=oa(n),y={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null};if(Wh(n))$h(s,y);else{var E=n.alternate;if(n.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var R=s.lastRenderedState,j=E(R,h);if(y.hasEagerState=!0,y.eagerState=j,nn(j,R)){var $=s.interleaved;$===null?(y.next=y,Jo(s)):(y.next=$.next,$.next=y),s.interleaved=y;return}}catch{}finally{}h=wu(n,s,y,f),h!==null&&(y=un(),Fi(h,n,f,y),Vh(h,s,f))}}function Wh(n){var s=n.alternate;return n===Ft||s!==null&&s===Ft}function $h(n,s){In=or=!0;var h=n.pending;h===null?s.next=s:(s.next=h.next,h.next=s),n.pending=s}function Vh(n,s,h){if((h&4194240)!==0){var f=s.lanes;f&=n.pendingLanes,h|=f,s.lanes=h,Ma(n,h)}}var ml={readContext:Yr,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},Pu={readContext:Yr,useCallback:function(n,s){return Vn().memoizedState=[n,s===void 0?null:s],n},useContext:Yr,useEffect:zh,useImperativeHandle:function(n,s,h){return h=h!=null?h.concat([n]):null,Tt(4194308,4,jc.bind(null,s,n),h)},useLayoutEffect:function(n,s){return Tt(4194308,4,n,s)},useInsertionEffect:function(n,s){return Tt(4,2,n,s)},useMemo:function(n,s){var h=Vn();return s=s===void 0?null:s,n=n(),h.memoizedState=[n,s],n},useReducer:function(n,s,h){var f=Vn();return s=h!==void 0?h(s):s,f.memoizedState=f.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},f.queue=n,n=n.dispatch=jh.bind(null,Ft,n),[f.memoizedState,n]},useRef:function(n){var s=Vn();return n={current:n},s.memoizedState=n},useState:Js,useDebugValue:fl,useDeferredValue:function(n){return Vn().memoizedState=n},useTransition:function(){var n=Js(!1),s=n[0];return n=Au.bind(null,n[1]),Vn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,h){var f=Ft,y=Vn();if(Nt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=s(),Rr===null)throw Error(t(349));($n&30)!==0||dl(f,s,h)}y.memoizedState=h;var E={value:h,getSnapshot:s};return y.queue=E,zh(Gc.bind(null,f,E,n),[n]),f.flags|=2048,Xn(9,zc.bind(null,f,E,h,s),void 0,null),h},useId:function(){var n=Vn(),s=Rr.identifierPrefix;if(Nt){var h=ii,f=$r;h=(f&~(1<<32-fr(f)-1)).toString(32)+h,s=":"+s+"R"+h,h=Pr++,0<h&&(s+="H"+h.toString(32)),s+=":"}else h=qr++,s=":"+s+"r"+h.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Bf={readContext:Yr,useCallback:Di,useContext:Yr,useEffect:Gh,useImperativeHandle:ln,useInsertionEffect:Hc,useLayoutEffect:Hh,useMemo:pl,useReducer:ki,useRef:Uh,useState:function(){return ki(Zs)},useDebugValue:fl,useDeferredValue:function(n){var s=an();return ms(s,Wt.memoizedState,n)},useTransition:function(){var n=ki(Zs)[0],s=an().memoizedState;return[n,s]},useMutableSource:Fh,useSyncExternalStore:bu,useId:Cu,unstable_isNewReconciler:!1},Lf={readContext:Yr,useCallback:Di,useContext:Yr,useEffect:Gh,useImperativeHandle:ln,useInsertionEffect:Hc,useLayoutEffect:Hh,useMemo:pl,useReducer:Su,useRef:Uh,useState:function(){return Su(Zs)},useDebugValue:fl,useDeferredValue:function(n){var s=an();return Wt===null?s.memoizedState=n:ms(s,Wt.memoizedState,n)},useTransition:function(){var n=Su(Zs)[0],s=an().memoizedState;return[n,s]},useMutableSource:Fh,useSyncExternalStore:bu,useId:Cu,unstable_isNewReconciler:!1};function l(n,s){if(n&&n.defaultProps){s=D({},s),n=n.defaultProps;for(var h in n)s[h]===void 0&&(s[h]=n[h]);return s}return s}function u(n,s,h,f){s=n.memoizedState,h=h(f,s),h=h==null?s:D({},s,h),n.memoizedState=h,n.lanes===0&&(n.updateQueue.baseState=h)}var p={isMounted:function(n){return(n=n._reactInternals)?Ln(n)===n:!1},enqueueSetState:function(n,s,h){n=n._reactInternals;var f=un(),y=oa(n),E=Ot(f,y);E.payload=s,h!=null&&(E.callback=h),s=er(n,E,y),s!==null&&(Fi(s,n,y,f),Ri(s,n,y))},enqueueReplaceState:function(n,s,h){n=n._reactInternals;var f=un(),y=oa(n),E=Ot(f,y);E.tag=1,E.payload=s,h!=null&&(E.callback=h),s=er(n,E,y),s!==null&&(Fi(s,n,y,f),Ri(s,n,y))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var h=un(),f=oa(n),y=Ot(h,f);y.tag=2,s!=null&&(y.callback=s),s=er(n,y,f),s!==null&&(Fi(s,n,f,h),Ri(s,n,f))}};function v(n,s,h,f,y,E,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,E,R):s.prototype&&s.prototype.isPureReactComponent?!ss(h,f)||!ss(y,E):!0}function x(n,s,h){var f=!1,y=_n,E=s.contextType;return typeof E=="object"&&E!==null?E=Yr(E):(y=Fr(s)?Ai:sr.current,f=s.contextTypes,E=(f=f!=null)?hs(n,y):_n),s=new s(h,E),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=p,n.stateNode=s,s._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=y,n.__reactInternalMemoizedMaskedChildContext=E),s}function T(n,s,h,f){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(h,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(h,f),s.state!==n&&p.enqueueReplaceState(s,s.state,null)}function O(n,s,h,f){var y=n.stateNode;y.props=h,y.state=n.memoizedState,y.refs={},Jt(n);var E=s.contextType;typeof E=="object"&&E!==null?y.context=Yr(E):(E=Fr(s)?Ai:sr.current,y.context=hs(n,E)),y.state=n.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(u(n,s,E,h),y.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(s=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),s!==y.state&&p.enqueueReplaceState(y,y.state,null),ds(n,h,y,f),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308)}function V(n,s){try{var h="",f=s;do h+=ue(f),f=f.return;while(f);var y=h}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:n,source:s,stack:y,digest:null}}function ee(n,s,h){return{value:n,source:null,stack:h??null,digest:s??null}}function he(n,s){try{console.error(s.value)}catch(h){setTimeout(function(){throw h})}}var ge=typeof WeakMap=="function"?WeakMap:Map;function Ie(n,s,h){h=Ot(-1,h),h.tag=3,h.payload={element:null};var f=s.value;return h.callback=function(){Kc||(Kc=!0,Kf=f),he(n,s)},h}function fe(n,s,h){h=Ot(-1,h),h.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var y=s.value;h.payload=function(){return f(y)},h.callback=function(){he(n,s)}}var E=n.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){he(n,s),typeof f!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var R=s.stack;this.componentDidCatch(s.value,{componentStack:R!==null?R:""})}),h}function be(n,s,h){var f=n.pingCache;if(f===null){f=n.pingCache=new ge;var y=new Set;f.set(s,y)}else y=f.get(s),y===void 0&&(y=new Set,f.set(s,y));y.has(h)||(y.add(h),n=n1.bind(null,n,s,h),s.then(n,n))}function ze(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function st(n,s,h,f,y){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(s=Ot(-1,1),s.tag=2,er(h,s,1))),h.lanes|=1),n):(n.flags|=65536,n.lanes=y,n)}var ye=W.ReactCurrentOwner,q=!1;function le(n,s,h,f){s.child=n===null?sl(s,null,h,f):Ci(s,n.child,h,f)}function Ee(n,s,h,f,y){h=h.render;var E=s.ref;return qs(s,y),f=cl(n,s,h,f,E,y),h=oi(),n!==null&&!q?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~y,eo(n,s,y)):(Nt&&h&&Ko(s),s.flags|=1,le(n,s,f,y),s.child)}function Qe(n,s,h,f,y){if(n===null){var E=h.type;return typeof E=="function"&&!ip(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(s.tag=15,s.type=E,gt(n,s,E,f,y)):(n=nd(h.type,null,f,s,s.mode,y),n.ref=s.ref,n.return=s,s.child=n)}if(E=n.child,(n.lanes&y)===0){var R=E.memoizedProps;if(h=h.compare,h=h!==null?h:ss,h(R,f)&&n.ref===s.ref)return eo(n,s,y)}return s.flags|=1,n=la(E,f),n.ref=s.ref,n.return=s,s.child=n}function gt(n,s,h,f,y){if(n!==null){var E=n.memoizedProps;if(ss(E,f)&&n.ref===s.ref)if(q=!1,s.pendingProps=f=E,(n.lanes&y)!==0)(n.flags&131072)!==0&&(q=!0);else return s.lanes=n.lanes,eo(n,s,y)}return ar(n,s,h,f,y)}function je(n,s,h){var f=s.pendingProps,y=f.children,E=n!==null?n.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Iu,Yn),Yn|=h;else{if((h&1073741824)===0)return n=E!==null?E.baseLanes|h:h,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,xt(Iu,Yn),Yn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=E!==null?E.baseLanes:h,xt(Iu,Yn),Yn|=f}else E!==null?(f=E.baseLanes|h,s.memoizedState=null):f=h,xt(Iu,Yn),Yn|=f;return le(n,s,y,h),s.child}function mt(n,s){var h=s.ref;(n===null&&h!==null||n!==null&&n.ref!==h)&&(s.flags|=512,s.flags|=2097152)}function ar(n,s,h,f,y){var E=Fr(h)?Ai:sr.current;return E=hs(s,E),qs(s,y),h=cl(n,s,h,f,E,y),f=oi(),n!==null&&!q?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~y,eo(n,s,y)):(Nt&&f&&Ko(s),s.flags|=1,le(n,s,h,y),s.child)}function yt(n,s,h,f,y){if(Fr(h)){var E=!0;Yo(s)}else E=!1;if(qs(s,y),s.stateNode===null)Vc(n,s),x(s,h,f),O(s,h,f,y),f=!0;else if(n===null){var R=s.stateNode,j=s.memoizedProps;R.props=j;var $=R.context,oe=h.contextType;typeof oe=="object"&&oe!==null?oe=Yr(oe):(oe=Fr(h)?Ai:sr.current,oe=hs(s,oe));var we=h.getDerivedStateFromProps,Se=typeof we=="function"||typeof R.getSnapshotBeforeUpdate=="function";Se||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==f||$!==oe)&&T(s,R,f,oe),nt=!1;var _e=s.memoizedState;R.state=_e,ds(s,f,R,y),$=s.memoizedState,j!==f||_e!==$||vr.current||nt?(typeof we=="function"&&(u(s,h,we,f),$=s.memoizedState),(j=nt||v(s,h,j,f,_e,$,oe))?(Se||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(s.flags|=4194308)):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=$),R.props=f,R.state=$,R.context=oe,f=j):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{R=s.stateNode,Xt(n,s),j=s.memoizedProps,oe=s.type===s.elementType?j:l(s.type,j),R.props=oe,Se=s.pendingProps,_e=R.context,$=h.contextType,typeof $=="object"&&$!==null?$=Yr($):($=Fr(h)?Ai:sr.current,$=hs(s,$));var Oe=h.getDerivedStateFromProps;(we=typeof Oe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==Se||_e!==$)&&T(s,R,f,$),nt=!1,_e=s.memoizedState,R.state=_e,ds(s,f,R,y);var Ge=s.memoizedState;j!==Se||_e!==Ge||vr.current||nt?(typeof Oe=="function"&&(u(s,h,Oe,f),Ge=s.memoizedState),(oe=nt||v(s,h,oe,f,_e,Ge,$)||!1)?(we||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(f,Ge,$),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(f,Ge,$)),typeof R.componentDidUpdate=="function"&&(s.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof R.componentDidUpdate!="function"||j===n.memoizedProps&&_e===n.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&_e===n.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Ge),R.props=f,R.state=Ge,R.context=$,f=oe):(typeof R.componentDidUpdate!="function"||j===n.memoizedProps&&_e===n.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&_e===n.memoizedState||(s.flags|=1024),f=!1)}return ai(n,s,h,f,E,y)}function ai(n,s,h,f,y,E){mt(n,s);var R=(s.flags&128)!==0;if(!f&&!R)return y&&kh(s,h,!1),eo(n,s,E);f=s.stateNode,ye.current=s;var j=R&&typeof h.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,n!==null&&R?(s.child=Ci(s,n.child,null,E),s.child=Ci(s,null,j,E)):le(n,s,j,E),s.memoizedState=f.state,y&&kh(s,h,!0),s.child}function Wc(n){var s=n.stateNode;s.pendingContext?tl(n,s.pendingContext,s.pendingContext!==s.context):s.context&&tl(n,s.context,!1),ul(n,s.containerInfo)}function Xg(n,s,h,f,y){return $s(),Pn(y),s.flags|=256,le(n,s,h,f),s.child}var Uf={dehydrated:null,treeContext:null,retryLane:0};function zf(n){return{baseLanes:n,cachePool:null,transitions:null}}function Yg(n,s,h){var f=s.pendingProps,y=It.current,E=!1,R=(s.flags&128)!==0,j;if((j=R)||(j=n!==null&&n.memoizedState===null?!1:(y&2)!==0),j?(E=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(y|=1),xt(It,y&1),n===null)return An(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(R=f.children,n=f.fallback,E?(f=s.mode,E=s.child,R={mode:"hidden",children:R},(f&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=R):E=id(R,f,0,null),n=xl(n,f,h,null),E.return=s,n.return=s,E.sibling=n,s.child=E,s.child.memoizedState=zf(h),s.memoizedState=Uf,n):Gf(s,R));if(y=n.memoizedState,y!==null&&(j=y.dehydrated,j!==null))return $x(n,s,R,f,j,y,h);if(E){E=f.fallback,R=s.mode,y=n.child,j=y.sibling;var $={mode:"hidden",children:f.children};return(R&1)===0&&s.child!==y?(f=s.child,f.childLanes=0,f.pendingProps=$,s.deletions=null):(f=la(y,$),f.subtreeFlags=y.subtreeFlags&14680064),j!==null?E=la(j,E):(E=xl(E,R,h,null),E.flags|=2),E.return=s,f.return=s,f.sibling=E,s.child=f,f=E,E=s.child,R=n.child.memoizedState,R=R===null?zf(h):{baseLanes:R.baseLanes|h,cachePool:null,transitions:R.transitions},E.memoizedState=R,E.childLanes=n.childLanes&~h,s.memoizedState=Uf,f}return E=n.child,n=E.sibling,f=la(E,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=h),f.return=s,f.sibling=null,n!==null&&(h=s.deletions,h===null?(s.deletions=[n],s.flags|=16):h.push(n)),s.child=f,s.memoizedState=null,f}function Gf(n,s){return s=id({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function $c(n,s,h,f){return f!==null&&Pn(f),Ci(s,n.child,null,h),n=Gf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function $x(n,s,h,f,y,E,R){if(h)return s.flags&256?(s.flags&=-257,f=ee(Error(t(422))),$c(n,s,R,f)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(E=f.fallback,y=s.mode,f=id({mode:"visible",children:f.children},y,0,null),E=xl(E,y,R,null),E.flags|=2,f.return=s,E.return=s,f.sibling=E,s.child=f,(s.mode&1)!==0&&Ci(s,n.child,null,R),s.child.memoizedState=zf(R),s.memoizedState=Uf,E);if((s.mode&1)===0)return $c(n,s,R,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var j=f.dgst;return f=j,E=Error(t(419)),f=ee(E,f,void 0),$c(n,s,R,f)}if(j=(R&n.childLanes)!==0,q||j){if(f=Rr,f!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|R))!==0?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,St(n,y),Fi(f,n,y,-1))}return np(),f=ee(Error(t(421))),$c(n,s,R,f)}return y.data==="$?"?(s.flags|=128,s.child=n.child,s=i1.bind(null,n),y._reactRetry=s,null):(n=E.treeContext,Xr=bi(y.nextSibling),Vr=s,Nt=!0,sn=null,n!==null&&(bt[bn++]=$r,bt[bn++]=ii,bt[bn++]=Ne,$r=n.id,ii=n.overflow,Ne=s),s=Gf(s,f.children),s.flags|=4096,s)}function qg(n,s,h){n.lanes|=s;var f=n.alternate;f!==null&&(f.lanes|=s),ll(n.return,s,h)}function Hf(n,s,h,f,y){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:y}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=h,E.tailMode=y)}function Qg(n,s,h){var f=s.pendingProps,y=f.revealOrder,E=f.tail;if(le(n,s,f.children,h),f=It.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qg(n,h,s);else if(n.tag===19)qg(n,h,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(xt(It,f),(s.mode&1)===0)s.memoizedState=null;else switch(y){case"forwards":for(h=s.child,y=null;h!==null;)n=h.alternate,n!==null&&ea(n)===null&&(y=h),h=h.sibling;h=y,h===null?(y=s.child,s.child=null):(y=h.sibling,h.sibling=null),Hf(s,!1,y,h,E);break;case"backwards":for(h=null,y=s.child,s.child=null;y!==null;){if(n=y.alternate,n!==null&&ea(n)===null){s.child=y;break}n=y.sibling,y.sibling=h,h=y,y=n}Hf(s,!0,h,null,E);break;case"together":Hf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Vc(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function eo(n,s,h){if(n!==null&&(s.dependencies=n.dependencies),gl|=s.lanes,(h&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,h=la(n,n.pendingProps),s.child=h,h.return=s;n.sibling!==null;)n=n.sibling,h=h.sibling=la(n,n.pendingProps),h.return=s;h.sibling=null}return s.child}function Vx(n,s,h){switch(s.tag){case 3:Wc(s),$s();break;case 5:Ks(s);break;case 1:Fr(s.type)&&Yo(s);break;case 4:ul(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,y=s.memoizedProps.value;xt(Vs,f._currentValue),f._currentValue=y;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(xt(It,It.current&1),s.flags|=128,null):(h&s.child.childLanes)!==0?Yg(n,s,h):(xt(It,It.current&1),n=eo(n,s,h),n!==null?n.sibling:null);xt(It,It.current&1);break;case 19:if(f=(h&s.childLanes)!==0,(n.flags&128)!==0){if(f)return Qg(n,s,h);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),xt(It,It.current),f)break;return null;case 22:case 23:return s.lanes=0,je(n,s,h)}return eo(n,s,h)}var Kg,jf,Zg,Jg;Kg=function(n,s){for(var h=s.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},jf=function(){},Zg=function(n,s,h,f){var y=n.memoizedProps;if(y!==f){n=s.stateNode,Mi(Rn.current);var E=null;switch(h){case"input":y=at(n,y),f=at(n,f),E=[];break;case"select":y=D({},y,{value:void 0}),f=D({},f,{value:void 0}),E=[];break;case"textarea":y=Zn(n,y),f=Zn(n,f),E=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=Ja)}te(h,f);var R;h=null;for(oe in y)if(!f.hasOwnProperty(oe)&&y.hasOwnProperty(oe)&&y[oe]!=null)if(oe==="style"){var j=y[oe];for(R in j)j.hasOwnProperty(R)&&(h||(h={}),h[R]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(o.hasOwnProperty(oe)?E||(E=[]):(E=E||[]).push(oe,null));for(oe in f){var $=f[oe];if(j=y?.[oe],f.hasOwnProperty(oe)&&$!==j&&($!=null||j!=null))if(oe==="style")if(j){for(R in j)!j.hasOwnProperty(R)||$&&$.hasOwnProperty(R)||(h||(h={}),h[R]="");for(R in $)$.hasOwnProperty(R)&&j[R]!==$[R]&&(h||(h={}),h[R]=$[R])}else h||(E||(E=[]),E.push(oe,h)),h=$;else oe==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,j=j?j.__html:void 0,$!=null&&j!==$&&(E=E||[]).push(oe,$)):oe==="children"?typeof $!="string"&&typeof $!="number"||(E=E||[]).push(oe,""+$):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(o.hasOwnProperty(oe)?($!=null&&oe==="onScroll"&&Pt("scroll",n),E||j===$||(E=[])):(E=E||[]).push(oe,$))}h&&(E=E||[]).push("style",h);var oe=E;(s.updateQueue=oe)&&(s.flags|=4)}},Jg=function(n,s,h,f){h!==f&&(s.flags|=4)};function Xh(n,s){if(!Nt)switch(n.tailMode){case"hidden":s=n.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?n.tail=null:h.sibling=null;break;case"collapsed":h=n.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Qr(n){var s=n.alternate!==null&&n.alternate.child===n.child,h=0,f=0;if(s)for(var y=n.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=f,n.childLanes=h,s}function Xx(n,s,h){var f=s.pendingProps;switch(rl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(s),null;case 1:return Fr(s.type)&&Xo(),Qr(s),null;case 3:return f=s.stateNode,on(),Rt(vr),Rt(sr),ta(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(nl(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,sn!==null&&(ep(sn),sn=null))),jf(n,s),Qr(s),null;case 5:Eu(s);var y=Mi(_r.current);if(h=s.type,n!==null&&s.stateNode!=null)Zg(n,s,h,f,y),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(t(166));return Qr(s),null}if(n=Mi(Rn.current),nl(s)){f=s.stateNode,h=s.type;var E=s.memoizedProps;switch(f[jn]=s,f[el]=E,n=(s.mode&1)!==0,h){case"dialog":Pt("cancel",f),Pt("close",f);break;case"iframe":case"object":case"embed":Pt("load",f);break;case"video":case"audio":for(y=0;y<as.length;y++)Pt(as[y],f);break;case"source":Pt("error",f);break;case"img":case"image":case"link":Pt("error",f),Pt("load",f);break;case"details":Pt("toggle",f);break;case"input":He(f,E),Pt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!E.multiple},Pt("invalid",f);break;case"textarea":fi(f,E),Pt("invalid",f)}te(h,E),y=null;for(var R in E)if(E.hasOwnProperty(R)){var j=E[R];R==="children"?typeof j=="string"?f.textContent!==j&&(E.suppressHydrationWarning!==!0&&Za(f.textContent,j,n),y=["children",j]):typeof j=="number"&&f.textContent!==""+j&&(E.suppressHydrationWarning!==!0&&Za(f.textContent,j,n),y=["children",""+j]):o.hasOwnProperty(R)&&j!=null&&R==="onScroll"&&Pt("scroll",f)}switch(h){case"input":Me(f),Gt(f,E,!0);break;case"textarea":Me(f),Bl(f);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(f.onclick=Ja)}f=y,s.updateQueue=f,f!==null&&(s.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ll(h)),n==="http://www.w3.org/1999/xhtml"?h==="script"?(n=R.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=R.createElement(h,{is:f.is}):(n=R.createElement(h),h==="select"&&(R=n,f.multiple?R.multiple=!0:f.size&&(R.size=f.size))):n=R.createElementNS(n,h),n[jn]=s,n[el]=f,Kg(n,s,!1,!1),s.stateNode=n;e:{switch(R=ie(h,f),h){case"dialog":Pt("cancel",n),Pt("close",n),y=f;break;case"iframe":case"object":case"embed":Pt("load",n),y=f;break;case"video":case"audio":for(y=0;y<as.length;y++)Pt(as[y],n);y=f;break;case"source":Pt("error",n),y=f;break;case"img":case"image":case"link":Pt("error",n),Pt("load",n),y=f;break;case"details":Pt("toggle",n),y=f;break;case"input":He(n,f),y=at(n,f),Pt("invalid",n);break;case"option":y=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},y=D({},f,{value:void 0}),Pt("invalid",n);break;case"textarea":fi(n,f),y=Zn(n,f),Pt("invalid",n);break;default:y=f}te(h,y),j=y;for(E in j)if(j.hasOwnProperty(E)){var $=j[E];E==="style"?yo(n,$):E==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Yi(n,$)):E==="children"?typeof $=="string"?(h!=="textarea"||$!=="")&&pi(n,$):typeof $=="number"&&pi(n,""+$):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(o.hasOwnProperty(E)?$!=null&&E==="onScroll"&&Pt("scroll",n):$!=null&&F(n,E,$,R))}switch(h){case"input":Me(n),Gt(n,f,!1);break;case"textarea":Me(n),Bl(n);break;case"option":f.value!=null&&n.setAttribute("value",""+Te(f.value));break;case"select":n.multiple=!!f.multiple,E=f.value,E!=null?dr(n,!!f.multiple,E,!1):f.defaultValue!=null&&dr(n,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(n.onclick=Ja)}switch(h){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Qr(s),null;case 6:if(n&&s.stateNode!=null)Jg(n,s,n.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(t(166));if(h=Mi(_r.current),Mi(Rn.current),nl(s)){if(f=s.stateNode,h=s.memoizedProps,f[jn]=s,(E=f.nodeValue!==h)&&(n=Vr,n!==null))switch(n.tag){case 3:Za(f.nodeValue,h,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Za(f.nodeValue,h,(n.mode&1)!==0)}E&&(s.flags|=4)}else f=(h.nodeType===9?h:h.ownerDocument).createTextNode(f),f[jn]=s,s.stateNode=f}return Qr(s),null;case 13:if(Rt(It),f=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Nt&&Xr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Cn(),$s(),s.flags|=98560,E=!1;else if(E=nl(s),f!==null&&f.dehydrated!==null){if(n===null){if(!E)throw Error(t(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[jn]=s}else $s(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qr(s),E=!1}else sn!==null&&(ep(sn),sn=null),E=!0;if(!E)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=h,s):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(It.current&1)!==0?wr===0&&(wr=3):np())),s.updateQueue!==null&&(s.flags|=4),Qr(s),null);case 4:return on(),jf(n,s),n===null&&zo(s.stateNode.containerInfo),Qr(s),null;case 10:return al(s.type._context),Qr(s),null;case 17:return Fr(s.type)&&Xo(),Qr(s),null;case 19:if(Rt(It),E=s.memoizedState,E===null)return Qr(s),null;if(f=(s.flags&128)!==0,R=E.rendering,R===null)if(f)Xh(E,!1);else{if(wr!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(R=ea(n),R!==null){for(s.flags|=128,Xh(E,!1),f=R.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=h,h=s.child;h!==null;)E=h,n=f,E.flags&=14680066,R=E.alternate,R===null?(E.childLanes=0,E.lanes=n,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=R.childLanes,E.lanes=R.lanes,E.child=R.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=R.memoizedProps,E.memoizedState=R.memoizedState,E.updateQueue=R.updateQueue,E.type=R.type,n=R.dependencies,E.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),h=h.sibling;return xt(It,It.current&1|2),s.child}n=n.sibling}E.tail!==null&&Vt()>Mu&&(s.flags|=128,f=!0,Xh(E,!1),s.lanes=4194304)}else{if(!f)if(n=ea(R),n!==null){if(s.flags|=128,f=!0,h=n.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),Xh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!R.alternate&&!Nt)return Qr(s),null}else 2*Vt()-E.renderingStartTime>Mu&&h!==1073741824&&(s.flags|=128,f=!0,Xh(E,!1),s.lanes=4194304);E.isBackwards?(R.sibling=s.child,s.child=R):(h=E.last,h!==null?h.sibling=R:s.child=R,E.last=R)}return E.tail!==null?(s=E.tail,E.rendering=s,E.tail=s.sibling,E.renderingStartTime=Vt(),s.sibling=null,h=It.current,xt(It,f?h&1|2:h&1),s):(Qr(s),null);case 22:case 23:return rp(),f=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(Yn&1073741824)!==0&&(Qr(s),s.subtreeFlags&6&&(s.flags|=8192)):Qr(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Yx(n,s){switch(rl(s),s.tag){case 1:return Fr(s.type)&&Xo(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return on(),Rt(vr),Rt(sr),ta(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Eu(s),null;case 13:if(Rt(It),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));$s()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Rt(It),null;case 4:return on(),null;case 10:return al(s.type._context),null;case 22:case 23:return rp(),null;case 24:return null;default:return null}}var Xc=!1,Kr=!1,qx=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Ru(n,s){var h=n.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){rr(n,s,f)}else h.current=null}function Wf(n,s,h){try{h()}catch(f){rr(n,s,f)}}var ey=!1;function Qx(n,s){if(jo=en,n=ir(),Qt(n)){if("selectionStart"in n)var h={start:n.selectionStart,end:n.selectionEnd};else e:{h=(h=n.ownerDocument)&&h.defaultView||window;var f=h.getSelection&&h.getSelection();if(f&&f.rangeCount!==0){h=f.anchorNode;var y=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var R=0,j=-1,$=-1,oe=0,we=0,Se=n,_e=null;t:for(;;){for(var Oe;Se!==h||y!==0&&Se.nodeType!==3||(j=R+y),Se!==E||f!==0&&Se.nodeType!==3||($=R+f),Se.nodeType===3&&(R+=Se.nodeValue.length),(Oe=Se.firstChild)!==null;)_e=Se,Se=Oe;for(;;){if(Se===n)break t;if(_e===h&&++oe===y&&(j=R),_e===E&&++we===f&&($=R),(Oe=Se.nextSibling)!==null)break;Se=_e,_e=Se.parentNode}Se=Oe}h=j===-1||$===-1?null:{start:j,end:$}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ah={focusedElem:n,selectionRange:h},en=!1,Le=s;Le!==null;)if(s=Le,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Le=n;else for(;Le!==null;){s=Le;try{var Ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Ve=Ge.memoizedProps,lr=Ge.memoizedState,J=s.stateNode,Y=J.getSnapshotBeforeUpdate(s.elementType===s.type?Ve:l(s.type,Ve),lr);J.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var re=s.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ce){rr(s,s.return,Ce)}if(n=s.sibling,n!==null){n.return=s.return,Le=n;break}Le=s.return}return Ge=ey,ey=!1,Ge}function Yh(n,s,h){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&n)===n){var E=y.destroy;y.destroy=void 0,E!==void 0&&Wf(s,h,E)}y=y.next}while(y!==f)}}function Yc(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var h=s=s.next;do{if((h.tag&n)===n){var f=h.create;h.destroy=f()}h=h.next}while(h!==s)}}function $f(n){var s=n.ref;if(s!==null){var h=n.stateNode;switch(n.tag){case 5:n=h;break;default:n=h}typeof s=="function"?s(n):s.current=n}}function ty(n){var s=n.alternate;s!==null&&(n.alternate=null,ty(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[jn],delete s[el],delete s[Ar],delete s[Bc],delete s[Lc])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ry(n){return n.tag===5||n.tag===3||n.tag===4}function ny(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ry(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vf(n,s,h){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?h.nodeType===8?h.parentNode.insertBefore(n,s):h.insertBefore(n,s):(h.nodeType===8?(s=h.parentNode,s.insertBefore(n,h)):(s=h,s.appendChild(n)),h=h._reactRootContainer,h!=null||s.onclick!==null||(s.onclick=Ja));else if(f!==4&&(n=n.child,n!==null))for(Vf(n,s,h),n=n.sibling;n!==null;)Vf(n,s,h),n=n.sibling}function Xf(n,s,h){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?h.insertBefore(n,s):h.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(Xf(n,s,h),n=n.sibling;n!==null;)Xf(n,s,h),n=n.sibling}var Br=null,Ni=!1;function na(n,s,h){for(h=h.child;h!==null;)iy(n,s,h),h=h.sibling}function iy(n,s,h){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Un,h)}catch{}switch(h.tag){case 5:Kr||Ru(h,s);case 6:var f=Br,y=Ni;Br=null,na(n,s,h),Br=f,Ni=y,Br!==null&&(Ni?(n=Br,h=h.stateNode,n.nodeType===8?n.parentNode.removeChild(h):n.removeChild(h)):Br.removeChild(h.stateNode));break;case 18:Br!==null&&(Ni?(n=Br,h=h.stateNode,n.nodeType===8?gu(n.parentNode,h):n.nodeType===1&&gu(n,h),Os(n)):gu(Br,h.stateNode));break;case 4:f=Br,y=Ni,Br=h.stateNode.containerInfo,Ni=!0,na(n,s,h),Br=f,Ni=y;break;case 0:case 11:case 14:case 15:if(!Kr&&(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var E=y,R=E.destroy;E=E.tag,R!==void 0&&((E&2)!==0||(E&4)!==0)&&Wf(h,s,R),y=y.next}while(y!==f)}na(n,s,h);break;case 1:if(!Kr&&(Ru(h,s),f=h.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(j){rr(h,s,j)}na(n,s,h);break;case 21:na(n,s,h);break;case 22:h.mode&1?(Kr=(f=Kr)||h.memoizedState!==null,na(n,s,h),Kr=f):na(n,s,h);break;default:na(n,s,h)}}function sy(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var h=n.stateNode;h===null&&(h=n.stateNode=new qx),s.forEach(function(f){var y=s1.bind(null,n,f);h.has(f)||(h.add(f),f.then(y,y))})}}function Oi(n,s){var h=s.deletions;if(h!==null)for(var f=0;f<h.length;f++){var y=h[f];try{var E=n,R=s,j=R;e:for(;j!==null;){switch(j.tag){case 5:Br=j.stateNode,Ni=!1;break e;case 3:Br=j.stateNode.containerInfo,Ni=!0;break e;case 4:Br=j.stateNode.containerInfo,Ni=!0;break e}j=j.return}if(Br===null)throw Error(t(160));iy(E,R,y),Br=null,Ni=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(oe){rr(y,s,oe)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)oy(s,n),s=s.sibling}function oy(n,s){var h=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Oi(s,n),gs(n),f&4){try{Yh(3,n,n.return),Yc(3,n)}catch(Ve){rr(n,n.return,Ve)}try{Yh(5,n,n.return)}catch(Ve){rr(n,n.return,Ve)}}break;case 1:Oi(s,n),gs(n),f&512&&h!==null&&Ru(h,h.return);break;case 5:if(Oi(s,n),gs(n),f&512&&h!==null&&Ru(h,h.return),n.flags&32){var y=n.stateNode;try{pi(y,"")}catch(Ve){rr(n,n.return,Ve)}}if(f&4&&(y=n.stateNode,y!=null)){var E=n.memoizedProps,R=h!==null?h.memoizedProps:E,j=n.type,$=n.updateQueue;if(n.updateQueue=null,$!==null)try{j==="input"&&E.type==="radio"&&E.name!=null&&$e(y,E),ie(j,R);var oe=ie(j,E);for(R=0;R<$.length;R+=2){var we=$[R],Se=$[R+1];we==="style"?yo(y,Se):we==="dangerouslySetInnerHTML"?Yi(y,Se):we==="children"?pi(y,Se):F(y,we,Se,oe)}switch(j){case"input":Mt(y,E);break;case"textarea":Zr(y,E);break;case"select":var _e=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Oe=E.value;Oe!=null?dr(y,!!E.multiple,Oe,!1):_e!==!!E.multiple&&(E.defaultValue!=null?dr(y,!!E.multiple,E.defaultValue,!0):dr(y,!!E.multiple,E.multiple?[]:"",!1))}y[el]=E}catch(Ve){rr(n,n.return,Ve)}}break;case 6:if(Oi(s,n),gs(n),f&4){if(n.stateNode===null)throw Error(t(162));y=n.stateNode,E=n.memoizedProps;try{y.nodeValue=E}catch(Ve){rr(n,n.return,Ve)}}break;case 3:if(Oi(s,n),gs(n),f&4&&h!==null&&h.memoizedState.isDehydrated)try{Os(s.containerInfo)}catch(Ve){rr(n,n.return,Ve)}break;case 4:Oi(s,n),gs(n);break;case 13:Oi(s,n),gs(n),y=n.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(Qf=Vt())),f&4&&sy(n);break;case 22:if(we=h!==null&&h.memoizedState!==null,n.mode&1?(Kr=(oe=Kr)||we,Oi(s,n),Kr=oe):Oi(s,n),gs(n),f&8192){if(oe=n.memoizedState!==null,(n.stateNode.isHidden=oe)&&!we&&(n.mode&1)!==0)for(Le=n,we=n.child;we!==null;){for(Se=Le=we;Le!==null;){switch(_e=Le,Oe=_e.child,_e.tag){case 0:case 11:case 14:case 15:Yh(4,_e,_e.return);break;case 1:Ru(_e,_e.return);var Ge=_e.stateNode;if(typeof Ge.componentWillUnmount=="function"){f=_e,h=_e.return;try{s=f,Ge.props=s.memoizedProps,Ge.state=s.memoizedState,Ge.componentWillUnmount()}catch(Ve){rr(f,h,Ve)}}break;case 5:Ru(_e,_e.return);break;case 22:if(_e.memoizedState!==null){uy(Se);continue}}Oe!==null?(Oe.return=_e,Le=Oe):uy(Se)}we=we.sibling}e:for(we=null,Se=n;;){if(Se.tag===5){if(we===null){we=Se;try{y=Se.stateNode,oe?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(j=Se.stateNode,$=Se.memoizedProps.style,R=$!=null&&$.hasOwnProperty("display")?$.display:null,j.style.display=Ul("display",R))}catch(Ve){rr(n,n.return,Ve)}}}else if(Se.tag===6){if(we===null)try{Se.stateNode.nodeValue=oe?"":Se.memoizedProps}catch(Ve){rr(n,n.return,Ve)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===n)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===n)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===n)break e;we===Se&&(we=null),Se=Se.return}we===Se&&(we=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:Oi(s,n),gs(n),f&4&&sy(n);break;case 21:break;default:Oi(s,n),gs(n)}}function gs(n){var s=n.flags;if(s&2){try{e:{for(var h=n.return;h!==null;){if(ry(h)){var f=h;break e}h=h.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(pi(y,""),f.flags&=-33);var E=ny(n);Xf(n,E,y);break;case 3:case 4:var R=f.stateNode.containerInfo,j=ny(n);Vf(n,j,R);break;default:throw Error(t(161))}}catch($){rr(n,n.return,$)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Kx(n,s,h){Le=n,ay(n)}function ay(n,s,h){for(var f=(n.mode&1)!==0;Le!==null;){var y=Le,E=y.child;if(y.tag===22&&f){var R=y.memoizedState!==null||Xc;if(!R){var j=y.alternate,$=j!==null&&j.memoizedState!==null||Kr;j=Xc;var oe=Kr;if(Xc=R,(Kr=$)&&!oe)for(Le=y;Le!==null;)R=Le,$=R.child,R.tag===22&&R.memoizedState!==null?hy(y):$!==null?($.return=R,Le=$):hy(y);for(;E!==null;)Le=E,ay(E),E=E.sibling;Le=y,Xc=j,Kr=oe}ly(n)}else(y.subtreeFlags&8772)!==0&&E!==null?(E.return=y,Le=E):ly(n)}}function ly(n){for(;Le!==null;){var s=Le;if((s.flags&8772)!==0){var h=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Kr||Yc(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!Kr)if(h===null)f.componentDidMount();else{var y=s.elementType===s.type?h.memoizedProps:l(s.type,h.memoizedProps);f.componentDidUpdate(y,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var E=s.updateQueue;E!==null&&fs(s,E,f);break;case 3:var R=s.updateQueue;if(R!==null){if(h=null,s.child!==null)switch(s.child.tag){case 5:h=s.child.stateNode;break;case 1:h=s.child.stateNode}fs(s,R,h)}break;case 5:var j=s.stateNode;if(h===null&&s.flags&4){h=j;var $=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&h.focus();break;case"img":$.src&&(h.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var oe=s.alternate;if(oe!==null){var we=oe.memoizedState;if(we!==null){var Se=we.dehydrated;Se!==null&&Os(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kr||s.flags&512&&$f(s)}catch(_e){rr(s,s.return,_e)}}if(s===n){Le=null;break}if(h=s.sibling,h!==null){h.return=s.return,Le=h;break}Le=s.return}}function uy(n){for(;Le!==null;){var s=Le;if(s===n){Le=null;break}var h=s.sibling;if(h!==null){h.return=s.return,Le=h;break}Le=s.return}}function hy(n){for(;Le!==null;){var s=Le;try{switch(s.tag){case 0:case 11:case 15:var h=s.return;try{Yc(4,s)}catch($){rr(s,h,$)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var y=s.return;try{f.componentDidMount()}catch($){rr(s,y,$)}}var E=s.return;try{$f(s)}catch($){rr(s,E,$)}break;case 5:var R=s.return;try{$f(s)}catch($){rr(s,R,$)}}}catch($){rr(s,s.return,$)}if(s===n){Le=null;break}var j=s.sibling;if(j!==null){j.return=s.return,Le=j;break}Le=s.return}}var Zx=Math.ceil,qc=W.ReactCurrentDispatcher,Yf=W.ReactCurrentOwner,li=W.ReactCurrentBatchConfig,vt=0,Rr=null,pr=null,Lr=0,Yn=0,Iu=Ti(0),wr=0,qh=null,gl=0,Qc=0,qf=0,Qh=null,Mn=null,Qf=0,Mu=1/0,to=null,Kc=!1,Kf=null,ia=null,Zc=!1,sa=null,Jc=0,Kh=0,Zf=null,ed=-1,td=0;function un(){return(vt&6)!==0?Vt():ed!==-1?ed:ed=Vt()}function oa(n){return(n.mode&1)===0?1:(vt&2)!==0&&Lr!==0?Lr&-Lr:Of.transition!==null?(td===0&&(td=pn()),td):(n=pt,n!==0||(n=window.event,n=n===void 0?16:tn(n.type)),n)}function Fi(n,s,h,f){if(50<Kh)throw Kh=0,Zf=null,Error(t(185));Ia(n,h,f),((vt&2)===0||n!==Rr)&&(n===Rr&&((vt&2)===0&&(Qc|=h),wr===4&&aa(n,Lr)),kn(n,f),h===1&&vt===0&&(s.mode&1)===0&&(Mu=Vt()+500,wn&&Sn()))}function kn(n,s){var h=n.callbackNode;Vl(n,s);var f=Ra(n,n===Rr?Lr:0);if(f===0)h!==null&&Aa(h),n.callbackNode=null,n.callbackPriority=0;else if(s=f&-f,n.callbackPriority!==s){if(h!=null&&Aa(h),s===1)n.tag===0?Uc(dy.bind(null,n)):Dh(dy.bind(null,n)),Rh(function(){(vt&6)===0&&Sn()}),h=null;else{switch(ka(f)){case 1:h=Pa;break;case 4:h=Wl;break;case 16:h=$l;break;case 536870912:h=ks;break;default:h=$l}h=xy(h,cy.bind(null,n))}n.callbackPriority=s,n.callbackNode=h}}function cy(n,s){if(ed=-1,td=0,(vt&6)!==0)throw Error(t(327));var h=n.callbackNode;if(ku()&&n.callbackNode!==h)return null;var f=Ra(n,n===Rr?Lr:0);if(f===0)return null;if((f&30)!==0||(f&n.expiredLanes)!==0||s)s=rd(n,f);else{s=f;var y=vt;vt|=2;var E=py();(Rr!==n||Lr!==s)&&(to=null,Mu=Vt()+500,vl(n,s));do try{t1();break}catch(j){fy(n,j)}while(!0);ol(),qc.current=E,vt=y,pr!==null?s=0:(Rr=null,Lr=0,s=wr)}if(s!==0){if(s===2&&(y=Xl(n),y!==0&&(f=y,s=Jf(n,y))),s===1)throw h=qh,vl(n,0),aa(n,f),kn(n,Vt()),h;if(s===6)aa(n,f);else{if(y=n.current.alternate,(f&30)===0&&!Jx(y)&&(s=rd(n,f),s===2&&(E=Xl(n),E!==0&&(f=E,s=Jf(n,E))),s===1))throw h=qh,vl(n,0),aa(n,f),kn(n,Vt()),h;switch(n.finishedWork=y,n.finishedLanes=f,s){case 0:case 1:throw Error(t(345));case 2:_l(n,Mn,to);break;case 3:if(aa(n,f),(f&130023424)===f&&(s=Qf+500-Vt(),10<s)){if(Ra(n,0)!==0)break;if(y=n.suspendedLanes,(y&f)!==f){un(),n.pingedLanes|=n.suspendedLanes&y;break}n.timeoutHandle=Ph(_l.bind(null,n,Mn,to),s);break}_l(n,Mn,to);break;case 4:if(aa(n,f),(f&4194240)===f)break;for(s=n.eventTimes,y=-1;0<f;){var R=31-fr(f);E=1<<R,R=s[R],R>y&&(y=R),f&=~E}if(f=y,f=Vt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Zx(f/1960))-f,10<f){n.timeoutHandle=Ph(_l.bind(null,n,Mn,to),f);break}_l(n,Mn,to);break;case 5:_l(n,Mn,to);break;default:throw Error(t(329))}}}return kn(n,Vt()),n.callbackNode===h?cy.bind(null,n):null}function Jf(n,s){var h=Qh;return n.current.memoizedState.isDehydrated&&(vl(n,s).flags|=256),n=rd(n,s),n!==2&&(s=Mn,Mn=h,s!==null&&ep(s)),n}function ep(n){Mn===null?Mn=n:Mn.push.apply(Mn,n)}function Jx(n){for(var s=n;;){if(s.flags&16384){var h=s.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var f=0;f<h.length;f++){var y=h[f],E=y.getSnapshot;y=y.value;try{if(!nn(E(),y))return!1}catch{return!1}}}if(h=s.child,s.subtreeFlags&16384&&h!==null)h.return=s,s=h;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function aa(n,s){for(s&=~qf,s&=~Qc,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var h=31-fr(s),f=1<<h;n[h]=-1,s&=~f}}function dy(n){if((vt&6)!==0)throw Error(t(327));ku();var s=Ra(n,0);if((s&1)===0)return kn(n,Vt()),null;var h=rd(n,s);if(n.tag!==0&&h===2){var f=Xl(n);f!==0&&(s=f,h=Jf(n,f))}if(h===1)throw h=qh,vl(n,0),aa(n,s),kn(n,Vt()),h;if(h===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,_l(n,Mn,to),kn(n,Vt()),null}function tp(n,s){var h=vt;vt|=1;try{return n(s)}finally{vt=h,vt===0&&(Mu=Vt()+500,wn&&Sn())}}function yl(n){sa!==null&&sa.tag===0&&(vt&6)===0&&ku();var s=vt;vt|=1;var h=li.transition,f=pt;try{if(li.transition=null,pt=1,n)return n()}finally{pt=f,li.transition=h,vt=s,(vt&6)===0&&Sn()}}function rp(){Yn=Iu.current,Rt(Iu)}function vl(n,s){n.finishedWork=null,n.finishedLanes=0;var h=n.timeoutHandle;if(h!==-1&&(n.timeoutHandle=-1,Wo(h)),pr!==null)for(h=pr.return;h!==null;){var f=h;switch(rl(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Xo();break;case 3:on(),Rt(vr),Rt(sr),ta();break;case 5:Eu(f);break;case 4:on();break;case 13:Rt(It);break;case 19:Rt(It);break;case 10:al(f.type._context);break;case 22:case 23:rp()}h=h.return}if(Rr=n,pr=n=la(n.current,null),Lr=Yn=s,wr=0,qh=null,qf=Qc=gl=0,Mn=Qh=null,Qs!==null){for(s=0;s<Qs.length;s++)if(h=Qs[s],f=h.interleaved,f!==null){h.interleaved=null;var y=f.next,E=h.pending;if(E!==null){var R=E.next;E.next=y,f.next=R}h.pending=f}Qs=null}return n}function fy(n,s){do{var h=pr;try{if(ol(),Wn.current=ml,or){for(var f=Ft.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}or=!1}if($n=0,Yt=Wt=Ft=null,In=!1,Pr=0,Yf.current=null,h===null||h.return===null){wr=1,qh=s,pr=null;break}e:{var E=n,R=h.return,j=h,$=s;if(s=Lr,j.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var oe=$,we=j,Se=we.tag;if((we.mode&1)===0&&(Se===0||Se===11||Se===15)){var _e=we.alternate;_e?(we.updateQueue=_e.updateQueue,we.memoizedState=_e.memoizedState,we.lanes=_e.lanes):(we.updateQueue=null,we.memoizedState=null)}var Oe=ze(R);if(Oe!==null){Oe.flags&=-257,st(Oe,R,j,E,s),Oe.mode&1&&be(E,oe,s),s=Oe,$=oe;var Ge=s.updateQueue;if(Ge===null){var Ve=new Set;Ve.add($),s.updateQueue=Ve}else Ge.add($);break e}else{if((s&1)===0){be(E,oe,s),np();break e}$=Error(t(426))}}else if(Nt&&j.mode&1){var lr=ze(R);if(lr!==null){(lr.flags&65536)===0&&(lr.flags|=256),st(lr,R,j,E,s),Pn(V($,j));break e}}E=$=V($,j),wr!==4&&(wr=2),Qh===null?Qh=[E]:Qh.push(E),E=R;do{switch(E.tag){case 3:E.flags|=65536,s&=-s,E.lanes|=s;var J=Ie(E,$,s);tr(E,J);break e;case 1:j=$;var Y=E.type,re=E.stateNode;if((E.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(ia===null||!ia.has(re)))){E.flags|=65536,s&=-s,E.lanes|=s;var Ce=fe(E,j,s);tr(E,Ce);break e}}E=E.return}while(E!==null)}gy(h)}catch(Ye){s=Ye,pr===h&&h!==null&&(pr=h=h.return);continue}break}while(!0)}function py(){var n=qc.current;return qc.current=ml,n===null?ml:n}function np(){(wr===0||wr===3||wr===2)&&(wr=4),Rr===null||(gl&268435455)===0&&(Qc&268435455)===0||aa(Rr,Lr)}function rd(n,s){var h=vt;vt|=2;var f=py();(Rr!==n||Lr!==s)&&(to=null,vl(n,s));do try{e1();break}catch(y){fy(n,y)}while(!0);if(ol(),vt=h,qc.current=f,pr!==null)throw Error(t(261));return Rr=null,Lr=0,wr}function e1(){for(;pr!==null;)my(pr)}function t1(){for(;pr!==null&&!Cf();)my(pr)}function my(n){var s=_y(n.alternate,n,Yn);n.memoizedProps=n.pendingProps,s===null?gy(n):pr=s,Yf.current=null}function gy(n){var s=n;do{var h=s.alternate;if(n=s.return,(s.flags&32768)===0){if(h=Xx(h,s,Yn),h!==null){pr=h;return}}else{if(h=Yx(h,s),h!==null){h.flags&=32767,pr=h;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{wr=6,pr=null;return}}if(s=s.sibling,s!==null){pr=s;return}pr=s=n}while(s!==null);wr===0&&(wr=5)}function _l(n,s,h){var f=pt,y=li.transition;try{li.transition=null,pt=1,r1(n,s,h,f)}finally{li.transition=y,pt=f}return null}function r1(n,s,h,f){do ku();while(sa!==null);if((vt&6)!==0)throw Error(t(327));h=n.finishedWork;var y=n.finishedLanes;if(h===null)return null;if(n.finishedWork=null,n.finishedLanes=0,h===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var E=h.lanes|h.childLanes;if(nh(n,E),n===Rr&&(pr=Rr=null,Lr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Zc||(Zc=!0,xy($l,function(){return ku(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=li.transition,li.transition=null;var R=pt;pt=1;var j=vt;vt|=4,Yf.current=null,Qx(n,h),oy(h,n),su(Ah),en=!!jo,Ah=jo=null,n.current=h,Kx(h),Pf(),vt=j,pt=R,li.transition=E}else n.current=h;if(Zc&&(Zc=!1,sa=n,Jc=y),E=n.pendingLanes,E===0&&(ia=null),At(h.stateNode),kn(n,Vt()),s!==null)for(f=n.onRecoverableError,h=0;h<s.length;h++)y=s[h],f(y.value,{componentStack:y.stack,digest:y.digest});if(Kc)throw Kc=!1,n=Kf,Kf=null,n;return(Jc&1)!==0&&n.tag!==0&&ku(),E=n.pendingLanes,(E&1)!==0?n===Zf?Kh++:(Kh=0,Zf=n):Kh=0,Sn(),null}function ku(){if(sa!==null){var n=ka(Jc),s=li.transition,h=pt;try{if(li.transition=null,pt=16>n?16:n,sa===null)var f=!1;else{if(n=sa,sa=null,Jc=0,(vt&6)!==0)throw Error(t(331));var y=vt;for(vt|=4,Le=n.current;Le!==null;){var E=Le,R=E.child;if((Le.flags&16)!==0){var j=E.deletions;if(j!==null){for(var $=0;$<j.length;$++){var oe=j[$];for(Le=oe;Le!==null;){var we=Le;switch(we.tag){case 0:case 11:case 15:Yh(8,we,E)}var Se=we.child;if(Se!==null)Se.return=we,Le=Se;else for(;Le!==null;){we=Le;var _e=we.sibling,Oe=we.return;if(ty(we),we===oe){Le=null;break}if(_e!==null){_e.return=Oe,Le=_e;break}Le=Oe}}}var Ge=E.alternate;if(Ge!==null){var Ve=Ge.child;if(Ve!==null){Ge.child=null;do{var lr=Ve.sibling;Ve.sibling=null,Ve=lr}while(Ve!==null)}}Le=E}}if((E.subtreeFlags&2064)!==0&&R!==null)R.return=E,Le=R;else e:for(;Le!==null;){if(E=Le,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Yh(9,E,E.return)}var J=E.sibling;if(J!==null){J.return=E.return,Le=J;break e}Le=E.return}}var Y=n.current;for(Le=Y;Le!==null;){R=Le;var re=R.child;if((R.subtreeFlags&2064)!==0&&re!==null)re.return=R,Le=re;else e:for(R=Y;Le!==null;){if(j=Le,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Yc(9,j)}}catch(Ye){rr(j,j.return,Ye)}if(j===R){Le=null;break e}var Ce=j.sibling;if(Ce!==null){Ce.return=j.return,Le=Ce;break e}Le=j.return}}if(vt=y,Sn(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Un,n)}catch{}f=!0}return f}finally{pt=h,li.transition=s}}return!1}function yy(n,s,h){s=V(h,s),s=Ie(n,s,1),n=er(n,s,1),s=un(),n!==null&&(Ia(n,1,s),kn(n,s))}function rr(n,s,h){if(n.tag===3)yy(n,n,h);else for(;s!==null;){if(s.tag===3){yy(s,n,h);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ia===null||!ia.has(f))){n=V(h,n),n=fe(s,n,1),s=er(s,n,1),n=un(),s!==null&&(Ia(s,1,n),kn(s,n));break}}s=s.return}}function n1(n,s,h){var f=n.pingCache;f!==null&&f.delete(s),s=un(),n.pingedLanes|=n.suspendedLanes&h,Rr===n&&(Lr&h)===h&&(wr===4||wr===3&&(Lr&130023424)===Lr&&500>Vt()-Qf?vl(n,0):qf|=h),kn(n,s)}function vy(n,s){s===0&&((n.mode&1)===0?s=1:(s=Tr,Tr<<=1,(Tr&130023424)===0&&(Tr=4194304)));var h=un();n=St(n,s),n!==null&&(Ia(n,s,h),kn(n,h))}function i1(n){var s=n.memoizedState,h=0;s!==null&&(h=s.retryLane),vy(n,h)}function s1(n,s){var h=0;switch(n.tag){case 13:var f=n.stateNode,y=n.memoizedState;y!==null&&(h=y.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(s),vy(n,h)}var _y;_y=function(n,s,h){if(n!==null)if(n.memoizedProps!==s.pendingProps||vr.current)q=!0;else{if((n.lanes&h)===0&&(s.flags&128)===0)return q=!1,Vx(n,s,h);q=(n.flags&131072)!==0}else q=!1,Nt&&(s.flags&1048576)!==0&&Qo(s,Ws,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;Vc(n,s),n=s.pendingProps;var y=hs(s,sr.current);qs(s,h),y=cl(null,s,f,n,y,h);var E=oi();return s.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Fr(f)?(E=!0,Yo(s)):E=!1,s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Jt(s),y.updater=p,s.stateNode=y,y._reactInternals=s,O(s,f,n,h),s=ai(null,s,f,!0,E,h)):(s.tag=0,Nt&&E&&Ko(s),le(null,s,y,h),s=s.child),s;case 16:f=s.elementType;e:{switch(Vc(n,s),n=s.pendingProps,y=f._init,f=y(f._payload),s.type=f,y=s.tag=a1(f),n=l(f,n),y){case 0:s=ar(null,s,f,n,h);break e;case 1:s=yt(null,s,f,n,h);break e;case 11:s=Ee(null,s,f,n,h);break e;case 14:s=Qe(null,s,f,l(f.type,n),h);break e}throw Error(t(306,f,""))}return s;case 0:return f=s.type,y=s.pendingProps,y=s.elementType===f?y:l(f,y),ar(n,s,f,y,h);case 1:return f=s.type,y=s.pendingProps,y=s.elementType===f?y:l(f,y),yt(n,s,f,y,h);case 3:e:{if(Wc(s),n===null)throw Error(t(387));f=s.pendingProps,E=s.memoizedState,y=E.element,Xt(n,s),ds(s,f,null,h);var R=s.memoizedState;if(f=R.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){y=V(Error(t(423)),s),s=Xg(n,s,f,h,y);break e}else if(f!==y){y=V(Error(t(424)),s),s=Xg(n,s,f,h,y);break e}else for(Xr=bi(s.stateNode.containerInfo.firstChild),Vr=s,Nt=!0,sn=null,h=sl(s,null,f,h),s.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if($s(),f===y){s=eo(n,s,h);break e}le(n,s,f,h)}s=s.child}return s;case 5:return Ks(s),n===null&&An(s),f=s.type,y=s.pendingProps,E=n!==null?n.memoizedProps:null,R=y.children,Ch(f,y)?R=null:E!==null&&Ch(f,E)&&(s.flags|=32),mt(n,s),le(n,s,R,h),s.child;case 6:return n===null&&An(s),null;case 13:return Yg(n,s,h);case 4:return ul(s,s.stateNode.containerInfo),f=s.pendingProps,n===null?s.child=Ci(s,null,f,h):le(n,s,f,h),s.child;case 11:return f=s.type,y=s.pendingProps,y=s.elementType===f?y:l(f,y),Ee(n,s,f,y,h);case 7:return le(n,s,s.pendingProps,h),s.child;case 8:return le(n,s,s.pendingProps.children,h),s.child;case 12:return le(n,s,s.pendingProps.children,h),s.child;case 10:e:{if(f=s.type._context,y=s.pendingProps,E=s.memoizedProps,R=y.value,xt(Vs,f._currentValue),f._currentValue=R,E!==null)if(nn(E.value,R)){if(E.children===y.children&&!vr.current){s=eo(n,s,h);break e}}else for(E=s.child,E!==null&&(E.return=s);E!==null;){var j=E.dependencies;if(j!==null){R=E.child;for(var $=j.firstContext;$!==null;){if($.context===f){if(E.tag===1){$=Ot(-1,h&-h),$.tag=2;var oe=E.updateQueue;if(oe!==null){oe=oe.shared;var we=oe.pending;we===null?$.next=$:($.next=we.next,we.next=$),oe.pending=$}}E.lanes|=h,$=E.alternate,$!==null&&($.lanes|=h),ll(E.return,h,s),j.lanes|=h;break}$=$.next}}else if(E.tag===10)R=E.type===s.type?null:E.child;else if(E.tag===18){if(R=E.return,R===null)throw Error(t(341));R.lanes|=h,j=R.alternate,j!==null&&(j.lanes|=h),ll(R,h,s),R=E.sibling}else R=E.child;if(R!==null)R.return=E;else for(R=E;R!==null;){if(R===s){R=null;break}if(E=R.sibling,E!==null){E.return=R.return,R=E;break}R=R.return}E=R}le(n,s,y.children,h),s=s.child}return s;case 9:return y=s.type,f=s.pendingProps.children,qs(s,h),y=Yr(y),f=f(y),s.flags|=1,le(n,s,f,h),s.child;case 14:return f=s.type,y=l(f,s.pendingProps),y=l(f.type,y),Qe(n,s,f,y,h);case 15:return gt(n,s,s.type,s.pendingProps,h);case 17:return f=s.type,y=s.pendingProps,y=s.elementType===f?y:l(f,y),Vc(n,s),s.tag=1,Fr(f)?(n=!0,Yo(s)):n=!1,qs(s,h),x(s,f,y),O(s,f,y,h),ai(null,s,f,!0,n,h);case 19:return Qg(n,s,h);case 22:return je(n,s,h)}throw Error(t(156,s.tag))};function xy(n,s){return jl(n,s)}function o1(n,s,h,f){this.tag=n,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(n,s,h,f){return new o1(n,s,h,f)}function ip(n){return n=n.prototype,!(!n||!n.isReactComponent)}function a1(n){if(typeof n=="function")return ip(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Q)return 11;if(n===Re)return 14}return 2}function la(n,s){var h=n.alternate;return h===null?(h=ui(n.tag,s,n.key,n.mode),h.elementType=n.elementType,h.type=n.type,h.stateNode=n.stateNode,h.alternate=n,n.alternate=h):(h.pendingProps=s,h.type=n.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=n.flags&14680064,h.childLanes=n.childLanes,h.lanes=n.lanes,h.child=n.child,h.memoizedProps=n.memoizedProps,h.memoizedState=n.memoizedState,h.updateQueue=n.updateQueue,s=n.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},h.sibling=n.sibling,h.index=n.index,h.ref=n.ref,h}function nd(n,s,h,f,y,E){var R=2;if(f=n,typeof n=="function")ip(n)&&(R=1);else if(typeof n=="string")R=5;else e:switch(n){case N:return xl(h.children,y,E,s);case Z:R=8,y|=8;break;case ce:return n=ui(12,h,s,y|2),n.elementType=ce,n.lanes=E,n;case se:return n=ui(13,h,s,y),n.elementType=se,n.lanes=E,n;case ae:return n=ui(19,h,s,y),n.elementType=ae,n.lanes=E,n;case L:return id(h,y,E,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case pe:R=10;break e;case de:R=9;break e;case Q:R=11;break e;case Re:R=14;break e;case B:R=16,f=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=ui(R,h,s,y),s.elementType=n,s.type=f,s.lanes=E,s}function xl(n,s,h,f){return n=ui(7,n,f,s),n.lanes=h,n}function id(n,s,h,f){return n=ui(22,n,f,s),n.elementType=L,n.lanes=h,n.stateNode={isHidden:!1},n}function sp(n,s,h){return n=ui(6,n,null,s),n.lanes=h,n}function op(n,s,h){return s=ui(4,n.children!==null?n.children:[],n.key,s),s.lanes=h,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function l1(n,s,h,f,y){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rh(0),this.expirationTimes=rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rh(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function ap(n,s,h,f,y,E,R,j,$){return n=new l1(n,s,h,j,$),s===1?(s=1,E===!0&&(s|=8)):s=0,E=ui(3,null,null,s),n.current=E,E.stateNode=n,E.memoizedState={element:f,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jt(E),n}function u1(n,s,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:f==null?null:""+f,children:n,containerInfo:s,implementation:h}}function wy(n){if(!n)return _n;n=n._reactInternals;e:{if(Ln(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Fr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var h=n.type;if(Fr(h))return Mh(n,h,s)}return s}function Ey(n,s,h,f,y,E,R,j,$){return n=ap(h,f,!0,n,y,E,R,j,$),n.context=wy(null),h=n.current,f=un(),y=oa(h),E=Ot(f,y),E.callback=s??null,er(h,E,y),n.current.lanes=y,Ia(n,y,f),kn(n,f),n}function sd(n,s,h,f){var y=s.current,E=un(),R=oa(y);return h=wy(h),s.context===null?s.context=h:s.pendingContext=h,s=Ot(E,R),s.payload={element:n},f=f===void 0?null:f,f!==null&&(s.callback=f),n=er(y,s,R),n!==null&&(Fi(n,y,R,E),Ri(n,y,R)),R}function od(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Sy(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var h=n.retryLane;n.retryLane=h!==0&&h<s?h:s}}function lp(n,s){Sy(n,s),(n=n.alternate)&&Sy(n,s)}function h1(){return null}var by=typeof reportError=="function"?reportError:function(n){console.error(n)};function up(n){this._internalRoot=n}ad.prototype.render=up.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));sd(n,s,null,null)},ad.prototype.unmount=up.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;yl(function(){sd(null,n,null,null)}),s[jt]=null}};function ad(n){this._internalRoot=n}ad.prototype.unstable_scheduleHydration=function(n){if(n){var s=Yl();n={blockedOn:null,target:n,priority:s};for(var h=0;h<kt.length&&s!==0&&s<kt[h].priority;h++);kt.splice(h,0,n),h===0&&Ba(n)}};function hp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ld(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ty(){}function c1(n,s,h,f,y){if(y){if(typeof f=="function"){var E=f;f=function(){var oe=od(R);E.call(oe)}}var R=Ey(s,f,n,0,null,!1,!1,"",Ty);return n._reactRootContainer=R,n[jt]=R.current,zo(n.nodeType===8?n.parentNode:n),yl(),R}for(;y=n.lastChild;)n.removeChild(y);if(typeof f=="function"){var j=f;f=function(){var oe=od($);j.call(oe)}}var $=ap(n,0,!1,null,null,!1,!1,"",Ty);return n._reactRootContainer=$,n[jt]=$.current,zo(n.nodeType===8?n.parentNode:n),yl(function(){sd(s,$,h,f)}),$}function ud(n,s,h,f,y){var E=h._reactRootContainer;if(E){var R=E;if(typeof y=="function"){var j=y;y=function(){var $=od(R);j.call($)}}sd(s,R,n,y)}else R=c1(h,s,n,y,f);return od(R)}Ac=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var h=Ns(s.pendingLanes);h!==0&&(Ma(s,h|1),kn(s,Vt()),(vt&6)===0&&(Mu=Vt()+500,Sn()))}break;case 13:yl(function(){var f=St(n,1);if(f!==null){var y=un();Fi(f,n,1,y)}}),lp(n,1)}},Da=function(n){if(n.tag===13){var s=St(n,134217728);if(s!==null){var h=un();Fi(s,n,134217728,h)}lp(n,134217728)}},ih=function(n){if(n.tag===13){var s=oa(n),h=St(n,s);if(h!==null){var f=un();Fi(h,n,s,f)}lp(n,s)}},Yl=function(){return pt},So=function(n,s){var h=pt;try{return pt=n,s()}finally{pt=h}},Et=function(n,s,h){switch(s){case"input":if(Mt(n,h),s=h.name,h.type==="radio"&&s!=null){for(h=n;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<h.length;s++){var f=h[s];if(f!==n&&f.form===n.form){var y=Vo(f);if(!y)throw Error(t(90));Ue(f),Mt(f,y)}}}break;case"textarea":Zr(n,h);break;case"select":s=h.value,s!=null&&dr(n,!!h.multiple,s,!1)}},_o=tp,Fn=yl;var d1={usingClientEntryPoint:!1,Events:[$o,js,Vo,gr,dn,tp]},Zh={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f1={bundleType:Zh.bundleType,version:Zh.version,rendererPackageName:Zh.rendererPackageName,rendererConfig:Zh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=gi(n),n===null?null:n.stateNode},findFiberByHostInstance:Zh.findFiberByHostInstance||h1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Un=hd.inject(f1),ft=hd}catch{}}return Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d1,Dn.createPortal=function(n,s){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hp(s))throw Error(t(200));return u1(n,s,null,h)},Dn.createRoot=function(n,s){if(!hp(n))throw Error(t(299));var h=!1,f="",y=by;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=ap(n,1,!1,null,null,h,!1,f,y),n[jt]=s.current,zo(n.nodeType===8?n.parentNode:n),new up(s)},Dn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=gi(s),n=n===null?null:n.stateNode,n},Dn.flushSync=function(n){return yl(n)},Dn.hydrate=function(n,s,h){if(!ld(s))throw Error(t(200));return ud(null,n,s,!0,h)},Dn.hydrateRoot=function(n,s,h){if(!hp(n))throw Error(t(405));var f=h!=null&&h.hydratedSources||null,y=!1,E="",R=by;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(R=h.onRecoverableError)),s=Ey(s,null,n,1,h??null,y,!1,E,R),n[jt]=s.current,zo(n),f)for(n=0;n<f.length;n++)h=f[n],y=h._getVersion,y=y(h._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[h,y]:s.mutableSourceEagerHydrationData.push(h,y);return new ad(s)},Dn.render=function(n,s,h){if(!ld(s))throw Error(t(200));return ud(null,n,s,!1,h)},Dn.unmountComponentAtNode=function(n){if(!ld(n))throw Error(t(40));return n._reactRootContainer?(yl(function(){ud(null,null,n,!1,function(){n._reactRootContainer=null,n[jt]=null})}),!0):!1},Dn.unstable_batchedUpdates=tp,Dn.unstable_renderSubtreeIntoContainer=function(n,s,h,f){if(!ld(h))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return ud(n,s,h,!1,f)},Dn.version="18.3.1-next-f1338f8080-20240426",Dn}var Dy;function E1(){if(Dy)return fp.exports;Dy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fp.exports=w1(),fp.exports}var Ny;function S1(){if(Ny)return cd;Ny=1;var i=E1();return cd.createRoot=i.createRoot,cd.hydrateRoot=i.hydrateRoot,cd}var b1=S1(),Ol=(i=>(i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2",i))(Ol||{}),s_=(i=>(i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS",i))(s_||{}),jm=(i=>(i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL",i))(jm||{}),et=(i=>(i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR",i))(et||{}),ji=(i=>(i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN",i))(ji||{}),Ae=(i=>(i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.RG=33319]="RG",i[i.RED=6403]="RED",i[i.RGBA_INTEGER=36249]="RGBA_INTEGER",i[i.RGB_INTEGER=36248]="RGB_INTEGER",i[i.RG_INTEGER=33320]="RG_INTEGER",i[i.RED_INTEGER=36244]="RED_INTEGER",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL",i))(Ae||{}),$u=(i=>(i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",i))($u||{}),Ke=(i=>(i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.UNSIGNED_INT=5125]="UNSIGNED_INT",i[i.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",i[i.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",i[i.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",i[i.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",i[i.BYTE=5120]="BYTE",i[i.SHORT=5122]="SHORT",i[i.INT=5124]="INT",i[i.FLOAT=5126]="FLOAT",i[i.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",i[i.HALF_FLOAT=36193]="HALF_FLOAT",i))(Ke||{}),Fe=(i=>(i[i.FLOAT=0]="FLOAT",i[i.INT=1]="INT",i[i.UINT=2]="UINT",i))(Fe||{}),so=(i=>(i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR",i))(so||{}),uo=(i=>(i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",i))(uo||{}),As=(i=>(i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON",i[i.ON_MANUAL=3]="ON_MANUAL",i))(As||{}),Nn=(i=>(i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",i))(Nn||{}),Es=(i=>(i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT",i))(Es||{}),Ng=(i=>(i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL",i))(Ng||{}),ci=(i=>(i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp",i))(ci||{}),Er=(i=>(i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE",i[i.COLOR=4]="COLOR",i))(Er||{}),mr=(i=>(i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH",i))(mr||{}),bs=(i=>(i[i.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",i[i.ARRAY_BUFFER=34962]="ARRAY_BUFFER",i[i.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",i))(bs||{});const T1={createCanvas:(i,e)=>{const t=document.createElement("canvas");return t.width=i,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,e)=>fetch(i,e),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")},Be={ADAPTER:T1,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var gp=/iPhone/i,Oy=/iPod/i,Fy=/iPad/i,By=/\biOS-universal(?:.+)Mac\b/i,yp=/\bAndroid(?:.+)Mobile\b/i,Ly=/Android/i,Du=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,dd=/Silk/i,ro=/Windows Phone/i,Uy=/\bWindows(?:.+)ARM\b/i,zy=/BlackBerry/i,Gy=/BB10/i,Hy=/Opera Mini/i,jy=/\b(CriOS|Chrome)(?:.+)Mobile/i,Wy=/Mobile(?:.+)Firefox\b/i,$y=function(i){return typeof i<"u"&&i.platform==="MacIntel"&&typeof i.maxTouchPoints=="number"&&i.maxTouchPoints>1&&typeof MSStream>"u"};function A1(i){return function(e){return e.test(i)}}function Vy(i){var e={userAgent:"",platform:"",maxTouchPoints:0};!i&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof i=="string"?e.userAgent=i:i&&i.userAgent&&(e={userAgent:i.userAgent,platform:i.platform,maxTouchPoints:i.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var o=A1(t),a={apple:{phone:o(gp)&&!o(ro),ipod:o(Oy),tablet:!o(gp)&&(o(Fy)||$y(e))&&!o(ro),universal:o(By),device:(o(gp)||o(Oy)||o(Fy)||o(By)||$y(e))&&!o(ro)},amazon:{phone:o(Du),tablet:!o(Du)&&o(dd),device:o(Du)||o(dd)},android:{phone:!o(ro)&&o(Du)||!o(ro)&&o(yp),tablet:!o(ro)&&!o(Du)&&!o(yp)&&(o(dd)||o(Ly)),device:!o(ro)&&(o(Du)||o(dd)||o(yp)||o(Ly))||o(/\bokhttp\b/i)},windows:{phone:o(ro),tablet:o(Uy),device:o(ro)||o(Uy)},other:{blackberry:o(zy),blackberry10:o(Gy),opera:o(Hy),firefox:o(Wy),chrome:o(jy),device:o(zy)||o(Gy)||o(Hy)||o(Wy)||o(jy)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}const C1=Vy.default??Vy,oo=C1(globalThis.navigator);Be.RETINA_PREFIX=/@([0-9\.]+)x/;Be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var vp={exports:{}},Xy;function P1(){return Xy||(Xy=1,(function(i){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function o(m,g,_){this.fn=m,this.context=g,this.once=_||!1}function a(m,g,_,w,S){if(typeof _!="function")throw new TypeError("The listener must be a function");var b=new o(_,w||m,S),A=t?t+g:g;return m._events[A]?m._events[A].fn?m._events[A]=[m._events[A],b]:m._events[A].push(b):(m._events[A]=b,m._eventsCount++),m}function c(m,g){--m._eventsCount===0?m._events=new r:delete m._events[g]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var g=[],_,w;if(this._eventsCount===0)return g;for(w in _=this._events)e.call(_,w)&&g.push(t?w.slice(1):w);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},d.prototype.listeners=function(g){var _=t?t+g:g,w=this._events[_];if(!w)return[];if(w.fn)return[w.fn];for(var S=0,b=w.length,A=new Array(b);S<b;S++)A[S]=w[S].fn;return A},d.prototype.listenerCount=function(g){var _=t?t+g:g,w=this._events[_];return w?w.fn?1:w.length:0},d.prototype.emit=function(g,_,w,S,b,A){var I=t?t+g:g;if(!this._events[I])return!1;var P=this._events[I],k=arguments.length,G,F;if(P.fn){switch(P.once&&this.removeListener(g,P.fn,void 0,!0),k){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,_),!0;case 3:return P.fn.call(P.context,_,w),!0;case 4:return P.fn.call(P.context,_,w,S),!0;case 5:return P.fn.call(P.context,_,w,S,b),!0;case 6:return P.fn.call(P.context,_,w,S,b,A),!0}for(F=1,G=new Array(k-1);F<k;F++)G[F-1]=arguments[F];P.fn.apply(P.context,G)}else{var W=P.length,U;for(F=0;F<W;F++)switch(P[F].once&&this.removeListener(g,P[F].fn,void 0,!0),k){case 1:P[F].fn.call(P[F].context);break;case 2:P[F].fn.call(P[F].context,_);break;case 3:P[F].fn.call(P[F].context,_,w);break;case 4:P[F].fn.call(P[F].context,_,w,S);break;default:if(!G)for(U=1,G=new Array(k-1);U<k;U++)G[U-1]=arguments[U];P[F].fn.apply(P[F].context,G)}}return!0},d.prototype.on=function(g,_,w){return a(this,g,_,w,!1)},d.prototype.once=function(g,_,w){return a(this,g,_,w,!0)},d.prototype.removeListener=function(g,_,w,S){var b=t?t+g:g;if(!this._events[b])return this;if(!_)return c(this,b),this;var A=this._events[b];if(A.fn)A.fn===_&&(!S||A.once)&&(!w||A.context===w)&&c(this,b);else{for(var I=0,P=[],k=A.length;I<k;I++)(A[I].fn!==_||S&&!A[I].once||w&&A[I].context!==w)&&P.push(A[I]);P.length?this._events[b]=P.length===1?P[0]:P:c(this,b)}return this},d.prototype.removeAllListeners=function(g){var _;return g?(_=t?t+g:g,this._events[_]&&c(this,_)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,i.exports=d})(vp)),vp.exports}var R1=P1();const Ec=df(R1);var fd={exports:{}},Yy;function I1(){if(Yy)return fd.exports;Yy=1,fd.exports=i,fd.exports.default=i;function i(B,L,C){C=C||2;var H=L&&L.length,D=H?L[0]*C:B.length,M=e(B,0,D,C,!0),z=[];if(!M||M.next===M.prev)return z;var X,ne,ue,me,xe,Te,Pe;if(H&&(M=m(B,L,M,C)),B.length>80*C){X=ue=B[0],ne=me=B[1];for(var ve=C;ve<D;ve+=C)xe=B[ve],Te=B[ve+1],xe<X&&(X=xe),Te<ne&&(ne=Te),xe>ue&&(ue=xe),Te>me&&(me=Te);Pe=Math.max(ue-X,me-ne),Pe=Pe!==0?32767/Pe:0}return r(M,z,C,X,ne,Pe,0),z}function e(B,L,C,H,D){var M,z;if(D===Re(B,L,C,H)>0)for(M=L;M<C;M+=H)z=Q(M,B[M],B[M+1],z);else for(M=C-H;M>=L;M-=H)z=Q(M,B[M],B[M+1],z);return z&&W(z,z.next)&&(se(z),z=z.next),z}function t(B,L){if(!B)return B;L||(L=B);var C=B,H;do if(H=!1,!C.steiner&&(W(C,C.next)||F(C.prev,C,C.next)===0)){if(se(C),C=L=C.prev,C===C.next)break;H=!0}else C=C.next;while(H||C!==L);return L}function r(B,L,C,H,D,M,z){if(B){!z&&M&&b(B,H,D,M);for(var X=B,ne,ue;B.prev!==B.next;){if(ne=B.prev,ue=B.next,M?a(B,H,D,M):o(B)){L.push(ne.i/C|0),L.push(B.i/C|0),L.push(ue.i/C|0),se(B),B=ue.next,X=ue.next;continue}if(B=ue,B===X){z?z===1?(B=c(t(B),L,C),r(B,L,C,H,D,M,2)):z===2&&d(B,L,C,H,D,M):r(t(B),L,C,H,D,M,1);break}}}}function o(B){var L=B.prev,C=B,H=B.next;if(F(L,C,H)>=0)return!1;for(var D=L.x,M=C.x,z=H.x,X=L.y,ne=C.y,ue=H.y,me=D<M?D<z?D:z:M<z?M:z,xe=X<ne?X<ue?X:ue:ne<ue?ne:ue,Te=D>M?D>z?D:z:M>z?M:z,Pe=X>ne?X>ue?X:ue:ne>ue?ne:ue,ve=H.next;ve!==L;){if(ve.x>=me&&ve.x<=Te&&ve.y>=xe&&ve.y<=Pe&&k(D,X,M,ne,z,ue,ve.x,ve.y)&&F(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function a(B,L,C,H){var D=B.prev,M=B,z=B.next;if(F(D,M,z)>=0)return!1;for(var X=D.x,ne=M.x,ue=z.x,me=D.y,xe=M.y,Te=z.y,Pe=X<ne?X<ue?X:ue:ne<ue?ne:ue,ve=me<xe?me<Te?me:Te:xe<Te?xe:Te,Me=X>ne?X>ue?X:ue:ne>ue?ne:ue,Ue=me>xe?me>Te?me:Te:xe>Te?xe:Te,We=I(Pe,ve,L,C,H),at=I(Me,Ue,L,C,H),He=B.prevZ,$e=B.nextZ;He&&He.z>=We&&$e&&$e.z<=at;){if(He.x>=Pe&&He.x<=Me&&He.y>=ve&&He.y<=Ue&&He!==D&&He!==z&&k(X,me,ne,xe,ue,Te,He.x,He.y)&&F(He.prev,He,He.next)>=0||(He=He.prevZ,$e.x>=Pe&&$e.x<=Me&&$e.y>=ve&&$e.y<=Ue&&$e!==D&&$e!==z&&k(X,me,ne,xe,ue,Te,$e.x,$e.y)&&F($e.prev,$e,$e.next)>=0))return!1;$e=$e.nextZ}for(;He&&He.z>=We;){if(He.x>=Pe&&He.x<=Me&&He.y>=ve&&He.y<=Ue&&He!==D&&He!==z&&k(X,me,ne,xe,ue,Te,He.x,He.y)&&F(He.prev,He,He.next)>=0)return!1;He=He.prevZ}for(;$e&&$e.z<=at;){if($e.x>=Pe&&$e.x<=Me&&$e.y>=ve&&$e.y<=Ue&&$e!==D&&$e!==z&&k(X,me,ne,xe,ue,Te,$e.x,$e.y)&&F($e.prev,$e,$e.next)>=0)return!1;$e=$e.nextZ}return!0}function c(B,L,C){var H=B;do{var D=H.prev,M=H.next.next;!W(D,M)&&U(D,H,H.next,M)&&ce(D,M)&&ce(M,D)&&(L.push(D.i/C|0),L.push(H.i/C|0),L.push(M.i/C|0),se(H),se(H.next),H=B=M),H=H.next}while(H!==B);return t(H)}function d(B,L,C,H,D,M){var z=B;do{for(var X=z.next.next;X!==z.prev;){if(z.i!==X.i&&G(z,X)){var ne=de(z,X);z=t(z,z.next),ne=t(ne,ne.next),r(z,L,C,H,D,M,0),r(ne,L,C,H,D,M,0);return}X=X.next}z=z.next}while(z!==B)}function m(B,L,C,H){var D=[],M,z,X,ne,ue;for(M=0,z=L.length;M<z;M++)X=L[M]*H,ne=M<z-1?L[M+1]*H:B.length,ue=e(B,X,ne,H,!1),ue===ue.next&&(ue.steiner=!0),D.push(P(ue));for(D.sort(g),M=0;M<D.length;M++)C=_(D[M],C);return C}function g(B,L){return B.x-L.x}function _(B,L){var C=w(B,L);if(!C)return L;var H=de(C,B);return t(H,H.next),t(C,C.next)}function w(B,L){var C=L,H=B.x,D=B.y,M=-1/0,z;do{if(D<=C.y&&D>=C.next.y&&C.next.y!==C.y){var X=C.x+(D-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(X<=H&&X>M&&(M=X,z=C.x<C.next.x?C:C.next,X===H))return z}C=C.next}while(C!==L);if(!z)return null;var ne=z,ue=z.x,me=z.y,xe=1/0,Te;C=z;do H>=C.x&&C.x>=ue&&H!==C.x&&k(D<me?H:M,D,ue,me,D<me?M:H,D,C.x,C.y)&&(Te=Math.abs(D-C.y)/(H-C.x),ce(C,B)&&(Te<xe||Te===xe&&(C.x>z.x||C.x===z.x&&S(z,C)))&&(z=C,xe=Te)),C=C.next;while(C!==ne);return z}function S(B,L){return F(B.prev,B,L.prev)<0&&F(L.next,B,B.next)<0}function b(B,L,C,H){var D=B;do D.z===0&&(D.z=I(D.x,D.y,L,C,H)),D.prevZ=D.prev,D.nextZ=D.next,D=D.next;while(D!==B);D.prevZ.nextZ=null,D.prevZ=null,A(D)}function A(B){var L,C,H,D,M,z,X,ne,ue=1;do{for(C=B,B=null,M=null,z=0;C;){for(z++,H=C,X=0,L=0;L<ue&&(X++,H=H.nextZ,!!H);L++);for(ne=ue;X>0||ne>0&&H;)X!==0&&(ne===0||!H||C.z<=H.z)?(D=C,C=C.nextZ,X--):(D=H,H=H.nextZ,ne--),M?M.nextZ=D:B=D,D.prevZ=M,M=D;C=H}M.nextZ=null,ue*=2}while(z>1);return B}function I(B,L,C,H,D){return B=(B-C)*D|0,L=(L-H)*D|0,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,B|L<<1}function P(B){var L=B,C=B;do(L.x<C.x||L.x===C.x&&L.y<C.y)&&(C=L),L=L.next;while(L!==B);return C}function k(B,L,C,H,D,M,z,X){return(D-z)*(L-X)>=(B-z)*(M-X)&&(B-z)*(H-X)>=(C-z)*(L-X)&&(C-z)*(M-X)>=(D-z)*(H-X)}function G(B,L){return B.next.i!==L.i&&B.prev.i!==L.i&&!Z(B,L)&&(ce(B,L)&&ce(L,B)&&pe(B,L)&&(F(B.prev,B,L.prev)||F(B,L.prev,L))||W(B,L)&&F(B.prev,B,B.next)>0&&F(L.prev,L,L.next)>0)}function F(B,L,C){return(L.y-B.y)*(C.x-L.x)-(L.x-B.x)*(C.y-L.y)}function W(B,L){return B.x===L.x&&B.y===L.y}function U(B,L,C,H){var D=N(F(B,L,C)),M=N(F(B,L,H)),z=N(F(C,H,B)),X=N(F(C,H,L));return!!(D!==M&&z!==X||D===0&&K(B,C,L)||M===0&&K(B,H,L)||z===0&&K(C,B,H)||X===0&&K(C,L,H))}function K(B,L,C){return L.x<=Math.max(B.x,C.x)&&L.x>=Math.min(B.x,C.x)&&L.y<=Math.max(B.y,C.y)&&L.y>=Math.min(B.y,C.y)}function N(B){return B>0?1:B<0?-1:0}function Z(B,L){var C=B;do{if(C.i!==B.i&&C.next.i!==B.i&&C.i!==L.i&&C.next.i!==L.i&&U(C,C.next,B,L))return!0;C=C.next}while(C!==B);return!1}function ce(B,L){return F(B.prev,B,B.next)<0?F(B,L,B.next)>=0&&F(B,B.prev,L)>=0:F(B,L,B.prev)<0||F(B,B.next,L)<0}function pe(B,L){var C=B,H=!1,D=(B.x+L.x)/2,M=(B.y+L.y)/2;do C.y>M!=C.next.y>M&&C.next.y!==C.y&&D<(C.next.x-C.x)*(M-C.y)/(C.next.y-C.y)+C.x&&(H=!H),C=C.next;while(C!==B);return H}function de(B,L){var C=new ae(B.i,B.x,B.y),H=new ae(L.i,L.x,L.y),D=B.next,M=L.prev;return B.next=L,L.prev=B,C.next=D,D.prev=C,H.next=C,C.prev=H,M.next=H,H.prev=M,H}function Q(B,L,C,H){var D=new ae(B,L,C);return H?(D.next=H.next,D.prev=H,H.next.prev=D,H.next=D):(D.prev=D,D.next=D),D}function se(B){B.next.prev=B.prev,B.prev.next=B.next,B.prevZ&&(B.prevZ.nextZ=B.nextZ),B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function ae(B,L,C){this.i=B,this.x=L,this.y=C,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}i.deviation=function(B,L,C,H){var D=L&&L.length,M=D?L[0]*C:B.length,z=Math.abs(Re(B,0,M,C));if(D)for(var X=0,ne=L.length;X<ne;X++){var ue=L[X]*C,me=X<ne-1?L[X+1]*C:B.length;z-=Math.abs(Re(B,ue,me,C))}var xe=0;for(X=0;X<H.length;X+=3){var Te=H[X]*C,Pe=H[X+1]*C,ve=H[X+2]*C;xe+=Math.abs((B[Te]-B[ve])*(B[Pe+1]-B[Te+1])-(B[Te]-B[Pe])*(B[ve+1]-B[Te+1]))}return z===0&&xe===0?0:Math.abs((xe-z)/z)};function Re(B,L,C,H){for(var D=0,M=L,z=C-H;M<C;M+=H)D+=(B[z]-B[M])*(B[M+1]+B[z+1]),z=M;return D}return i.flatten=function(B){for(var L=B[0][0].length,C={vertices:[],holes:[],dimensions:L},H=0,D=0;D<B.length;D++){for(var M=0;M<B[D].length;M++)for(var z=0;z<L;z++)C.vertices.push(B[D][M][z]);D>0&&(H+=B[D-1].length,C.holes.push(H))}return C},fd.exports}var M1=I1();const k1=df(M1);var wl={},sc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var D1=sc.exports,qy;function N1(){return qy||(qy=1,(function(i,e){(function(t){var r=e&&!e.nodeType&&e,o=i&&!i.nodeType&&i,a=typeof Xd=="object"&&Xd;(a.global===a||a.window===a||a.self===a)&&(t=a);var c,d=2147483647,m=36,g=1,_=26,w=38,S=700,b=72,A=128,I="-",P=/^xn--/,k=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},W=m-g,U=Math.floor,K=String.fromCharCode,N;function Z(D){throw new RangeError(F[D])}function ce(D,M){for(var z=D.length,X=[];z--;)X[z]=M(D[z]);return X}function pe(D,M){var z=D.split("@"),X="";z.length>1&&(X=z[0]+"@",D=z[1]),D=D.replace(G,".");var ne=D.split("."),ue=ce(ne,M).join(".");return X+ue}function de(D){for(var M=[],z=0,X=D.length,ne,ue;z<X;)ne=D.charCodeAt(z++),ne>=55296&&ne<=56319&&z<X?(ue=D.charCodeAt(z++),(ue&64512)==56320?M.push(((ne&1023)<<10)+(ue&1023)+65536):(M.push(ne),z--)):M.push(ne);return M}function Q(D){return ce(D,function(M){var z="";return M>65535&&(M-=65536,z+=K(M>>>10&1023|55296),M=56320|M&1023),z+=K(M),z}).join("")}function se(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:m}function ae(D,M){return D+22+75*(D<26)-((M!=0)<<5)}function Re(D,M,z){var X=0;for(D=z?U(D/S):D>>1,D+=U(D/M);D>W*_>>1;X+=m)D=U(D/W);return U(X+(W+1)*D/(D+w))}function B(D){var M=[],z=D.length,X,ne=0,ue=A,me=b,xe,Te,Pe,ve,Me,Ue,We,at,He;for(xe=D.lastIndexOf(I),xe<0&&(xe=0),Te=0;Te<xe;++Te)D.charCodeAt(Te)>=128&&Z("not-basic"),M.push(D.charCodeAt(Te));for(Pe=xe>0?xe+1:0;Pe<z;){for(ve=ne,Me=1,Ue=m;Pe>=z&&Z("invalid-input"),We=se(D.charCodeAt(Pe++)),(We>=m||We>U((d-ne)/Me))&&Z("overflow"),ne+=We*Me,at=Ue<=me?g:Ue>=me+_?_:Ue-me,!(We<at);Ue+=m)He=m-at,Me>U(d/He)&&Z("overflow"),Me*=He;X=M.length+1,me=Re(ne-ve,X,ve==0),U(ne/X)>d-ue&&Z("overflow"),ue+=U(ne/X),ne%=X,M.splice(ne++,0,ue)}return Q(M)}function L(D){var M,z,X,ne,ue,me,xe,Te,Pe,ve,Me,Ue=[],We,at,He,$e;for(D=de(D),We=D.length,M=A,z=0,ue=b,me=0;me<We;++me)Me=D[me],Me<128&&Ue.push(K(Me));for(X=ne=Ue.length,ne&&Ue.push(I);X<We;){for(xe=d,me=0;me<We;++me)Me=D[me],Me>=M&&Me<xe&&(xe=Me);for(at=X+1,xe-M>U((d-z)/at)&&Z("overflow"),z+=(xe-M)*at,M=xe,me=0;me<We;++me)if(Me=D[me],Me<M&&++z>d&&Z("overflow"),Me==M){for(Te=z,Pe=m;ve=Pe<=ue?g:Pe>=ue+_?_:Pe-ue,!(Te<ve);Pe+=m)$e=Te-ve,He=m-ve,Ue.push(K(ae(ve+$e%He,0))),Te=U($e/He);Ue.push(K(ae(Te,0))),ue=Re(z,at,X==ne),z=0,++X}++z,++M}return Ue.join("")}function C(D){return pe(D,function(M){return P.test(M)?B(M.slice(4).toLowerCase()):M})}function H(D){return pe(D,function(M){return k.test(M)?"xn--"+L(M):M})}if(c={version:"1.4.1",ucs2:{decode:de,encode:Q},decode:B,encode:L,toASCII:H,toUnicode:C},r&&o)if(i.exports==r)o.exports=c;else for(N in c)c.hasOwnProperty(N)&&(r[N]=c[N]);else t.punycode=c})(D1)})(sc,sc.exports)),sc.exports}var _p,Qy;function Zu(){return Qy||(Qy=1,_p=TypeError),_p}const O1={},F1=Object.freeze(Object.defineProperty({__proto__:null,default:O1},Symbol.toStringTag,{value:"Module"})),B1=i_(F1);var xp,Ky;function ff(){if(Ky)return xp;Ky=1;var i=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=i&&e&&typeof e.get=="function"?e.get:null,r=i&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=o&&a&&typeof a.get=="function"?a.get:null,d=o&&Set.prototype.forEach,m=typeof WeakMap=="function"&&WeakMap.prototype,g=m?WeakMap.prototype.has:null,_=typeof WeakSet=="function"&&WeakSet.prototype,w=_?WeakSet.prototype.has:null,S=typeof WeakRef=="function"&&WeakRef.prototype,b=S?WeakRef.prototype.deref:null,A=Boolean.prototype.valueOf,I=Object.prototype.toString,P=Function.prototype.toString,k=String.prototype.match,G=String.prototype.slice,F=String.prototype.replace,W=String.prototype.toUpperCase,U=String.prototype.toLowerCase,K=RegExp.prototype.test,N=Array.prototype.concat,Z=Array.prototype.join,ce=Array.prototype.slice,pe=Math.floor,de=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Q=Object.getOwnPropertySymbols,se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ae=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Re=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ae||!0)?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,L=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(te){return te.__proto__}:null);function C(te,ie){if(te===1/0||te===-1/0||te!==te||te&&te>-1e3&&te<1e3||K.call(/e/,ie))return ie;var ut=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof te=="number"){var _t=te<0?-pe(-te):pe(te);if(_t!==te){var Et=String(_t),tt=G.call(ie,Et.length+1);return F.call(Et,ut,"$&_")+"."+F.call(F.call(tt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return F.call(ie,ut,"$&_")}var H=B1,D=H.custom,M=at(D)?D:null,z={__proto__:null,double:'"',single:"'"},X={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};xp=function te(ie,ut,_t,Et){var tt=ut||{};if(Mt(tt,"quoteStyle")&&!Mt(z,tt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mt(tt,"maxStringLength")&&(typeof tt.maxStringLength=="number"?tt.maxStringLength<0&&tt.maxStringLength!==1/0:tt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Nr=Mt(tt,"customInspect")?tt.customInspect:!0;if(typeof Nr!="boolean"&&Nr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mt(tt,"indent")&&tt.indent!==null&&tt.indent!=="	"&&!(parseInt(tt.indent,10)===tt.indent&&tt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mt(tt,"numericSeparator")&&typeof tt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Jn=tt.numericSeparator;if(typeof ie>"u")return"undefined";if(ie===null)return"null";if(typeof ie=="boolean")return ie?"true":"false";if(typeof ie=="string")return mo(ie,tt);if(typeof ie=="number"){if(ie===0)return 1/0/ie>0?"0":"-0";var gr=String(ie);return Jn?C(ie,gr):gr}if(typeof ie=="bigint"){var dn=String(ie)+"n";return Jn?C(ie,dn):dn}var _o=typeof tt.depth>"u"?5:tt.depth;if(typeof _t>"u"&&(_t=0),_t>=_o&&_o>0&&typeof ie=="object")return xe(ie)?"[Array]":"[Object]";var Fn=Ul(tt,_t);if(typeof Et>"u")Et=[];else if(cr(Et,ie)>=0)return"[Circular]";function Sr(gi,Ms,jl){if(Ms&&(Et=ce.call(Et),Et.push(Ms)),jl){var Aa={depth:tt.depth};return Mt(tt,"quoteStyle")&&(Aa.quoteStyle=tt.quoteStyle),te(gi,Aa,_t+1,Et)}return te(gi,tt,_t+1,Et)}if(typeof ie=="function"&&!Pe(ie)){var xo=Kn(ie),Qi=vo(ie,Sr);return"[Function"+(xo?": "+xo:" (anonymous)")+"]"+(Qi.length>0?" { "+Z.call(Qi,", ")+" }":"")}if(at(ie)){var wo=ae?F.call(String(ie),/^(Symbol\(.*\))_[^)]*$/,"$1"):se.call(ie);return typeof ie=="object"&&!ae?Yi(wo):wo}if(Ll(ie)){for(var Bn="<"+U.call(String(ie.nodeName)),Eo=ie.attributes||[],fn=0;fn<Eo.length;fn++)Bn+=" "+Eo[fn].name+"="+ne(ue(Eo[fn].value),"double",tt);return Bn+=">",ie.childNodes&&ie.childNodes.length&&(Bn+="..."),Bn+="</"+U.call(String(ie.nodeName))+">",Bn}if(xe(ie)){if(ie.length===0)return"[]";var Ki=vo(ie,Sr);return Fn&&!eh(Ki)?"["+yo(Ki,Fn)+"]":"[ "+Z.call(Ki,", ")+" ]"}if(ve(ie)){var Zi=vo(ie,Sr);return!("cause"in Error.prototype)&&"cause"in ie&&!B.call(ie,"cause")?"{ ["+String(ie)+"] "+Z.call(N.call("[cause]: "+Sr(ie.cause),Zi),", ")+" }":Zi.length===0?"["+String(ie)+"]":"{ ["+String(ie)+"] "+Z.call(Zi,", ")+" }"}if(typeof ie=="object"&&Nr){if(M&&typeof ie[M]=="function"&&H)return H(ie,{depth:_o-_t});if(Nr!=="symbol"&&typeof ie.inspect=="function")return ie.inspect()}if(dr(ie)){var mi=[];return r&&r.call(ie,function(gi,Ms){mi.push(Sr(Ms,ie,!0)+" => "+Sr(gi,ie))}),qi("Map",t.call(ie),mi,Fn)}if(Zr(ie)){var zl=[];return d&&d.call(ie,function(gi){zl.push(Sr(gi,ie))}),qi("Set",c.call(ie),zl,Fn)}if(Zn(ie))return pi("WeakMap");if(Bl(ie))return pi("WeakSet");if(fi(ie))return pi("WeakRef");if(Ue(ie))return Yi(Sr(Number(ie)));if(He(ie))return Yi(Sr(de.call(ie)));if(We(ie))return Yi(A.call(ie));if(Me(ie))return Yi(Sr(String(ie)));if(typeof window<"u"&&ie===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ie===globalThis||typeof Xd<"u"&&ie===Xd)return"{ [object globalThis] }";if(!Te(ie)&&!Pe(ie)){var Sa=vo(ie,Sr),Gl=L?L(ie)===Object.prototype:ie instanceof Object||ie.constructor===Object,Ln=ie instanceof Object?"":"null prototype",ba=!Gl&&Re&&Object(ie)===ie&&Re in ie?G.call(Gt(ie),8,-1):Ln?"Object":"",Hl=Gl||typeof ie.constructor!="function"?"":ie.constructor.name?ie.constructor.name+" ":"",Ta=Hl+(ba||Ln?"["+Z.call(N.call([],ba||[],Ln||[]),": ")+"] ":"");return Sa.length===0?Ta+"{}":Fn?Ta+"{"+yo(Sa,Fn)+"}":Ta+"{ "+Z.call(Sa,", ")+" }"}return String(ie)};function ne(te,ie,ut){var _t=ut.quoteStyle||ie,Et=z[_t];return Et+te+Et}function ue(te){return F.call(String(te),/"/g,"&quot;")}function me(te){return!Re||!(typeof te=="object"&&(Re in te||typeof te[Re]<"u"))}function xe(te){return Gt(te)==="[object Array]"&&me(te)}function Te(te){return Gt(te)==="[object Date]"&&me(te)}function Pe(te){return Gt(te)==="[object RegExp]"&&me(te)}function ve(te){return Gt(te)==="[object Error]"&&me(te)}function Me(te){return Gt(te)==="[object String]"&&me(te)}function Ue(te){return Gt(te)==="[object Number]"&&me(te)}function We(te){return Gt(te)==="[object Boolean]"&&me(te)}function at(te){if(ae)return te&&typeof te=="object"&&te instanceof Symbol;if(typeof te=="symbol")return!0;if(!te||typeof te!="object"||!se)return!1;try{return se.call(te),!0}catch{}return!1}function He(te){if(!te||typeof te!="object"||!de)return!1;try{return de.call(te),!0}catch{}return!1}var $e=Object.prototype.hasOwnProperty||function(te){return te in this};function Mt(te,ie){return $e.call(te,ie)}function Gt(te){return I.call(te)}function Kn(te){if(te.name)return te.name;var ie=k.call(P.call(te),/^function\s*([\w$]+)/);return ie?ie[1]:null}function cr(te,ie){if(te.indexOf)return te.indexOf(ie);for(var ut=0,_t=te.length;ut<_t;ut++)if(te[ut]===ie)return ut;return-1}function dr(te){if(!t||!te||typeof te!="object")return!1;try{t.call(te);try{c.call(te)}catch{return!0}return te instanceof Map}catch{}return!1}function Zn(te){if(!g||!te||typeof te!="object")return!1;try{g.call(te,g);try{w.call(te,w)}catch{return!0}return te instanceof WeakMap}catch{}return!1}function fi(te){if(!b||!te||typeof te!="object")return!1;try{return b.call(te),!0}catch{}return!1}function Zr(te){if(!c||!te||typeof te!="object")return!1;try{c.call(te);try{t.call(te)}catch{return!0}return te instanceof Set}catch{}return!1}function Bl(te){if(!w||!te||typeof te!="object")return!1;try{w.call(te,w);try{g.call(te,g)}catch{return!0}return te instanceof WeakSet}catch{}return!1}function Ll(te){return!te||typeof te!="object"?!1:typeof HTMLElement<"u"&&te instanceof HTMLElement?!0:typeof te.nodeName=="string"&&typeof te.getAttribute=="function"}function mo(te,ie){if(te.length>ie.maxStringLength){var ut=te.length-ie.maxStringLength,_t="... "+ut+" more character"+(ut>1?"s":"");return mo(G.call(te,0,ie.maxStringLength),ie)+_t}var Et=X[ie.quoteStyle||"single"];Et.lastIndex=0;var tt=F.call(F.call(te,Et,"\\$1"),/[\x00-\x1f]/g,go);return ne(tt,"single",ie)}function go(te){var ie=te.charCodeAt(0),ut={8:"b",9:"t",10:"n",12:"f",13:"r"}[ie];return ut?"\\"+ut:"\\x"+(ie<16?"0":"")+W.call(ie.toString(16))}function Yi(te){return"Object("+te+")"}function pi(te){return te+" { ? }"}function qi(te,ie,ut,_t){var Et=_t?yo(ut,_t):Z.call(ut,", ");return te+" ("+ie+") {"+Et+"}"}function eh(te){for(var ie=0;ie<te.length;ie++)if(cr(te[ie],`
`)>=0)return!1;return!0}function Ul(te,ie){var ut;if(te.indent==="	")ut="	";else if(typeof te.indent=="number"&&te.indent>0)ut=Z.call(Array(te.indent+1)," ");else return null;return{base:ut,prev:Z.call(Array(ie+1),ut)}}function yo(te,ie){if(te.length===0)return"";var ut=`
`+ie.prev+ie.base;return ut+Z.call(te,","+ut)+`
`+ie.prev}function vo(te,ie){var ut=xe(te),_t=[];if(ut){_t.length=te.length;for(var Et=0;Et<te.length;Et++)_t[Et]=Mt(te,Et)?ie(te[Et],te):""}var tt=typeof Q=="function"?Q(te):[],Nr;if(ae){Nr={};for(var Jn=0;Jn<tt.length;Jn++)Nr["$"+tt[Jn]]=tt[Jn]}for(var gr in te)Mt(te,gr)&&(ut&&String(Number(gr))===gr&&gr<te.length||ae&&Nr["$"+gr]instanceof Symbol||(K.call(/[^\w$]/,gr)?_t.push(ie(gr,te)+": "+ie(te[gr],te)):_t.push(gr+": "+ie(te[gr],te))));if(typeof Q=="function")for(var dn=0;dn<tt.length;dn++)B.call(te,tt[dn])&&_t.push("["+ie(tt[dn])+"]: "+ie(te[tt[dn]],te));return _t}return xp}var wp,Zy;function L1(){if(Zy)return wp;Zy=1;var i=ff(),e=Zu(),t=function(d,m,g){for(var _=d,w;(w=_.next)!=null;_=w)if(w.key===m)return _.next=w.next,g||(w.next=d.next,d.next=w),w},r=function(d,m){if(d){var g=t(d,m);return g&&g.value}},o=function(d,m,g){var _=t(d,m);_?_.value=g:d.next={key:m,next:d.next,value:g}},a=function(d,m){return d?!!t(d,m):!1},c=function(d,m){if(d)return t(d,m,!0)};return wp=function(){var m,g={assert:function(_){if(!g.has(_))throw new e("Side channel does not contain "+i(_))},delete:function(_){var w=m&&m.next,S=c(m,_);return S&&w&&w===S&&(m=void 0),!!S},get:function(_){return r(m,_)},has:function(_){return a(m,_)},set:function(_,w){m||(m={next:void 0}),o(m,_,w)}};return g},wp}var Ep,Jy;function o_(){return Jy||(Jy=1,Ep=Object),Ep}var Sp,ev;function U1(){return ev||(ev=1,Sp=Error),Sp}var bp,tv;function z1(){return tv||(tv=1,bp=EvalError),bp}var Tp,rv;function G1(){return rv||(rv=1,Tp=RangeError),Tp}var Ap,nv;function H1(){return nv||(nv=1,Ap=ReferenceError),Ap}var Cp,iv;function j1(){return iv||(iv=1,Cp=SyntaxError),Cp}var Pp,sv;function W1(){return sv||(sv=1,Pp=URIError),Pp}var Rp,ov;function $1(){return ov||(ov=1,Rp=Math.abs),Rp}var Ip,av;function V1(){return av||(av=1,Ip=Math.floor),Ip}var Mp,lv;function X1(){return lv||(lv=1,Mp=Math.max),Mp}var kp,uv;function Y1(){return uv||(uv=1,kp=Math.min),kp}var Dp,hv;function q1(){return hv||(hv=1,Dp=Math.pow),Dp}var Np,cv;function Q1(){return cv||(cv=1,Np=Math.round),Np}var Op,dv;function K1(){return dv||(dv=1,Op=Number.isNaN||function(e){return e!==e}),Op}var Fp,fv;function Z1(){if(fv)return Fp;fv=1;var i=K1();return Fp=function(t){return i(t)||t===0?t:t<0?-1:1},Fp}var Bp,pv;function J1(){return pv||(pv=1,Bp=Object.getOwnPropertyDescriptor),Bp}var Lp,mv;function a_(){if(mv)return Lp;mv=1;var i=J1();if(i)try{i([],"length")}catch{i=null}return Lp=i,Lp}var Up,gv;function ew(){if(gv)return Up;gv=1;var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch{i=!1}return Up=i,Up}var zp,yv;function tw(){return yv||(yv=1,zp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;e[t]=o;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,t);if(d.value!==o||d.enumerable!==!0)return!1}return!0}),zp}var Gp,vv;function rw(){if(vv)return Gp;vv=1;var i=typeof Symbol<"u"&&Symbol,e=tw();return Gp=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Gp}var Hp,_v;function l_(){return _v||(_v=1,Hp=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Hp}var jp,xv;function u_(){if(xv)return jp;xv=1;var i=o_();return jp=i.getPrototypeOf||null,jp}var Wp,wv;function nw(){if(wv)return Wp;wv=1;var i="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",o=function(m,g){for(var _=[],w=0;w<m.length;w+=1)_[w]=m[w];for(var S=0;S<g.length;S+=1)_[S+m.length]=g[S];return _},a=function(m,g){for(var _=[],w=g,S=0;w<m.length;w+=1,S+=1)_[S]=m[w];return _},c=function(d,m){for(var g="",_=0;_<d.length;_+=1)g+=d[_],_+1<d.length&&(g+=m);return g};return Wp=function(m){var g=this;if(typeof g!="function"||e.apply(g)!==r)throw new TypeError(i+g);for(var _=a(arguments,1),w,S=function(){if(this instanceof w){var k=g.apply(this,o(_,arguments));return Object(k)===k?k:this}return g.apply(m,o(_,arguments))},b=t(0,g.length-_.length),A=[],I=0;I<b;I++)A[I]="$"+I;if(w=Function("binder","return function ("+c(A,",")+"){ return binder.apply(this,arguments); }")(S),g.prototype){var P=function(){};P.prototype=g.prototype,w.prototype=new P,P.prototype=null}return w},Wp}var $p,Ev;function pf(){if(Ev)return $p;Ev=1;var i=nw();return $p=Function.prototype.bind||i,$p}var Vp,Sv;function Og(){return Sv||(Sv=1,Vp=Function.prototype.call),Vp}var Xp,bv;function h_(){return bv||(bv=1,Xp=Function.prototype.apply),Xp}var Yp,Tv;function iw(){return Tv||(Tv=1,Yp=typeof Reflect<"u"&&Reflect&&Reflect.apply),Yp}var qp,Av;function sw(){if(Av)return qp;Av=1;var i=pf(),e=h_(),t=Og(),r=iw();return qp=r||i.call(t,e),qp}var Qp,Cv;function c_(){if(Cv)return Qp;Cv=1;var i=pf(),e=Zu(),t=Og(),r=sw();return Qp=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return r(i,t,a)},Qp}var Kp,Pv;function ow(){if(Pv)return Kp;Pv=1;var i=c_(),e=a_(),t;try{t=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var r=!!t&&e&&e(Object.prototype,"__proto__"),o=Object,a=o.getPrototypeOf;return Kp=r&&typeof r.get=="function"?i([r.get]):typeof a=="function"?function(d){return a(d==null?d:o(d))}:!1,Kp}var Zp,Rv;function aw(){if(Rv)return Zp;Rv=1;var i=l_(),e=u_(),t=ow();return Zp=i?function(o){return i(o)}:e?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return e(o)}:t?function(o){return t(o)}:null,Zp}var Jp,Iv;function lw(){if(Iv)return Jp;Iv=1;var i=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=pf();return Jp=t.call(i,e),Jp}var em,Mv;function Fg(){if(Mv)return em;Mv=1;var i,e=o_(),t=U1(),r=z1(),o=G1(),a=H1(),c=j1(),d=Zu(),m=W1(),g=$1(),_=V1(),w=X1(),S=Y1(),b=q1(),A=Q1(),I=Z1(),P=Function,k=function(Pe){try{return P('"use strict"; return ('+Pe+").constructor;")()}catch{}},G=a_(),F=ew(),W=function(){throw new d},U=G?(function(){try{return arguments.callee,W}catch{try{return G(arguments,"callee").get}catch{return W}}})():W,K=rw()(),N=aw(),Z=u_(),ce=l_(),pe=h_(),de=Og(),Q={},se=typeof Uint8Array>"u"||!N?i:N(Uint8Array),ae={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":K&&N?N([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":Q,"%AsyncGenerator%":Q,"%AsyncGeneratorFunction%":Q,"%AsyncIteratorPrototype%":Q,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?i:Float16Array,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":P,"%GeneratorFunction%":Q,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&N?N(N([][Symbol.iterator]())):i,"%JSON%":typeof JSON=="object"?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K||!N?i:N(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":G,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":o,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K||!N?i:N(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&N?N(""[Symbol.iterator]()):i,"%Symbol%":K?Symbol:i,"%SyntaxError%":c,"%ThrowTypeError%":U,"%TypedArray%":se,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":m,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet,"%Function.prototype.call%":de,"%Function.prototype.apply%":pe,"%Object.defineProperty%":F,"%Object.getPrototypeOf%":Z,"%Math.abs%":g,"%Math.floor%":_,"%Math.max%":w,"%Math.min%":S,"%Math.pow%":b,"%Math.round%":A,"%Math.sign%":I,"%Reflect.getPrototypeOf%":ce};if(N)try{null.error}catch(Pe){var Re=N(N(Pe));ae["%Error.prototype%"]=Re}var B=function Pe(ve){var Me;if(ve==="%AsyncFunction%")Me=k("async function () {}");else if(ve==="%GeneratorFunction%")Me=k("function* () {}");else if(ve==="%AsyncGeneratorFunction%")Me=k("async function* () {}");else if(ve==="%AsyncGenerator%"){var Ue=Pe("%AsyncGeneratorFunction%");Ue&&(Me=Ue.prototype)}else if(ve==="%AsyncIteratorPrototype%"){var We=Pe("%AsyncGenerator%");We&&N&&(Me=N(We.prototype))}return ae[ve]=Me,Me},L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=pf(),H=lw(),D=C.call(de,Array.prototype.concat),M=C.call(pe,Array.prototype.splice),z=C.call(de,String.prototype.replace),X=C.call(de,String.prototype.slice),ne=C.call(de,RegExp.prototype.exec),ue=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,me=/\\(\\)?/g,xe=function(ve){var Me=X(ve,0,1),Ue=X(ve,-1);if(Me==="%"&&Ue!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(Ue==="%"&&Me!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var We=[];return z(ve,ue,function(at,He,$e,Mt){We[We.length]=$e?z(Mt,me,"$1"):He||at}),We},Te=function(ve,Me){var Ue=ve,We;if(H(L,Ue)&&(We=L[Ue],Ue="%"+We[0]+"%"),H(ae,Ue)){var at=ae[Ue];if(at===Q&&(at=B(Ue)),typeof at>"u"&&!Me)throw new d("intrinsic "+ve+" exists, but is not available. Please file an issue!");return{alias:We,name:Ue,value:at}}throw new c("intrinsic "+ve+" does not exist!")};return em=function(ve,Me){if(typeof ve!="string"||ve.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Me!="boolean")throw new d('"allowMissing" argument must be a boolean');if(ne(/^%?[^%]*%?$/,ve)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=xe(ve),We=Ue.length>0?Ue[0]:"",at=Te("%"+We+"%",Me),He=at.name,$e=at.value,Mt=!1,Gt=at.alias;Gt&&(We=Gt[0],M(Ue,D([0,1],Gt)));for(var Kn=1,cr=!0;Kn<Ue.length;Kn+=1){var dr=Ue[Kn],Zn=X(dr,0,1),fi=X(dr,-1);if((Zn==='"'||Zn==="'"||Zn==="`"||fi==='"'||fi==="'"||fi==="`")&&Zn!==fi)throw new c("property names with quotes must have matching quotes");if((dr==="constructor"||!cr)&&(Mt=!0),We+="."+dr,He="%"+We+"%",H(ae,He))$e=ae[He];else if($e!=null){if(!(dr in $e)){if(!Me)throw new d("base intrinsic for "+ve+" exists, but the property is not available.");return}if(G&&Kn+1>=Ue.length){var Zr=G($e,dr);cr=!!Zr,cr&&"get"in Zr&&!("originalValue"in Zr.get)?$e=Zr.get:$e=$e[dr]}else cr=H($e,dr),$e=$e[dr];cr&&!Mt&&(ae[He]=$e)}}return $e},em}var tm,kv;function d_(){if(kv)return tm;kv=1;var i=Fg(),e=c_(),t=e([i("%String.prototype.indexOf%")]);return tm=function(o,a){var c=i(o,!!a);return typeof c=="function"&&t(o,".prototype.")>-1?e([c]):c},tm}var rm,Dv;function f_(){if(Dv)return rm;Dv=1;var i=Fg(),e=d_(),t=ff(),r=Zu(),o=i("%Map%",!0),a=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),d=e("Map.prototype.has",!0),m=e("Map.prototype.delete",!0),g=e("Map.prototype.size",!0);return rm=!!o&&function(){var w,S={assert:function(b){if(!S.has(b))throw new r("Side channel does not contain "+t(b))},delete:function(b){if(w){var A=m(w,b);return g(w)===0&&(w=void 0),A}return!1},get:function(b){if(w)return a(w,b)},has:function(b){return w?d(w,b):!1},set:function(b,A){w||(w=new o),c(w,b,A)}};return S},rm}var nm,Nv;function uw(){if(Nv)return nm;Nv=1;var i=Fg(),e=d_(),t=ff(),r=f_(),o=Zu(),a=i("%WeakMap%",!0),c=e("WeakMap.prototype.get",!0),d=e("WeakMap.prototype.set",!0),m=e("WeakMap.prototype.has",!0),g=e("WeakMap.prototype.delete",!0);return nm=a?function(){var w,S,b={assert:function(A){if(!b.has(A))throw new o("Side channel does not contain "+t(A))},delete:function(A){if(a&&A&&(typeof A=="object"||typeof A=="function")){if(w)return g(w,A)}else if(r&&S)return S.delete(A);return!1},get:function(A){return a&&A&&(typeof A=="object"||typeof A=="function")&&w?c(w,A):S&&S.get(A)},has:function(A){return a&&A&&(typeof A=="object"||typeof A=="function")&&w?m(w,A):!!S&&S.has(A)},set:function(A,I){a&&A&&(typeof A=="object"||typeof A=="function")?(w||(w=new a),d(w,A,I)):r&&(S||(S=r()),S.set(A,I))}};return b}:r,nm}var im,Ov;function hw(){if(Ov)return im;Ov=1;var i=Zu(),e=ff(),t=L1(),r=f_(),o=uw(),a=o||r||t;return im=function(){var d,m={assert:function(g){if(!m.has(g))throw new i("Side channel does not contain "+e(g))},delete:function(g){return!!d&&d.delete(g)},get:function(g){return d&&d.get(g)},has:function(g){return!!d&&d.has(g)},set:function(g,_){d||(d=a()),d.set(g,_)}};return m},im}var sm,Fv;function Bg(){if(Fv)return sm;Fv=1;var i=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return sm={default:t.RFC3986,formatters:{RFC1738:function(r){return i.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},sm}var om,Bv;function p_(){if(Bv)return om;Bv=1;var i=Bg(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r=(function(){for(var P=[],k=0;k<256;++k)P.push("%"+((k<16?"0":"")+k.toString(16)).toUpperCase());return P})(),o=function(k){for(;k.length>1;){var G=k.pop(),F=G.obj[G.prop];if(t(F)){for(var W=[],U=0;U<F.length;++U)typeof F[U]<"u"&&W.push(F[U]);G.obj[G.prop]=W}}},a=function(k,G){for(var F=G&&G.plainObjects?{__proto__:null}:{},W=0;W<k.length;++W)typeof k[W]<"u"&&(F[W]=k[W]);return F},c=function P(k,G,F){if(!G)return k;if(typeof G!="object"&&typeof G!="function"){if(t(k))k.push(G);else if(k&&typeof k=="object")(F&&(F.plainObjects||F.allowPrototypes)||!e.call(Object.prototype,G))&&(k[G]=!0);else return[k,G];return k}if(!k||typeof k!="object")return[k].concat(G);var W=k;return t(k)&&!t(G)&&(W=a(k,F)),t(k)&&t(G)?(G.forEach(function(U,K){if(e.call(k,K)){var N=k[K];N&&typeof N=="object"&&U&&typeof U=="object"?k[K]=P(N,U,F):k.push(U)}else k[K]=U}),k):Object.keys(G).reduce(function(U,K){var N=G[K];return e.call(U,K)?U[K]=P(U[K],N,F):U[K]=N,U},W)},d=function(k,G){return Object.keys(G).reduce(function(F,W){return F[W]=G[W],F},k)},m=function(P,k,G){var F=P.replace(/\+/g," ");if(G==="iso-8859-1")return F.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(F)}catch{return F}},g=1024,_=function(k,G,F,W,U){if(k.length===0)return k;var K=k;if(typeof k=="symbol"?K=Symbol.prototype.toString.call(k):typeof k!="string"&&(K=String(k)),F==="iso-8859-1")return escape(K).replace(/%u[0-9a-f]{4}/gi,function(se){return"%26%23"+parseInt(se.slice(2),16)+"%3B"});for(var N="",Z=0;Z<K.length;Z+=g){for(var ce=K.length>=g?K.slice(Z,Z+g):K,pe=[],de=0;de<ce.length;++de){var Q=ce.charCodeAt(de);if(Q===45||Q===46||Q===95||Q===126||Q>=48&&Q<=57||Q>=65&&Q<=90||Q>=97&&Q<=122||U===i.RFC1738&&(Q===40||Q===41)){pe[pe.length]=ce.charAt(de);continue}if(Q<128){pe[pe.length]=r[Q];continue}if(Q<2048){pe[pe.length]=r[192|Q>>6]+r[128|Q&63];continue}if(Q<55296||Q>=57344){pe[pe.length]=r[224|Q>>12]+r[128|Q>>6&63]+r[128|Q&63];continue}de+=1,Q=65536+((Q&1023)<<10|ce.charCodeAt(de)&1023),pe[pe.length]=r[240|Q>>18]+r[128|Q>>12&63]+r[128|Q>>6&63]+r[128|Q&63]}N+=pe.join("")}return N},w=function(k){for(var G=[{obj:{o:k},prop:"o"}],F=[],W=0;W<G.length;++W)for(var U=G[W],K=U.obj[U.prop],N=Object.keys(K),Z=0;Z<N.length;++Z){var ce=N[Z],pe=K[ce];typeof pe=="object"&&pe!==null&&F.indexOf(pe)===-1&&(G.push({obj:K,prop:ce}),F.push(pe))}return o(G),k},S=function(k){return Object.prototype.toString.call(k)==="[object RegExp]"},b=function(k){return!k||typeof k!="object"?!1:!!(k.constructor&&k.constructor.isBuffer&&k.constructor.isBuffer(k))},A=function(k,G){return[].concat(k,G)},I=function(k,G){if(t(k)){for(var F=[],W=0;W<k.length;W+=1)F.push(G(k[W]));return F}return G(k)};return om={arrayToObject:a,assign:d,combine:A,compact:w,decode:m,encode:_,isBuffer:b,isRegExp:S,maybeMap:I,merge:c},om}var am,Lv;function cw(){if(Lv)return am;Lv=1;var i=hw(),e=p_(),t=Bg(),r=Object.prototype.hasOwnProperty,o={brackets:function(P){return P+"[]"},comma:"comma",indices:function(P,k){return P+"["+k+"]"},repeat:function(P){return P}},a=Array.isArray,c=Array.prototype.push,d=function(I,P){c.apply(I,a(P)?P:[P])},m=Date.prototype.toISOString,g=t.default,_={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:g,formatter:t.formatters[g],indices:!1,serializeDate:function(P){return m.call(P)},skipNulls:!1,strictNullHandling:!1},w=function(P){return typeof P=="string"||typeof P=="number"||typeof P=="boolean"||typeof P=="symbol"||typeof P=="bigint"},S={},b=function I(P,k,G,F,W,U,K,N,Z,ce,pe,de,Q,se,ae,Re,B,L){for(var C=P,H=L,D=0,M=!1;(H=H.get(S))!==void 0&&!M;){var z=H.get(P);if(D+=1,typeof z<"u"){if(z===D)throw new RangeError("Cyclic object value");M=!0}typeof H.get(S)>"u"&&(D=0)}if(typeof ce=="function"?C=ce(k,C):C instanceof Date?C=Q(C):G==="comma"&&a(C)&&(C=e.maybeMap(C,function(He){return He instanceof Date?Q(He):He})),C===null){if(U)return Z&&!Re?Z(k,_.encoder,B,"key",se):k;C=""}if(w(C)||e.isBuffer(C)){if(Z){var X=Re?k:Z(k,_.encoder,B,"key",se);return[ae(X)+"="+ae(Z(C,_.encoder,B,"value",se))]}return[ae(k)+"="+ae(String(C))]}var ne=[];if(typeof C>"u")return ne;var ue;if(G==="comma"&&a(C))Re&&Z&&(C=e.maybeMap(C,Z)),ue=[{value:C.length>0?C.join(",")||null:void 0}];else if(a(ce))ue=ce;else{var me=Object.keys(C);ue=pe?me.sort(pe):me}var xe=N?String(k).replace(/\./g,"%2E"):String(k),Te=F&&a(C)&&C.length===1?xe+"[]":xe;if(W&&a(C)&&C.length===0)return Te+"[]";for(var Pe=0;Pe<ue.length;++Pe){var ve=ue[Pe],Me=typeof ve=="object"&&ve&&typeof ve.value<"u"?ve.value:C[ve];if(!(K&&Me===null)){var Ue=de&&N?String(ve).replace(/\./g,"%2E"):String(ve),We=a(C)?typeof G=="function"?G(Te,Ue):Te:Te+(de?"."+Ue:"["+Ue+"]");L.set(P,D);var at=i();at.set(S,L),d(ne,I(Me,We,G,F,W,U,K,N,G==="comma"&&Re&&a(C)?null:Z,ce,pe,de,Q,se,ae,Re,B,at))}}return ne},A=function(P){if(!P)return _;if(typeof P.allowEmptyArrays<"u"&&typeof P.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof P.encodeDotInKeys<"u"&&typeof P.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(P.encoder!==null&&typeof P.encoder<"u"&&typeof P.encoder!="function")throw new TypeError("Encoder has to be a function.");var k=P.charset||_.charset;if(typeof P.charset<"u"&&P.charset!=="utf-8"&&P.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var G=t.default;if(typeof P.format<"u"){if(!r.call(t.formatters,P.format))throw new TypeError("Unknown format option provided.");G=P.format}var F=t.formatters[G],W=_.filter;(typeof P.filter=="function"||a(P.filter))&&(W=P.filter);var U;if(P.arrayFormat in o?U=P.arrayFormat:"indices"in P?U=P.indices?"indices":"repeat":U=_.arrayFormat,"commaRoundTrip"in P&&typeof P.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var K=typeof P.allowDots>"u"?P.encodeDotInKeys===!0?!0:_.allowDots:!!P.allowDots;return{addQueryPrefix:typeof P.addQueryPrefix=="boolean"?P.addQueryPrefix:_.addQueryPrefix,allowDots:K,allowEmptyArrays:typeof P.allowEmptyArrays=="boolean"?!!P.allowEmptyArrays:_.allowEmptyArrays,arrayFormat:U,charset:k,charsetSentinel:typeof P.charsetSentinel=="boolean"?P.charsetSentinel:_.charsetSentinel,commaRoundTrip:!!P.commaRoundTrip,delimiter:typeof P.delimiter>"u"?_.delimiter:P.delimiter,encode:typeof P.encode=="boolean"?P.encode:_.encode,encodeDotInKeys:typeof P.encodeDotInKeys=="boolean"?P.encodeDotInKeys:_.encodeDotInKeys,encoder:typeof P.encoder=="function"?P.encoder:_.encoder,encodeValuesOnly:typeof P.encodeValuesOnly=="boolean"?P.encodeValuesOnly:_.encodeValuesOnly,filter:W,format:G,formatter:F,serializeDate:typeof P.serializeDate=="function"?P.serializeDate:_.serializeDate,skipNulls:typeof P.skipNulls=="boolean"?P.skipNulls:_.skipNulls,sort:typeof P.sort=="function"?P.sort:null,strictNullHandling:typeof P.strictNullHandling=="boolean"?P.strictNullHandling:_.strictNullHandling}};return am=function(I,P){var k=I,G=A(P),F,W;typeof G.filter=="function"?(W=G.filter,k=W("",k)):a(G.filter)&&(W=G.filter,F=W);var U=[];if(typeof k!="object"||k===null)return"";var K=o[G.arrayFormat],N=K==="comma"&&G.commaRoundTrip;F||(F=Object.keys(k)),G.sort&&F.sort(G.sort);for(var Z=i(),ce=0;ce<F.length;++ce){var pe=F[ce],de=k[pe];G.skipNulls&&de===null||d(U,b(de,pe,K,N,G.allowEmptyArrays,G.strictNullHandling,G.skipNulls,G.encodeDotInKeys,G.encode?G.encoder:null,G.filter,G.sort,G.allowDots,G.serializeDate,G.format,G.formatter,G.encodeValuesOnly,G.charset,Z))}var Q=U.join(G.delimiter),se=G.addQueryPrefix===!0?"?":"";return G.charsetSentinel&&(G.charset==="iso-8859-1"?se+="utf8=%26%2310003%3B&":se+="utf8=%E2%9C%93&"),Q.length>0?se+Q:""},am}var lm,Uv;function dw(){if(Uv)return lm;Uv=1;var i=p_(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},o=function(S){return S.replace(/&#(\d+);/g,function(b,A){return String.fromCharCode(parseInt(A,10))})},a=function(S,b,A){if(S&&typeof S=="string"&&b.comma&&S.indexOf(",")>-1)return S.split(",");if(b.throwOnLimitExceeded&&A>=b.arrayLimit)throw new RangeError("Array limit exceeded. Only "+b.arrayLimit+" element"+(b.arrayLimit===1?"":"s")+" allowed in an array.");return S},c="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",m=function(b,A){var I={__proto__:null},P=A.ignoreQueryPrefix?b.replace(/^\?/,""):b;P=P.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var k=A.parameterLimit===1/0?void 0:A.parameterLimit,G=P.split(A.delimiter,A.throwOnLimitExceeded?k+1:k);if(A.throwOnLimitExceeded&&G.length>k)throw new RangeError("Parameter limit exceeded. Only "+k+" parameter"+(k===1?"":"s")+" allowed.");var F=-1,W,U=A.charset;if(A.charsetSentinel)for(W=0;W<G.length;++W)G[W].indexOf("utf8=")===0&&(G[W]===d?U="utf-8":G[W]===c&&(U="iso-8859-1"),F=W,W=G.length);for(W=0;W<G.length;++W)if(W!==F){var K=G[W],N=K.indexOf("]="),Z=N===-1?K.indexOf("="):N+1,ce,pe;Z===-1?(ce=A.decoder(K,r.decoder,U,"key"),pe=A.strictNullHandling?null:""):(ce=A.decoder(K.slice(0,Z),r.decoder,U,"key"),pe=i.maybeMap(a(K.slice(Z+1),A,t(I[ce])?I[ce].length:0),function(Q){return A.decoder(Q,r.decoder,U,"value")})),pe&&A.interpretNumericEntities&&U==="iso-8859-1"&&(pe=o(String(pe))),K.indexOf("[]=")>-1&&(pe=t(pe)?[pe]:pe);var de=e.call(I,ce);de&&A.duplicates==="combine"?I[ce]=i.combine(I[ce],pe):(!de||A.duplicates==="last")&&(I[ce]=pe)}return I},g=function(S,b,A,I){var P=0;if(S.length>0&&S[S.length-1]==="[]"){var k=S.slice(0,-1).join("");P=Array.isArray(b)&&b[k]?b[k].length:0}for(var G=I?b:a(b,A,P),F=S.length-1;F>=0;--F){var W,U=S[F];if(U==="[]"&&A.parseArrays)W=A.allowEmptyArrays&&(G===""||A.strictNullHandling&&G===null)?[]:i.combine([],G);else{W=A.plainObjects?{__proto__:null}:{};var K=U.charAt(0)==="["&&U.charAt(U.length-1)==="]"?U.slice(1,-1):U,N=A.decodeDotInKeys?K.replace(/%2E/g,"."):K,Z=parseInt(N,10);!A.parseArrays&&N===""?W={0:G}:!isNaN(Z)&&U!==N&&String(Z)===N&&Z>=0&&A.parseArrays&&Z<=A.arrayLimit?(W=[],W[Z]=G):N!=="__proto__"&&(W[N]=G)}G=W}return G},_=function(b,A,I,P){if(b){var k=I.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,G=/(\[[^[\]]*])/,F=/(\[[^[\]]*])/g,W=I.depth>0&&G.exec(k),U=W?k.slice(0,W.index):k,K=[];if(U){if(!I.plainObjects&&e.call(Object.prototype,U)&&!I.allowPrototypes)return;K.push(U)}for(var N=0;I.depth>0&&(W=F.exec(k))!==null&&N<I.depth;){if(N+=1,!I.plainObjects&&e.call(Object.prototype,W[1].slice(1,-1))&&!I.allowPrototypes)return;K.push(W[1])}if(W){if(I.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+I.depth+" and strictDepth is true");K.push("["+k.slice(W.index)+"]")}return g(K,A,I,P)}},w=function(b){if(!b)return r;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.decodeDotInKeys<"u"&&typeof b.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(b.decoder!==null&&typeof b.decoder<"u"&&typeof b.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof b.throwOnLimitExceeded<"u"&&typeof b.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var A=typeof b.charset>"u"?r.charset:b.charset,I=typeof b.duplicates>"u"?r.duplicates:b.duplicates;if(I!=="combine"&&I!=="first"&&I!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var P=typeof b.allowDots>"u"?b.decodeDotInKeys===!0?!0:r.allowDots:!!b.allowDots;return{allowDots:P,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof b.allowPrototypes=="boolean"?b.allowPrototypes:r.allowPrototypes,allowSparse:typeof b.allowSparse=="boolean"?b.allowSparse:r.allowSparse,arrayLimit:typeof b.arrayLimit=="number"?b.arrayLimit:r.arrayLimit,charset:A,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:r.charsetSentinel,comma:typeof b.comma=="boolean"?b.comma:r.comma,decodeDotInKeys:typeof b.decodeDotInKeys=="boolean"?b.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof b.decoder=="function"?b.decoder:r.decoder,delimiter:typeof b.delimiter=="string"||i.isRegExp(b.delimiter)?b.delimiter:r.delimiter,depth:typeof b.depth=="number"||b.depth===!1?+b.depth:r.depth,duplicates:I,ignoreQueryPrefix:b.ignoreQueryPrefix===!0,interpretNumericEntities:typeof b.interpretNumericEntities=="boolean"?b.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof b.parameterLimit=="number"?b.parameterLimit:r.parameterLimit,parseArrays:b.parseArrays!==!1,plainObjects:typeof b.plainObjects=="boolean"?b.plainObjects:r.plainObjects,strictDepth:typeof b.strictDepth=="boolean"?!!b.strictDepth:r.strictDepth,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof b.throwOnLimitExceeded=="boolean"?b.throwOnLimitExceeded:!1}};return lm=function(S,b){var A=w(b);if(S===""||S===null||typeof S>"u")return A.plainObjects?{__proto__:null}:{};for(var I=typeof S=="string"?m(S,A):S,P=A.plainObjects?{__proto__:null}:{},k=Object.keys(I),G=0;G<k.length;++G){var F=k[G],W=_(F,I[F],A,typeof S=="string");P=i.merge(P,W,A)}return A.allowSparse===!0?P:i.compact(P)},lm}var um,zv;function fw(){if(zv)return um;zv=1;var i=cw(),e=dw(),t=Bg();return um={formats:t,parse:e,stringify:i},um}var Gv;function pw(){if(Gv)return wl;Gv=1;var i=N1();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],c=["{","}","|","\\","^","`"].concat(a),d=["'"].concat(c),m=["%","/","?",";","#"].concat(d),g=["/","?","#"],_=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},A={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=fw();function k(U,K,N){if(U&&typeof U=="object"&&U instanceof e)return U;var Z=new e;return Z.parse(U,K,N),Z}e.prototype.parse=function(U,K,N){if(typeof U!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof U);var Z=U.indexOf("?"),ce=Z!==-1&&Z<U.indexOf("#")?"?":"#",pe=U.split(ce),de=/\\/g;pe[0]=pe[0].replace(de,"/"),U=pe.join(ce);var Q=U;if(Q=Q.trim(),!N&&U.split("#").length===1){var se=o.exec(Q);if(se)return this.path=Q,this.href=Q,this.pathname=se[1],se[2]?(this.search=se[2],K?this.query=P.parse(this.search.substr(1)):this.query=this.search.substr(1)):K&&(this.search="",this.query={}),this}var ae=t.exec(Q);if(ae){ae=ae[0];var Re=ae.toLowerCase();this.protocol=Re,Q=Q.substr(ae.length)}if(N||ae||Q.match(/^\/\/[^@/]+@[^@/]+/)){var B=Q.substr(0,2)==="//";B&&!(ae&&A[ae])&&(Q=Q.substr(2),this.slashes=!0)}if(!A[ae]&&(B||ae&&!I[ae])){for(var L=-1,C=0;C<g.length;C++){var H=Q.indexOf(g[C]);H!==-1&&(L===-1||H<L)&&(L=H)}var D,M;L===-1?M=Q.lastIndexOf("@"):M=Q.lastIndexOf("@",L),M!==-1&&(D=Q.slice(0,M),Q=Q.slice(M+1),this.auth=decodeURIComponent(D)),L=-1;for(var C=0;C<m.length;C++){var H=Q.indexOf(m[C]);H!==-1&&(L===-1||H<L)&&(L=H)}L===-1&&(L=Q.length),this.host=Q.slice(0,L),Q=Q.slice(L),this.parseHost(),this.hostname=this.hostname||"";var z=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!z)for(var X=this.hostname.split(/\./),C=0,ne=X.length;C<ne;C++){var ue=X[C];if(ue&&!ue.match(w)){for(var me="",xe=0,Te=ue.length;xe<Te;xe++)ue.charCodeAt(xe)>127?me+="x":me+=ue[xe];if(!me.match(w)){var Pe=X.slice(0,C),ve=X.slice(C+1),Me=ue.match(S);Me&&(Pe.push(Me[1]),ve.unshift(Me[2])),ve.length&&(Q="/"+ve.join(".")+Q),this.hostname=Pe.join(".");break}}}this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),z||(this.hostname=i.toASCII(this.hostname));var Ue=this.port?":"+this.port:"",We=this.hostname||"";this.host=We+Ue,this.href+=this.host,z&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!b[Re])for(var C=0,ne=d.length;C<ne;C++){var at=d[C];if(Q.indexOf(at)!==-1){var He=encodeURIComponent(at);He===at&&(He=escape(at)),Q=Q.split(at).join(He)}}var $e=Q.indexOf("#");$e!==-1&&(this.hash=Q.substr($e),Q=Q.slice(0,$e));var Mt=Q.indexOf("?");if(Mt!==-1?(this.search=Q.substr(Mt),this.query=Q.substr(Mt+1),K&&(this.query=P.parse(this.query)),Q=Q.slice(0,Mt)):K&&(this.search="",this.query={}),Q&&(this.pathname=Q),I[Re]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ue=this.pathname||"",Gt=this.search||"";this.path=Ue+Gt}return this.href=this.format(),this};function G(U){return typeof U=="string"&&(U=k(U)),U instanceof e?U.format():e.prototype.format.call(U)}e.prototype.format=function(){var U=this.auth||"";U&&(U=encodeURIComponent(U),U=U.replace(/%3A/i,":"),U+="@");var K=this.protocol||"",N=this.pathname||"",Z=this.hash||"",ce=!1,pe="";this.host?ce=U+this.host:this.hostname&&(ce=U+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ce+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(pe=P.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var de=this.search||pe&&"?"+pe||"";return K&&K.substr(-1)!==":"&&(K+=":"),this.slashes||(!K||I[K])&&ce!==!1?(ce="//"+(ce||""),N&&N.charAt(0)!=="/"&&(N="/"+N)):ce||(ce=""),Z&&Z.charAt(0)!=="#"&&(Z="#"+Z),de&&de.charAt(0)!=="?"&&(de="?"+de),N=N.replace(/[?#]/g,function(Q){return encodeURIComponent(Q)}),de=de.replace("#","%23"),K+ce+N+de+Z};function F(U,K){return k(U,!1,!0).resolve(K)}e.prototype.resolve=function(U){return this.resolveObject(k(U,!1,!0)).format()};function W(U,K){return U?k(U,!1,!0).resolveObject(K):K}return e.prototype.resolveObject=function(U){if(typeof U=="string"){var K=new e;K.parse(U,!1,!0),U=K}for(var N=new e,Z=Object.keys(this),ce=0;ce<Z.length;ce++){var pe=Z[ce];N[pe]=this[pe]}if(N.hash=U.hash,U.href==="")return N.href=N.format(),N;if(U.slashes&&!U.protocol){for(var de=Object.keys(U),Q=0;Q<de.length;Q++){var se=de[Q];se!=="protocol"&&(N[se]=U[se])}return I[N.protocol]&&N.hostname&&!N.pathname&&(N.pathname="/",N.path=N.pathname),N.href=N.format(),N}if(U.protocol&&U.protocol!==N.protocol){if(!I[U.protocol]){for(var ae=Object.keys(U),Re=0;Re<ae.length;Re++){var B=ae[Re];N[B]=U[B]}return N.href=N.format(),N}if(N.protocol=U.protocol,!U.host&&!A[U.protocol]){for(var ne=(U.pathname||"").split("/");ne.length&&!(U.host=ne.shift()););U.host||(U.host=""),U.hostname||(U.hostname=""),ne[0]!==""&&ne.unshift(""),ne.length<2&&ne.unshift(""),N.pathname=ne.join("/")}else N.pathname=U.pathname;if(N.search=U.search,N.query=U.query,N.host=U.host||"",N.auth=U.auth,N.hostname=U.hostname||U.host,N.port=U.port,N.pathname||N.search){var L=N.pathname||"",C=N.search||"";N.path=L+C}return N.slashes=N.slashes||U.slashes,N.href=N.format(),N}var H=N.pathname&&N.pathname.charAt(0)==="/",D=U.host||U.pathname&&U.pathname.charAt(0)==="/",M=D||H||N.host&&U.pathname,z=M,X=N.pathname&&N.pathname.split("/")||[],ne=U.pathname&&U.pathname.split("/")||[],ue=N.protocol&&!I[N.protocol];if(ue&&(N.hostname="",N.port=null,N.host&&(X[0]===""?X[0]=N.host:X.unshift(N.host)),N.host="",U.protocol&&(U.hostname=null,U.port=null,U.host&&(ne[0]===""?ne[0]=U.host:ne.unshift(U.host)),U.host=null),M=M&&(ne[0]===""||X[0]==="")),D)N.host=U.host||U.host===""?U.host:N.host,N.hostname=U.hostname||U.hostname===""?U.hostname:N.hostname,N.search=U.search,N.query=U.query,X=ne;else if(ne.length)X||(X=[]),X.pop(),X=X.concat(ne),N.search=U.search,N.query=U.query;else if(U.search!=null){if(ue){N.host=X.shift(),N.hostname=N.host;var me=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;me&&(N.auth=me.shift(),N.hostname=me.shift(),N.host=N.hostname)}return N.search=U.search,N.query=U.query,(N.pathname!==null||N.search!==null)&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.href=N.format(),N}if(!X.length)return N.pathname=null,N.search?N.path="/"+N.search:N.path=null,N.href=N.format(),N;for(var xe=X.slice(-1)[0],Te=(N.host||U.host||X.length>1)&&(xe==="."||xe==="..")||xe==="",Pe=0,ve=X.length;ve>=0;ve--)xe=X[ve],xe==="."?X.splice(ve,1):xe===".."?(X.splice(ve,1),Pe++):Pe&&(X.splice(ve,1),Pe--);if(!M&&!z)for(;Pe--;Pe)X.unshift("..");M&&X[0]!==""&&(!X[0]||X[0].charAt(0)!=="/")&&X.unshift(""),Te&&X.join("/").substr(-1)!=="/"&&X.push("");var Me=X[0]===""||X[0]&&X[0].charAt(0)==="/";if(ue){N.hostname=Me?"":X.length?X.shift():"",N.host=N.hostname;var me=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;me&&(N.auth=me.shift(),N.hostname=me.shift(),N.host=N.hostname)}return M=M||N.host&&X.length,M&&!Me&&X.unshift(""),X.length>0?N.pathname=X.join("/"):(N.pathname=null,N.path=null),(N.pathname!==null||N.search!==null)&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.auth=U.auth||N.auth,N.slashes=N.slashes||U.slashes,N.href=N.format(),N},e.prototype.parseHost=function(){var U=this.host,K=r.exec(U);K&&(K=K[0],K!==":"&&(this.port=K.substr(1)),U=U.substr(0,U.length-K.length)),U&&(this.hostname=U)},wl.parse=k,wl.resolve=F,wl.resolveObject=W,wl.format=G,wl.Url=e,wl}pw();const Hv={};function ct(i,e,t=3){if(Hv[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${i}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${i}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${i}`),console.warn(r))),Hv[e]=!0}function Bi(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function ec(i){return i.split("?")[0].split("#")[0]}function mw(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gw(i,e,t){return i.replace(new RegExp(mw(e),"g"),t)}function yw(i,e){let t="",r=0,o=-1,a=0,c=-1;for(let d=0;d<=i.length;++d){if(d<i.length)c=i.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(o===d-1||a===1))if(o!==d-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const m=t.lastIndexOf("/");if(m!==t.length-1){m===-1?(t="",r=0):(t=t.slice(0,m),r=t.length-1-t.lastIndexOf("/")),o=d,a=0;continue}}else if(t.length===2||t.length===1){t="",r=0,o=d,a=0;continue}}}else t.length>0?t+=`/${i.slice(o+1,d)}`:t=i.slice(o+1,d),r=d-o-1;o=d,a=0}else c===46&&a!==-1?++a:a=-1}return t}const Dr={toPosix(i){return gw(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){Bi(i),i=this.toPosix(i);const e=/^file:\/\/\//.exec(i);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(i);return t?t[0]:""},toAbsolute(i,e,t){if(Bi(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const r=ec(this.toPosix(e??Be.ADAPTER.getBaseUrl())),o=ec(this.toPosix(t??this.rootname(r)));return i=this.toPosix(i),i.startsWith("/")?Dr.join(o,i.slice(1)):this.isAbsolute(i)?i:this.join(r,i)},normalize(i){if(Bi(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let e="";const t=i.startsWith("/");this.hasProtocol(i)&&(e=this.rootname(i),i=i.slice(e.length));const r=i.endsWith("/");return i=yw(i),i.length>0&&r&&(i+="/"),t?`/${i}`:e+i},isAbsolute(i){return Bi(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let e;for(let t=0;t<i.length;++t){const r=i[t];if(Bi(r),r.length>0)if(e===void 0)e=r;else{const o=i[t-1]??"";this.joinExtensions.includes(this.extname(o).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(i){if(Bi(i),i.length===0)return".";i=this.toPosix(i);let e=i.charCodeAt(0);const t=e===47;let r=-1,o=!0;const a=this.getProtocol(i),c=i;i=i.slice(a.length);for(let d=i.length-1;d>=1;--d)if(e=i.charCodeAt(d),e===47){if(!o){r=d;break}}else o=!1;return r===-1?t?"/":this.isUrl(c)?a+i:a:t&&r===1?"//":a+i.slice(0,r)},rootname(i){Bi(i),i=this.toPosix(i);let e="";if(i.startsWith("/")?e="/":e=this.getProtocol(i),this.isUrl(i)){const t=i.indexOf("/",e.length);t!==-1?e=i.slice(0,t):e=i,e.endsWith("/")||(e+="/")}return e},basename(i,e){Bi(i),e&&Bi(e),i=ec(this.toPosix(i));let t=0,r=-1,o=!0,a;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e.length===i.length&&e===i)return"";let c=e.length-1,d=-1;for(a=i.length-1;a>=0;--a){const m=i.charCodeAt(a);if(m===47){if(!o){t=a+1;break}}else d===-1&&(o=!1,d=a+1),c>=0&&(m===e.charCodeAt(c)?--c===-1&&(r=a):(c=-1,r=d))}return t===r?r=d:r===-1&&(r=i.length),i.slice(t,r)}for(a=i.length-1;a>=0;--a)if(i.charCodeAt(a)===47){if(!o){t=a+1;break}}else r===-1&&(o=!1,r=a+1);return r===-1?"":i.slice(t,r)},extname(i){Bi(i),i=ec(this.toPosix(i));let e=-1,t=0,r=-1,o=!0,a=0;for(let c=i.length-1;c>=0;--c){const d=i.charCodeAt(c);if(d===47){if(!o){t=c+1;break}continue}r===-1&&(o=!1,r=c+1),d===46?e===-1?e=c:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||r===-1||a===0||a===1&&e===r-1&&e===t+1?"":i.slice(e,r)},parse(i){Bi(i);const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;i=ec(this.toPosix(i));let t=i.charCodeAt(0);const r=this.isAbsolute(i);let o;e.root=this.rootname(i),r||this.hasProtocol(i)?o=1:o=0;let a=-1,c=0,d=-1,m=!0,g=i.length-1,_=0;for(;g>=o;--g){if(t=i.charCodeAt(g),t===47){if(!m){c=g+1;break}continue}d===-1&&(m=!1,d=g+1),t===46?a===-1?a=g:_!==1&&(_=1):a!==-1&&(_=-1)}return a===-1||d===-1||_===0||_===1&&a===d-1&&a===c+1?d!==-1&&(c===0&&r?e.base=e.name=i.slice(1,d):e.base=e.name=i.slice(c,d)):(c===0&&r?(e.name=i.slice(1,a),e.base=i.slice(1,d)):(e.name=i.slice(c,a),e.base=i.slice(c,d)),e.ext=i.slice(a,d)),e.dir=this.dirname(i),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let hm;async function vw(){return hm??(hm=(async()=>{const i=document.createElement("canvas").getContext("webgl");if(!i)return Nn.UNPACK;const e=await new Promise(a=>{const c=document.createElement("video");c.onloadeddata=()=>a(c),c.onerror=()=>a(null),c.autoplay=!1,c.crossOrigin="anonymous",c.preload="auto",c.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",c.load()});if(!e)return Nn.UNPACK;const t=i.createTexture();i.bindTexture(i.TEXTURE_2D,t);const r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e);const o=new Uint8Array(4);return i.readPixels(0,0,1,1,i.RGBA,i.UNSIGNED_BYTE,o),i.deleteFramebuffer(r),i.deleteTexture(t),i.getExtension("WEBGL_lose_context")?.loseContext(),o[0]<=o[3]?Nn.PMA:Nn.UNPACK})()),hm}let cm;function _w(){return typeof cm>"u"&&(cm=(function(){const i={stencil:!0,failIfMajorPerformanceCaveat:Be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Be.ADAPTER.getWebGLRenderingContext())return!1;const e=Be.ADAPTER.createCanvas();let t=e.getContext("webgl",i)||e.getContext("experimental-webgl",i);const r=!!t?.getContextAttributes()?.stencil;if(t){const o=t.getExtension("WEBGL_lose_context");o&&o.loseContext()}return t=null,r}catch{return!1}})()),cm}var xw={grad:.9,turn:360,rad:360/(2*Math.PI)},no=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},Mr=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*i)/t+0},di=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),i>t?t:i>e?i:e},m_=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},jv=function(i){return{r:di(i.r,0,255),g:di(i.g,0,255),b:di(i.b,0,255),a:di(i.a)}},dm=function(i){return{r:Mr(i.r),g:Mr(i.g),b:Mr(i.b),a:Mr(i.a,3)}},ww=/^#([0-9a-f]{3,8})$/i,pd=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},g_=function(i){var e=i.r,t=i.g,r=i.b,o=i.a,a=Math.max(e,t,r),c=a-Math.min(e,t,r),d=c?a===e?(t-r)/c:a===t?2+(r-e)/c:4+(e-t)/c:0;return{h:60*(d<0?d+6:d),s:a?c/a*100:0,v:a/255*100,a:o}},y_=function(i){var e=i.h,t=i.s,r=i.v,o=i.a;e=e/360*6,t/=100,r/=100;var a=Math.floor(e),c=r*(1-t),d=r*(1-(e-a)*t),m=r*(1-(1-e+a)*t),g=a%6;return{r:255*[r,d,c,c,m,r][g],g:255*[m,r,r,d,c,c][g],b:255*[c,c,m,r,r,d][g],a:o}},Wv=function(i){return{h:m_(i.h),s:di(i.s,0,100),l:di(i.l,0,100),a:di(i.a)}},$v=function(i){return{h:Mr(i.h),s:Mr(i.s),l:Mr(i.l),a:Mr(i.a,3)}},Vv=function(i){return y_((t=(e=i).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},pc=function(i){return{h:(e=g_(i)).h,s:(o=(200-(t=e.s))*(r=e.v)/100)>0&&o<200?t*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:e.a};var e,t,r,o},Ew=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sw=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bw=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Tw=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Wm={string:[[function(i){var e=ww.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?Mr(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?Mr(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=bw.exec(i)||Tw.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:jv({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=Ew.exec(i)||Sw.exec(i);if(!e)return null;var t,r,o=Wv({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(xw[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Vv(o)},"hsl"]],object:[[function(i){var e=i.r,t=i.g,r=i.b,o=i.a,a=o===void 0?1:o;return no(e)&&no(t)&&no(r)?jv({r:Number(e),g:Number(t),b:Number(r),a:Number(a)}):null},"rgb"],[function(i){var e=i.h,t=i.s,r=i.l,o=i.a,a=o===void 0?1:o;if(!no(e)||!no(t)||!no(r))return null;var c=Wv({h:Number(e),s:Number(t),l:Number(r),a:Number(a)});return Vv(c)},"hsl"],[function(i){var e=i.h,t=i.s,r=i.v,o=i.a,a=o===void 0?1:o;if(!no(e)||!no(t)||!no(r))return null;var c=(function(d){return{h:m_(d.h),s:di(d.s,0,100),v:di(d.v,0,100),a:di(d.a)}})({h:Number(e),s:Number(t),v:Number(r),a:Number(a)});return y_(c)},"hsv"]]},Xv=function(i,e){for(var t=0;t<e.length;t++){var r=e[t][0](i);if(r)return[r,e[t][1]]}return[null,void 0]},Aw=function(i){return typeof i=="string"?Xv(i.trim(),Wm.string):typeof i=="object"&&i!==null?Xv(i,Wm.object):[null,void 0]},fm=function(i,e){var t=pc(i);return{h:t.h,s:di(t.s+100*e,0,100),l:t.l,a:t.a}},pm=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},Yv=function(i,e){var t=pc(i);return{h:t.h,s:t.s,l:di(t.l+100*e,0,100),a:t.a}},$m=(function(){function i(e){this.parsed=Aw(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return Mr(pm(this.rgba),2)},i.prototype.isDark=function(){return pm(this.rgba)<.5},i.prototype.isLight=function(){return pm(this.rgba)>=.5},i.prototype.toHex=function(){return e=dm(this.rgba),t=e.r,r=e.g,o=e.b,c=(a=e.a)<1?pd(Mr(255*a)):"","#"+pd(t)+pd(r)+pd(o)+c;var e,t,r,o,a,c},i.prototype.toRgb=function(){return dm(this.rgba)},i.prototype.toRgbString=function(){return e=dm(this.rgba),t=e.r,r=e.g,o=e.b,(a=e.a)<1?"rgba("+t+", "+r+", "+o+", "+a+")":"rgb("+t+", "+r+", "+o+")";var e,t,r,o,a},i.prototype.toHsl=function(){return $v(pc(this.rgba))},i.prototype.toHslString=function(){return e=$v(pc(this.rgba)),t=e.h,r=e.s,o=e.l,(a=e.a)<1?"hsla("+t+", "+r+"%, "+o+"%, "+a+")":"hsl("+t+", "+r+"%, "+o+"%)";var e,t,r,o,a},i.prototype.toHsv=function(){return e=g_(this.rgba),{h:Mr(e.h),s:Mr(e.s),v:Mr(e.v),a:Mr(e.a,3)};var e},i.prototype.invert=function(){return ys({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),ys(fm(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),ys(fm(this.rgba,-e))},i.prototype.grayscale=function(){return ys(fm(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),ys(Yv(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),ys(Yv(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?ys({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Mr(this.rgba.a,3);var t},i.prototype.hue=function(e){var t=pc(this.rgba);return typeof e=="number"?ys({h:e,s:t.s,l:t.l,a:t.a}):Mr(t.h)},i.prototype.isEqual=function(e){return this.toHex()===ys(e).toHex()},i})(),ys=function(i){return i instanceof $m?i:new $m(i)},qv=[],Cw=function(i){i.forEach(function(e){qv.indexOf(e)<0&&(e($m,Wm),qv.push(e))})};function Pw(i,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in t)r[t[o]]=o;var a={};i.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,m,g=r[this.toHex()];if(g)return g;if(c?.closest){var _=this.toRgb(),w=1/0,S="black";if(!a.length)for(var b in t)a[b]=new i(t[b]).toRgb();for(var A in t){var I=(d=_,m=a[A],Math.pow(d.r-m.r,2)+Math.pow(d.g-m.g,2)+Math.pow(d.b-m.b,2));I<w&&(w=I,S=A)}return S}},e.string.push([function(c){var d=c.toLowerCase(),m=d==="transparent"?"#0000":t[d];return m?new i(m).toRgb():null},"name"])}Cw([Pw]);const Bu=class Ud{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Ud)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((o,a)=>o===t[a]);if(e!==null&&t!==null){const o=Object.keys(e),a=Object.keys(t);return o.length!==a.length?!1:o.every(c=>e[c]===t[c])}return e===t}toRgba(){const[e,t,r,o]=this._components;return{r:e,g:t,b:r,a:o}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,o]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(o*255),e}toRgbArray(e){e=e??[];const[t,r,o]=this._components;return e[0]=t,e[1]=r,e[2]=o,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,o,a]=Ud.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=o,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,o=this._int>>8&255,a=this._int&255;return t&&(r=r*e+.5|0,o=o*e+.5|0,a=a*e+.5|0),(e*255<<24)+(r<<16)+(o<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,o]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(o*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,r,o,a]=this._components;return e[0]=t,e[1]=r,e[2]=o,e[3]=a,e}normalize(e){let t,r,o,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;t=(c>>16&255)/255,r=(c>>8&255)/255,o=(c&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,o,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,o,a=255]=e,t/=255,r/=255,o/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const d=Ud.HEX_PATTERN.exec(e);d&&(e=`#${d[2]}`)}const c=ys(e);c.isValid()&&({r:t,g:r,b:o,a}=c.rgba,t/=255,r/=255,o/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=o,this._components[3]=a,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((o,a)=>{e[a]=Math.min(Math.max(o,t),r)}),e)}};Bu.shared=new Bu,Bu.temp=new Bu,Bu.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Lt=Bu;function Rw(i){return ct("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Lt.shared.setValue(i).toHex()}function Iw(i){return ct("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Lt.shared.setValue(i).toNumber()}function Mw(){const i=[],e=[];for(let r=0;r<32;r++)i[r]=r,e[r]=r;i[et.NORMAL_NPM]=et.NORMAL,i[et.ADD_NPM]=et.ADD,i[et.SCREEN_NPM]=et.SCREEN,e[et.NORMAL]=et.NORMAL_NPM,e[et.ADD]=et.ADD_NPM,e[et.SCREEN]=et.SCREEN_NPM;const t=[];return t.push(e),t.push(i),t}const v_=Mw();function __(i,e){return v_[e?1:0][i]}function kw(i,e=null){const t=i*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,o=0;r<t;r+=6,o+=4)e[r+0]=o+0,e[r+1]=o+1,e[r+2]=o+2,e[r+3]=o+0,e[r+4]=o+2,e[r+5]=o+3;return e}function x_(i){if(i.BYTES_PER_ELEMENT===4)return i instanceof Float32Array?"Float32Array":i instanceof Uint32Array?"Uint32Array":"Int32Array";if(i.BYTES_PER_ELEMENT===2){if(i instanceof Uint16Array)return"Uint16Array"}else if(i.BYTES_PER_ELEMENT===1&&i instanceof Uint8Array)return"Uint8Array";return null}function Yd(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function Qv(i){return!(i&i-1)&&!!i}function Kv(i){let e=(i>65535?1:0)<<4;i>>>=e;let t=(i>255?1:0)<<3;return i>>>=t,e|=t,t=(i>15?1:0)<<2,i>>>=t,e|=t,t=(i>3?1:0)<<1,i>>>=t,e|=t,e|i>>1}function Vu(i,e,t){const r=i.length;let o;if(e>=r||t===0)return;t=e+t>r?r-e:t;const a=r-t;for(o=e;o<a;++o)i[o]=i[o+t];i.length=a}function ga(i){return i===0?0:i<0?-1:1}let Dw=0;function Nl(){return++Dw}const Vm=class{constructor(i,e,t,r){this.left=i,this.top=e,this.right=t,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Vm.EMPTY=new Vm(0,0,0,0);let Zv=Vm;const Jv={},vs=Object.create(null),ha=Object.create(null);class Nw{constructor(e,t,r){this._canvas=Be.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Be.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function e0(i,e,t){for(let r=0,o=4*t*e;r<e;++r,o+=4)if(i[o+3]!==0)return!1;return!0}function t0(i,e,t,r,o){const a=4*e;for(let c=r,d=r*a+4*t;c<=o;++c,d+=a)if(i[d+3]!==0)return!1;return!0}function Ow(i){const{width:e,height:t}=i,r=i.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const o=r.getImageData(0,0,e,t).data;let a=0,c=0,d=e-1,m=t-1;for(;c<t&&e0(o,e,c);)++c;if(c===t)return Zv.EMPTY;for(;e0(o,e,m);)--m;for(;t0(o,e,a,c,m);)++a;for(;t0(o,e,d,c,m);)--d;return++d,++m,new Zv(a,c,d,m)}function Fw(i){const e=Ow(i),{width:t,height:r}=e;let o=null;if(!e.isEmpty()){const a=i.getContext("2d");if(a===null)throw new TypeError("Failed to get canvas 2D context");o=a.getImageData(e.left,e.top,t,r)}return{width:t,height:r,data:o}}function Bw(i,e=globalThis.location){if(i.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(i,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function ho(i,e=1){const t=Be.RETINA_PREFIX?.exec(i);return t?parseFloat(t[1]):e}var De=(i=>(i.Renderer="renderer",i.Application="application",i.RendererSystem="renderer-webgl-system",i.RendererPlugin="renderer-webgl-plugin",i.CanvasRendererSystem="renderer-canvas-system",i.CanvasRendererPlugin="renderer-canvas-plugin",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i))(De||{});const Xm=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},r0=(i,e)=>Xm(i).priority??e,Xe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(Xm).forEach(e=>{e.type.forEach(t=>this._removeHandlers[t]?.(e))}),this},add(...i){return i.map(Xm).forEach(e=>{e.type.forEach(t=>{const r=this._addHandlers,o=this._queue;r[t]?r[t]?.(e):(o[t]=o[t]||[],o[t]?.push(e))})}),this},handle(i,e,t){const r=this._addHandlers,o=this._removeHandlers;if(r[i]||o[i])throw new Error(`Extension type ${i} already has a handler`);r[i]=e,o[i]=t;const a=this._queue;return a[i]&&(a[i]?.forEach(c=>e(c)),delete a[i]),this},handleByMap(i,e){return this.handle(i,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(i,e,t=-1){return this.handle(i,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((o,a)=>r0(a,t)-r0(o,t)))},r=>{const o=e.indexOf(r.ref);o!==-1&&e.splice(o,1)})}};class Ym{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Lw=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Uw(i){let e="";for(let t=0;t<i;++t)t>0&&(e+=`
else `),t<i-1&&(e+=`if(test == ${t}.0){}`);return e}function zw(i,e){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=Lw.replace(/%forloop%/gi,Uw(i));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))i=i/2|0;else break}return i}const mm=0,gm=1,ym=2,vm=3,_m=4,xm=5;class Rs{constructor(){this.data=0,this.blendMode=et.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<mm)}set blend(e){!!(this.data&1<<mm)!==e&&(this.data^=1<<mm)}get offsets(){return!!(this.data&1<<gm)}set offsets(e){!!(this.data&1<<gm)!==e&&(this.data^=1<<gm)}get culling(){return!!(this.data&1<<ym)}set culling(e){!!(this.data&1<<ym)!==e&&(this.data^=1<<ym)}get depthTest(){return!!(this.data&1<<vm)}set depthTest(e){!!(this.data&1<<vm)!==e&&(this.data^=1<<vm)}get depthMask(){return!!(this.data&1<<xm)}set depthMask(e){!!(this.data&1<<xm)!==e&&(this.data^=1<<xm)}get clockwiseFrontFace(){return!!(this.data&1<<_m)}set clockwiseFrontFace(e){!!(this.data&1<<_m)!==e&&(this.data^=1<<_m)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==et.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Rs;return e.depthTest=!1,e.blend=!0,e}}Rs.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const qm=[];function w_(i,e){if(!i)return null;let t="";if(typeof i=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(i);r&&(t=r[1].toLowerCase())}for(let r=qm.length-1;r>=0;--r){const o=qm[r];if(o.test&&o.test(i,t))return new o(i,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class $i{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,o,a,c,d,m){if(arguments.length>8)throw new Error("max arguments reached");const{name:g,items:_}=this;this._aliasCount++;for(let w=0,S=_.length;w<S;w++)_[w][g](e,t,r,o,a,c,d,m);return _===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties($i.prototype,{dispatch:{value:$i.prototype.emit},run:{value:$i.prototype.emit}});class yc{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new $i("setRealSize"),this.onUpdate=new $i("update"),this.onError=new $i("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class mf extends yc{constructor(e,t){const{width:r,height:o}=t||{};if(!r||!o)throw new Error("BufferResource width or height invalid");super(r,o),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){const o=e.gl;o.pixelStorei(o.UNPACK_ALIGNMENT,this.unpackAlignment),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Nn.UNPACK);const a=t.realWidth,c=t.realHeight;return r.width===a&&r.height===c?o.texSubImage2D(t.target,0,0,0,a,c,t.format,r.type,this.data):(r.width=a,r.height=c,o.texImage2D(t.target,0,r.internalFormat,a,c,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Gw={scaleMode:so.NEAREST,alphaMode:Nn.NPM},Qm=class Lu extends Ec{constructor(e=null,t=null){super(),t=Object.assign({},Lu.defaultOptions,t);const{alphaMode:r,mipmap:o,anisotropicLevel:a,scaleMode:c,width:d,height:m,wrapMode:g,format:_,type:w,target:S,resolution:b,resourceOptions:A}=t;e&&!(e instanceof yc)&&(e=w_(e,A),e.internal=!0),this.resolution=b||Be.RESOLUTION,this.width=Math.round((d||0)*this.resolution)/this.resolution,this.height=Math.round((m||0)*this.resolution)/this.resolution,this._mipmap=o,this.anisotropicLevel=a,this._wrapMode=g,this._scaleMode=c,this.format=_,this.type=w,this.target=S,this.alphaMode=r,this.uid=Nl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=d>0&&m>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Qv(this.realWidth)&&Qv(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ha[this.cacheId],delete vs[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Lu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=Be.STRICT_TEXTURE_CACHE){const o=typeof e=="string";let a=null;if(o)a=e;else{if(!e._pixiId){const d=t?.pixiIdPrefix||"pixiid";e._pixiId=`${d}_${Nl()}`}a=e._pixiId}let c=ha[a];if(o&&r&&!c)throw new Error(`The cacheId "${a}" does not exist in BaseTextureCache.`);return c||(c=new Lu(e,t),c.cacheId=a,Lu.addToCache(c,a)),c}static fromBuffer(e,t,r,o){e=e||new Float32Array(t*r*4);const a=new mf(e,{width:t,height:r,...o?.resourceOptions});let c,d;return e instanceof Float32Array?(c=Ae.RGBA,d=Ke.FLOAT):e instanceof Int32Array?(c=Ae.RGBA_INTEGER,d=Ke.INT):e instanceof Uint32Array?(c=Ae.RGBA_INTEGER,d=Ke.UNSIGNED_INT):e instanceof Int16Array?(c=Ae.RGBA_INTEGER,d=Ke.SHORT):e instanceof Uint16Array?(c=Ae.RGBA_INTEGER,d=Ke.UNSIGNED_SHORT):e instanceof Int8Array?(c=Ae.RGBA,d=Ke.BYTE):(c=Ae.RGBA,d=Ke.UNSIGNED_BYTE),a.internal=!0,new Lu(a,Object.assign({},Gw,{type:d,format:c},o))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),ha[t]&&ha[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),ha[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=ha[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete ha[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete ha[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};Qm.defaultOptions={mipmap:As.POW2,anisotropicLevel:0,scaleMode:so.LINEAR,wrapMode:uo.CLAMP,alphaMode:Nn.UNPACK,target:$u.TEXTURE_2D,format:Ae.RGBA,type:Ke.UNSIGNED_BYTE},Qm._globalBatch=0;let it=Qm;class Km{constructor(){this.texArray=null,this.blend=0,this.type=ji.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Hw=0;class hr{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=Hw++,this.disposeRunner=new $i("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?bs.ELEMENT_ARRAY_BUFFER:bs.ARRAY_BUFFER}get index(){return this.type===bs.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new hr(e)}}class qd{constructor(e,t=0,r=!1,o=Ke.FLOAT,a,c,d,m=1){this.buffer=e,this.size=t,this.normalized=r,this.type=o,this.stride=a,this.start=c,this.instance=d,this.divisor=m}destroy(){this.buffer=null}static from(e,t,r,o,a){return new qd(e,t,r,o,a)}}const jw={Float32Array,Uint32Array,Int32Array,Uint8Array};function Ww(i,e){let t=0,r=0;const o={};for(let m=0;m<i.length;m++)r+=e[m],t+=i[m].length;const a=new ArrayBuffer(t*4);let c=null,d=0;for(let m=0;m<i.length;m++){const g=e[m],_=i[m],w=x_(_);o[w]||(o[w]=new jw[w](a)),c=o[w];for(let S=0;S<_.length;S++){const b=(S/g|0)*r+d,A=S%g;c[b+A]=_[S]}d+=g}return new Float32Array(a)}const n0={5126:4,5123:2,5121:1};let $w=0;const Vw={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class _a{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=$w++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new $i("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,o=!1,a,c,d,m=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof hr||(t instanceof Array&&(t=new Float32Array(t)),t=new hr(t));const g=e.split("|");if(g.length>1){for(let w=0;w<g.length;w++)this.addAttribute(g[w],t,r,o,a);return this}let _=this.buffers.indexOf(t);return _===-1&&(this.buffers.push(t),_=this.buffers.length-1),this.attributes[e]=new qd(_,r,o,a,c,d,m),this.instanced=this.instanced||m,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof hr||(e instanceof Array&&(e=new Uint16Array(e)),e=new hr(e)),e.type=bs.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],r=new hr;let o;for(o in this.attributes){const a=this.attributes[o],c=this.buffers[a.buffer];e.push(c.data),t.push(a.size*n0[a.type]/4),a.buffer=0}for(r.data=Ww(e,t),o=0;o<this.buffers.length;o++)this.buffers[o]!==this.indexBuffer&&this.buffers[o].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new _a;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new hr(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new qd(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=bs.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new _a,r=[],o=[],a=[];let c;for(let d=0;d<e.length;d++){c=e[d];for(let m=0;m<c.buffers.length;m++)o[m]=o[m]||0,o[m]+=c.buffers[m].data.length,a[m]=0}for(let d=0;d<c.buffers.length;d++)r[d]=new Vw[x_(c.buffers[d].data)](o[d]),t.buffers[d]=new hr(r[d]);for(let d=0;d<e.length;d++){c=e[d];for(let m=0;m<c.buffers.length;m++)r[m].set(c.buffers[m].data,a[m]),a[m]+=c.buffers[m].data.length}if(t.attributes=c.attributes,c.indexBuffer){t.indexBuffer=t.buffers[c.buffers.indexOf(c.indexBuffer)],t.indexBuffer.type=bs.ELEMENT_ARRAY_BUFFER;let d=0,m=0,g=0,_=0;for(let w=0;w<c.buffers.length;w++)if(c.buffers[w]!==c.indexBuffer){_=w;break}for(const w in c.attributes){const S=c.attributes[w];(S.buffer|0)===_&&(m+=S.size*n0[S.type]/4)}for(let w=0;w<e.length;w++){const S=e[w].indexBuffer.data;for(let b=0;b<S.length;b++)t.indexBuffer.data[b+g]+=d;d+=e[w].buffers[_].data.length/m,g+=S.length}}return t}}class E_ extends _a{constructor(e=!1){super(),this._buffer=new hr(null,e,!1),this._indexBuffer=new hr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ke.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ke.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ke.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ke.FLOAT).addIndex(this._indexBuffer)}}const Qd=Math.PI*2,Xw=180/Math.PI,Yw=Math.PI/180;var zr=(i=>(i[i.POLY=0]="POLY",i[i.RECT=1]="RECT",i[i.CIRC=2]="CIRC",i[i.ELIP=3]="ELIP",i[i.RREC=4]="RREC",i))(zr||{});class dt{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new dt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}dt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const md=[new dt,new dt,new dt,new dt];class ot{constructor(e=0,t=0,r=0,o=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(o),this.type=zr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ot(0,0,0,0)}clone(){return new ot(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const Z=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=Z)return!1;const ce=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>ce}const r=this.left,o=this.right,a=this.top,c=this.bottom;if(o<=r||c<=a)return!1;const d=md[0].set(e.left,e.top),m=md[1].set(e.left,e.bottom),g=md[2].set(e.right,e.top),_=md[3].set(e.right,e.bottom);if(g.x<=d.x||m.y<=d.y)return!1;const w=Math.sign(t.a*t.d-t.b*t.c);if(w===0||(t.apply(d,d),t.apply(m,m),t.apply(g,g),t.apply(_,_),Math.max(d.x,m.x,g.x,_.x)<=r||Math.min(d.x,m.x,g.x,_.x)>=o||Math.max(d.y,m.y,g.y,_.y)<=a||Math.min(d.y,m.y,g.y,_.y)>=c))return!1;const S=w*(m.y-d.y),b=w*(d.x-m.x),A=S*r+b*a,I=S*o+b*a,P=S*r+b*c,k=S*o+b*c;if(Math.max(A,I,P,k)<=S*d.x+b*d.y||Math.min(A,I,P,k)>=S*_.x+b*_.y)return!1;const G=w*(d.y-g.y),F=w*(g.x-d.x),W=G*r+F*a,U=G*o+F*a,K=G*r+F*c,N=G*o+F*c;return!(Math.max(W,U,K,N)<=G*d.x+F*d.y||Math.min(W,U,K,N)>=G*_.x+F*_.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),o=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=o,this.height=Math.max(a-o,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,o=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=o-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),o=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=o,this.height=a-o,this}}ot.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class gf{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=zr.CIRC}clone(){return new gf(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let o=this.x-e,a=this.y-t;return o*=o,a*=a,o+a<=r}getBounds(){return new ot(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}gf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class yf{constructor(e=0,t=0,r=0,o=0){this.x=e,this.y=t,this.width=r,this.height=o,this.type=zr.ELIP}clone(){return new yf(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,o=(t-this.y)/this.height;return r*=r,o*=o,r+o<=1}getBounds(){return new ot(this.x-this.width,this.y-this.height,this.width,this.height)}}yf.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class kl{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let o=0,a=t.length;o<a;o++)r.push(t[o].x,t[o].y);t=r}this.points=t,this.type=zr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new kl(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const o=this.points.length/2;for(let a=0,c=o-1;a<o;c=a++){const d=this.points[a*2],m=this.points[a*2+1],g=this.points[c*2],_=this.points[c*2+1];m>t!=_>t&&e<(g-d)*((t-m)/(_-m))+d&&(r=!r)}return r}}kl.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((i,e)=>`${i}, ${e}`,"")}]`};class vf{constructor(e=0,t=0,r=0,o=0,a=20){this.x=e,this.y=t,this.width=r,this.height=o,this.radius=a,this.type=zr.RREC}clone(){return new vf(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let o=e-(this.x+r),a=t-(this.y+r);const c=r*r;if(o*o+a*a<=c||(o=e-(this.x+this.width-r),o*o+a*a<=c)||(a=t-(this.y+this.height-r),o*o+a*a<=c)||(o=e-(this.x+r),o*o+a*a<=c))return!0}return!1}}vf.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class zt{constructor(e=1,t=0,r=0,o=1,a=0,c=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=o,this.tx=a,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,o,a,c){return this.a=e,this.b=t,this.c=r,this.d=o,this.tx=a,this.ty=c,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new dt;const r=e.x,o=e.y;return t.x=this.a*r+this.c*o+this.tx,t.y=this.b*r+this.d*o+this.ty,t}applyInverse(e,t){t=t||new dt;const r=1/(this.a*this.d+this.c*-this.b),o=e.x,a=e.y;return t.x=this.d*r*o+-this.c*r*a+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*a+-this.b*r*o+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),o=this.a,a=this.c,c=this.tx;return this.a=o*t-this.b*r,this.b=o*r+this.b*t,this.c=a*t-this.d*r,this.d=a*r+this.d*t,this.tx=c*t-this.ty*r,this.ty=c*r+this.ty*t,this}append(e){const t=this.a,r=this.b,o=this.c,a=this.d;return this.a=e.a*t+e.b*o,this.b=e.a*r+e.b*a,this.c=e.c*t+e.d*o,this.d=e.c*r+e.d*a,this.tx=e.tx*t+e.ty*o+this.tx,this.ty=e.tx*r+e.ty*a+this.ty,this}setTransform(e,t,r,o,a,c,d,m,g){return this.a=Math.cos(d+g)*a,this.b=Math.sin(d+g)*a,this.c=-Math.sin(d-m)*c,this.d=Math.cos(d-m)*c,this.tx=e-(r*this.a+o*this.c),this.ty=t-(r*this.b+o*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,o=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=o*e.a+this.d*e.c,this.d=o*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,o=this.c,a=this.d,c=e.pivot,d=-Math.atan2(-o,a),m=Math.atan2(r,t),g=Math.abs(d+m);return g<1e-5||Math.abs(Qd-g)<1e-5?(e.rotation=m,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=d,e.skew.y=m),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(o*o+a*a),e.position.x=this.tx+(c.x*t+c.y*o),e.position.y=this.ty+(c.x*r+c.y*a),e}invert(){const e=this.a,t=this.b,r=this.c,o=this.d,a=this.tx,c=e*o-t*r;return this.a=o/c,this.b=-t/c,this.c=-r/c,this.d=e/c,this.tx=(r*this.ty-o*a)/c,this.ty=-(e*this.ty-t*a)/c,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new zt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new zt}static get TEMP_MATRIX(){return new zt}}zt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Tl=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Al=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Cl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Pl=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Zm=[],S_=[],gd=Math.sign;function qw(){for(let i=0;i<16;i++){const e=[];Zm.push(e);for(let t=0;t<16;t++){const r=gd(Tl[i]*Tl[t]+Cl[i]*Al[t]),o=gd(Al[i]*Tl[t]+Pl[i]*Al[t]),a=gd(Tl[i]*Cl[t]+Cl[i]*Pl[t]),c=gd(Al[i]*Cl[t]+Pl[i]*Pl[t]);for(let d=0;d<16;d++)if(Tl[d]===r&&Al[d]===o&&Cl[d]===a&&Pl[d]===c){e.push(d);break}}}for(let i=0;i<16;i++){const e=new zt;e.set(Tl[i],Al[i],Cl[i],Pl[i],0,0),S_.push(e)}}qw();const qt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>Tl[i],uY:i=>Al[i],vX:i=>Cl[i],vY:i=>Pl[i],inv:i=>i&8?i&15:-i&7,add:(i,e)=>Zm[i][e],sub:(i,e)=>Zm[i][qt.inv(e)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,e)=>Math.abs(i)*2<=Math.abs(e)?e>=0?qt.S:qt.N:Math.abs(e)*2<=Math.abs(i)?i>0?qt.E:qt.W:e>0?i>0?qt.SE:qt.SW:i>0?qt.NE:qt.NW,matrixAppendRotationInv:(i,e,t=0,r=0)=>{const o=S_[qt.inv(e)];o.tx=t,o.ty=r,i.append(o)}};class Ss{constructor(e,t,r=0,o=0){this._x=r,this._y=o,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new Ss(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Ss.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Jm=class{constructor(){this.worldTransform=new zt,this.localTransform=new zt,this.position=new Ss(this.onChange,this,0,0),this.scale=new Ss(this.onChange,this,1,1),this.pivot=new Ss(this.onChange,this,0,0),this.skew=new Ss(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const i=this.localTransform;this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(i){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==i._worldID){const t=i.worldTransform,r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=i._worldID,this._worldID++}}setFromMatrix(i){i.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(i){this._rotation!==i&&(this._rotation=i,this.updateSkew())}};Jm.IDENTITY=new Jm;let _f=Jm;_f.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Qw=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Kw=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function i0(i,e,t){const r=i.createShader(e);return i.shaderSource(r,t),i.compileShader(r),r}function wm(i){const e=new Array(i);for(let t=0;t<e.length;t++)e[t]=!1;return e}function b_(i,e){switch(i){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return wm(2*e);case"bvec3":return wm(3*e);case"bvec4":return wm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Xu=[{test:i=>i.type==="float"&&i.size===1&&!i.isArray,code:i=>`
            if(uv["${i}"] !== ud["${i}"].value)
            {
                ud["${i}"].value = uv["${i}"]
                gl.uniform1f(ud["${i}"].location, uv["${i}"])
            }
            `},{test:(i,e)=>(i.type==="sampler2D"||i.type==="samplerCube"||i.type==="sampler2DArray")&&i.size===1&&!i.isArray&&(e==null||e.castToBaseTexture!==void 0),code:i=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${i}"], t);

            if(ud["${i}"].value !== t)
            {
                ud["${i}"].value = t;
                gl.uniform1i(ud["${i}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(i,e)=>i.type==="mat3"&&i.size===1&&!i.isArray&&e.a!==void 0,code:i=>`
            gl.uniformMatrix3fv(ud["${i}"].location, false, uv["${i}"].toArray(true));
            `,codeUbo:i=>`
                var ${i}_matrix = uv.${i}.toArray(true);

                data[offset] = ${i}_matrix[0];
                data[offset+1] = ${i}_matrix[1];
                data[offset+2] = ${i}_matrix[2];
        
                data[offset + 4] = ${i}_matrix[3];
                data[offset + 5] = ${i}_matrix[4];
                data[offset + 6] = ${i}_matrix[5];
        
                data[offset + 8] = ${i}_matrix[6];
                data[offset + 9] = ${i}_matrix[7];
                data[offset + 10] = ${i}_matrix[8];
            `},{test:(i,e)=>i.type==="vec2"&&i.size===1&&!i.isArray&&e.x!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${i}"].location, v.x, v.y);
                }`,codeUbo:i=>`
                v = uv.${i};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:i=>i.type==="vec2"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${i}"].location, v[0], v[1]);
                }
            `},{test:(i,e)=>i.type==="vec4"&&i.size===1&&!i.isArray&&e.width!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${i}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(i,e)=>i.type==="vec4"&&i.size===1&&!i.isArray&&e.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${i}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(i,e)=>i.type==="vec3"&&i.size===1&&!i.isArray&&e.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${i}"].location, v.red, v.green, v.blue)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:i=>i.type==="vec4"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${i}"].location, v[0], v[1], v[2], v[3])
                }`}],Zw={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Jw={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function eE(i,e){const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const r in i.uniforms){const o=e[r];if(!o){i.uniforms[r]?.group===!0&&(i.uniforms[r].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${r}, '${r}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${r}, syncData);
                    `));continue}const a=i.uniforms[r];let c=!1;for(let d=0;d<Xu.length;d++)if(Xu[d].test(o,a)){t.push(Xu[d].code(r,a)),c=!0;break}if(!c){const d=(o.size===1&&!o.isArray?Zw:Jw)[o.type].replace("location",`ud["${r}"].location`);t.push(`
            cu = ud["${r}"];
            cv = cu.value;
            v = uv["${r}"];
            ${d};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const T_={};let yd=T_;function tE(){if(yd===T_||yd?.isContextLost()){const i=Be.ADAPTER.createCanvas();let e;Be.PREFER_ENV>=Ol.WEBGL2&&(e=i.getContext("webgl2",{})),e||(e=i.getContext("webgl",{})||i.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),yd=e}return yd}let vd;function rE(){if(!vd){vd=ci.MEDIUM;const i=tE();if(i&&i.getShaderPrecisionFormat){const e=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);e&&(vd=e.precision?ci.HIGH:ci.MEDIUM)}}return vd}function s0(i,e){const t=i.getShaderSource(e).split(`
`).map((g,_)=>`${_}: ${g}`),r=i.getShaderInfoLog(e),o=r.split(`
`),a={},c=o.map(g=>parseFloat(g.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(g=>g&&!a[g]?(a[g]=!0,!0):!1),d=[""];c.forEach(g=>{t[g-1]=`%c${t[g-1]}%c`,d.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const m=t.join(`
`);d[0]=m,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...d),console.groupEnd()}function nE(i,e,t,r){i.getProgramParameter(e,i.LINK_STATUS)||(i.getShaderParameter(t,i.COMPILE_STATUS)||s0(i,t),i.getShaderParameter(r,i.COMPILE_STATUS)||s0(i,r),console.error("PixiJS Error: Could not initialize shader."),i.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",i.getProgramInfoLog(e)))}const iE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function A_(i){return iE[i]}let _d=null;const o0={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function C_(i,e){if(!_d){const t=Object.keys(o0);_d={};for(let r=0;r<t.length;++r){const o=t[r];_d[i[o]]=o0[o]}}return _d[e]}function a0(i,e,t){if(i.substring(0,9)!=="precision"){let r=e;return e===ci.HIGH&&t!==ci.HIGH&&(r=ci.MEDIUM),`precision ${r} float;
${i}`}else if(t!==ci.HIGH&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}let tc;function sE(){if(typeof tc=="boolean")return tc;try{tc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{tc=!1}return tc}let oE=0;const xd={},eg=class Uu{constructor(e,t,r="pixi-shader",o={}){this.extra={},this.id=oE++,this.vertexSrc=e||Uu.defaultVertexSrc,this.fragmentSrc=t||Uu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=o,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),xd[r]?(xd[r]++,r+=`-${xd[r]}`):xd[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=a0(this.vertexSrc,Uu.defaultVertexPrecision,ci.HIGH),this.fragmentSrc=a0(this.fragmentSrc,Uu.defaultFragmentPrecision,rE())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Kw}static get defaultFragmentSrc(){return Qw}static from(e,t,r){const o=e+t;let a=Jv[o];return a||(Jv[o]=a=new Uu(e,t,r)),a}};eg.defaultVertexPrecision=ci.HIGH,eg.defaultFragmentPrecision=oo.apple.device?ci.HIGH:ci.MEDIUM;let ao=eg,aE=0;class Vi{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=aE++,this.static=!!t,this.ubo=!!r,e instanceof hr?(this.buffer=e,this.buffer.type=bs.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new hr(new Float32Array(1)),this.buffer.type=bs.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(!this.ubo)this.uniforms[e]=new Vi(t,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,r){return new Vi(e,t,r)}static uboFrom(e,t){return new Vi(e,t??!0,!0)}}class Ts{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Vi?this.uniformGroup=t:this.uniformGroup=new Vi(t):this.uniformGroup=new Vi({}),this.disposeRunner=new $i("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const o=t.uniforms[r];if(o.group===!0&&this.checkUniformExists(e,o))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const o=ao.from(e,t);return new Ts(o,r)}}class lE{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let a=0;a<e;a++)r[a]=a;this.defaultGroupCache[e]=Vi.from({uSamplers:r},!0);let o=this.fragTemplate;o=o.replace(/%count%/gi,`${e}`),o=o.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new ao(this.vertexSrc,o)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new zt,default:this.defaultGroupCache[e]};return new Ts(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class tg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function uE(){return!oo.apple.device}function hE(i){let e=!0;const t=Be.ADAPTER.getNavigator();if(oo.tablet||oo.phone){if(oo.apple.device){const r=t.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(oo.android.device){const r=t.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?i:4}class xf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var cE=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,dE=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const oc=class Ui extends xf{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=E_,this.vertexSize=6,this.state=Rs.for2d(),this.size=Ui.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??hE(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??uE(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return ct("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return dE}static get defaultFragmentTemplate(){return cE}setShaderGenerator({vertex:e=Ui.defaultVertexSrc,fragment:t=Ui.defaultFragmentTemplate}={}){this.shaderGenerator=new lE(e,t)}contextChange(){const e=this.renderer.gl;Be.PREFER_ENV===Ol.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ui.defaultMaxTextures),this.maxTextures=zw(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=Ui,r=this.size/4,o=Math.floor(r/this.maxTextures)+1;for(;e.length<r;)e.push(new Km);for(;t.length<o;)t.push(new tg);for(let a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,r=Ui._textureArrayPool,o=this.renderer.batch,a=this._tempBoundTextures,c=this.renderer.textureGC.count;let d=++it._globalBatch,m=0,g=r[0],_=0;o.copyBoundTextures(a,t);for(let w=0;w<this._bufferSize;++w){const S=e[w];e[w]=null,S._batchEnabled!==d&&(g.count>=t&&(o.boundArray(g,a,d,t),this.buildDrawCalls(g,_,w),_=w,g=r[++m],++d),S._batchEnabled=d,S.touched=c,g.elements[g.count++]=S)}g.count>0&&(o.boundArray(g,a,d,t),this.buildDrawCalls(g,_,this._bufferSize),++m,++d);for(let w=0;w<a.length;w++)a[w]=null;it._globalBatch=d}buildDrawCalls(e,t,r){const{_bufferedElements:o,_attributeBuffer:a,_indexBuffer:c,vertexSize:d}=this,m=Ui._drawCallPool;let g=this._dcIndex,_=this._aIndex,w=this._iIndex,S=m[g];S.start=this._iIndex,S.texArray=e;for(let b=t;b<r;++b){const A=o[b],I=A._texture.baseTexture,P=v_[I.alphaMode?1:0][A.blendMode];o[b]=null,t<b&&S.blend!==P&&(S.size=w-S.start,t=b,S=m[++g],S.texArray=e,S.start=w),this.packInterleavedGeometry(A,a,c,_,w),_+=A.vertexData.length/2*d,w+=A.indices.length,S.blend=P}t<r&&(S.size=w-S.start,++g),this._dcIndex=g,this._aIndex=_,this._iIndex=w}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;Ui.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:r}=this.renderer,o=Ui._drawCallPool;let a=null;for(let c=0;c<e;c++){const{texArray:d,type:m,size:g,start:_,blend:w}=o[c];a!==d&&(a=d,this.bindAndClearTexArray(d)),this.state.blendMode=w,r.set(this.state),t.drawElements(m,g,t.UNSIGNED_SHORT,_*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ui.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=Yd(Math.ceil(e/8)),r=Kv(t),o=t*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let a=this._aBuffers[o];return a||(this._aBuffers[o]=a=new Ym(o*this.vertexSize*4)),a}getIndexBuffer(e){const t=Yd(Math.ceil(e/12)),r=Kv(t),o=t*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let a=this._iBuffers[r];return a||(this._iBuffers[r]=a=new Uint16Array(o)),a}packInterleavedGeometry(e,t,r,o,a){const{uint32View:c,float32View:d}=t,m=o/this.vertexSize,g=e.uvs,_=e.indices,w=e.vertexData,S=e._texture.baseTexture._batchLocation,b=Math.min(e.worldAlpha,1),A=Lt.shared.setValue(e._tintRGB).toPremultiplied(b,e._texture.baseTexture.alphaMode>0);for(let I=0;I<w.length;I+=2)d[o++]=w[I],d[o++]=w[I+1],d[o++]=g[I],d[o++]=g[I+1],c[o++]=A,d[o++]=S;for(let I=0;I<_.length;I++)r[a++]=m+_[I]}};oc.defaultBatchSize=4096,oc.extension={name:"batch",type:De.RendererPlugin},oc._drawCallPool=[],oc._textureArrayPool=[];let Rl=oc;Xe.add(Rl);var fE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,pE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const rg=class ac extends Ts{constructor(e,t,r){const o=ao.from(e||ac.defaultVertexSrc,t||ac.defaultFragmentSrc);super(o,r),this.padding=0,this.resolution=ac.defaultResolution,this.multisample=ac.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Rs}apply(e,t,r,o,a){e.applyFilter(this,t,r,o)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return pE}static get defaultFragmentSrc(){return fE}};rg.defaultResolution=1,rg.defaultMultisample=mr.NONE;let hn=rg;class Kd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Lt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:r,backgroundAlpha:o}=e,a=r??t;a!==void 0&&(this.color=a),this.alpha=o}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Kd.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Kd.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"background"};Xe.add(Kd);class P_{constructor(e){this.renderer=e,this.emptyRenderer=new xf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let o=t-1;o>=0;--o)e[o]=r[o]||null,e[o]&&(e[o]._batchLocation=o)}boundArray(e,t,r,o){const{elements:a,ids:c,count:d}=e;let m=0;for(let g=0;g<d;g++){const _=a[g],w=_._batchLocation;if(w>=0&&w<o&&t[w]===_){c[g]=w;continue}for(;m<o;){const S=t[m];if(S&&S._batchEnabled===r&&S._batchLocation===m){m++;continue}c[g]=m,_._batchLocation=m,t[m]=_;break}}}destroy(){this.renderer=null}}P_.extension={type:De.RendererSystem,name:"batch"};Xe.add(P_);let l0=0;class Zd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=l0++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=l0++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(Be.PREFER_ENV>=Ol.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const o=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=o,o||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Zd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Zd.extension={type:De.RendererSystem,name:"context"};Xe.add(Zd);class ng{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new $i("disposeFramebuffer"),this.multisample=mr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new it(null,{scaleMode:so.NEAREST,resolution:1,mipmap:As.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new it(null,{scaleMode:so.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:As.OFF,format:Ae.DEPTH_COMPONENT,type:Ke.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const o=this.colorTextures[r],a=o.resolution;o.setSize(e/a,t/a)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class R_ extends it{constructor(e={}){if(typeof e=="number"){const t=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3];e={width:t,height:r,scaleMode:o,resolution:a}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=mr.NONE),super(null,e),this.mipmap=As.OFF,this.valid=!0,this._clear=new Lt([0,0,0,0]),this.framebuffer=new ng(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class co extends yc{constructor(e){const t=e,r=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,o=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(r,o),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=Bw(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,t,r,o){const a=e.gl,c=t.realWidth,d=t.realHeight;if(o=o||this.source,typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement){if(!o.complete||o.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&o instanceof HTMLVideoElement&&o.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Nn.UNPACK),!this.noSubImage&&t.target===a.TEXTURE_2D&&r.width===c&&r.height===d?a.texSubImage2D(a.TEXTURE_2D,0,0,0,t.format,r.type,o):(r.width=c,r.height=d,a.texImage2D(t.target,0,r.internalFormat,t.format,r.type,o)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class I_ extends co{constructor(e,t){if(t=t||{},typeof e=="string"){const r=new Image;co.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Be.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,r)=>{const o=this.source;this.url=o.src;const a=()=>{this.destroyed||(o.onload=null,o.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};o.complete&&o.src?a():(o.onload=a,o.onerror=c=>{r(c),this.onError.emit(c)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(o=>o.blob()).then(o=>t(o,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Nn.UNPACK?"premultiply":"none"})).then(o=>this.destroyed?Promise.reject():(this.bitmap=o,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let o=!0;const a=t._glTextures;for(const c in a){const d=a[c];if(d!==r&&d.dirtyId!==t.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Lg{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const o=t.width,a=t.height;if(r){const c=e.width/2/o,d=e.height/2/a,m=e.x/o+c,g=e.y/a+d;r=qt.add(r,qt.NW),this.x0=m+c*qt.uX(r),this.y0=g+d*qt.uY(r),r=qt.add(r,2),this.x1=m+c*qt.uX(r),this.y1=g+d*qt.uY(r),r=qt.add(r,2),this.x2=m+c*qt.uX(r),this.y2=g+d*qt.uY(r),r=qt.add(r,2),this.x3=m+c*qt.uX(r),this.y3=g+d*qt.uY(r)}else this.x0=e.x/o,this.y0=e.y/a,this.x1=(e.x+e.width)/o,this.y1=e.y/a,this.x2=(e.x+e.width)/o,this.y2=(e.y+e.height)/a,this.x3=e.x/o,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Lg.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const u0=new Lg;function wd(i){i.destroy=function(){},i.on=function(){},i.once=function(){},i.emit=function(){}}class ke extends Ec{constructor(e,t,r,o,a,c,d){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new ot(0,0,1,1)),e instanceof ke&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=o,this.valid=!1,this.destroyed=!1,this._uvs=u0,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(a||0),a===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=c?new dt(c.x,c.y):new dt(0,0),this.defaultBorders=d,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t?.url&&vs[t.url]&&ke.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ke.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new ke(this.baseTexture,!this.noFrame&&e,t,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===u0&&(this._uvs=new Lg),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=Be.STRICT_TEXTURE_CACHE){const o=typeof e=="string";let a=null;if(o)a=e;else if(e instanceof it){if(!e.cacheId){const d=t?.pixiIdPrefix||"pixiid";e.cacheId=`${d}-${Nl()}`,it.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){const d=t?.pixiIdPrefix||"pixiid";e._pixiId=`${d}_${Nl()}`}a=e._pixiId}let c=vs[a];if(o&&r&&!c)throw new Error(`The cacheId "${a}" does not exist in TextureCache.`);return!c&&!(e instanceof it)?(t.resolution||(t.resolution=ho(e)),c=new ke(new it(e,t)),c.baseTexture.cacheId=a,it.addToCache(c.baseTexture,a),ke.addToCache(c,a)):!c&&e instanceof it&&(c=new ke(e),ke.addToCache(c,a)),c}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t?.resourceOptions),o=ke.from(e,Object.assign({resourceOptions:r},t),!1),a=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):a.load().then(()=>Promise.resolve(o))}static fromBuffer(e,t,r,o){return new ke(it.fromBuffer(e,t,r,o))}static fromLoader(e,t,r,o){const a=new it(e,Object.assign({scaleMode:it.defaultOptions.scaleMode,resolution:ho(t)},o)),{resource:c}=a;c instanceof I_&&(c.url=t);const d=new ke(a);return r||(r=t),it.addToCache(d.baseTexture,r),ke.addToCache(d,r),r!==t&&(it.addToCache(d.baseTexture,t),ke.addToCache(d,t)),d.baseTexture.valid?Promise.resolve(d):new Promise(m=>{d.baseTexture.once("loaded",()=>m(d))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),vs[t]&&vs[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),vs[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=vs[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete vs[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)vs[e.textureCacheIds[t]]===e&&delete vs[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:o,height:a}=e,c=t+o>this.baseTexture.width,d=r+a>this.baseTexture.height;if(c||d){const m=c&&d?"and":"or",g=`X: ${t} + ${o} = ${t+o} > ${this.baseTexture.width}`,_=`Y: ${r} + ${a} = ${r+a} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${g} ${m} ${_}`)}this.valid=o&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ke._EMPTY||(ke._EMPTY=new ke(new it),wd(ke._EMPTY),wd(ke._EMPTY.baseTexture)),ke._EMPTY}static get WHITE(){if(!ke._WHITE){const e=Be.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),ke._WHITE=new ke(it.from(e)),wd(ke._WHITE),wd(ke._WHITE.baseTexture)}return ke._WHITE}}class Fl extends ke{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const o=this.baseTexture.resolution,a=Math.round(e*o)/o,c=Math.round(t*o)/o;this.valid=a>0&&c>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=c,r&&this.baseTexture.resize(a,c),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new Fl(new R_(e))}}class M_{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=mr.NONE){const o=new R_(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new Fl(o)}getOptimalTexture(e,t,r=1,o=mr.NONE){let a;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=Yd(e),t=Yd(t),a=((e&65535)<<16|t&65535)>>>0,o>1&&(a+=o*4294967296)):a=o>1?-o:-1,this.texturePool[a]||(this.texturePool[a]=[]);let c=this.texturePool[a].pop();return c||(c=this.createTexture(e,t,o)),c.filterPoolKey=a,c.setResolution(r),c}getFilterTexture(e,t,r){const o=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||mr.NONE);return o.filterFrame=e.filterFrame,o}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const r=this.texturePool[t];if(r)for(let o=0;o<r.length;o++)r[o].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const r=this.texturePool[t];if(r)for(let o=0;o<r.length;o++)r[o].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}M_.SCREEN_KEY=-1;class mE extends _a{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class k_ extends _a{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new hr(this.vertices),this.uvBuffer=new hr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,o=0;return this.uvs[0]=r,this.uvs[1]=o,this.uvs[2]=r+t.width/e.width,this.uvs[3]=o,this.uvs[4]=r+t.width/e.width,this.uvs[5]=o+t.height/e.height,this.uvs[6]=r,this.uvs[7]=o+t.height/e.height,r=t.x,o=t.y,this.vertices[0]=r,this.vertices[1]=o,this.vertices[2]=r+t.width,this.vertices[3]=o,this.vertices[4]=r+t.width,this.vertices[5]=o+t.height,this.vertices[6]=r,this.vertices[7]=o+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class gE{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=mr.NONE,this.sourceFrame=new ot,this.destinationFrame=new ot,this.bindingSourceFrame=new ot,this.bindingDestinationFrame=new ot,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Ed=[new dt,new dt,new dt,new dt],Em=new zt;class D_{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new M_,this.statePool=[],this.quad=new mE,this.quadUv=new k_,this.tempRect=new ot,this.activeState={},this.globalUniforms=new Vi({outputFrame:new ot,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new gE,c=r.renderTexture;let d,m;if(c.current){const P=c.current;d=P.resolution,m=P.multisample}else d=r.resolution,m=r.multisample;let g=t[0].resolution||d,_=t[0].multisample??m,w=t[0].padding,S=t[0].autoFit,b=t[0].legacy??!0;for(let P=1;P<t.length;P++){const k=t[P];g=Math.min(g,k.resolution||d),_=Math.min(_,k.multisample??m),w=this.useMaxPadding?Math.max(w,k.padding):w+k.padding,S=S&&k.autoFit,b=b||(k.legacy??!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),o.push(a),a.resolution=g,a.multisample=_,a.legacy=b,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(w);const A=this.tempRect.copyFrom(c.sourceFrame);r.projection.transform&&this.transformAABB(Em.copyFrom(r.projection.transform).invert(),A),S?(a.sourceFrame.fit(A),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(A)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,c.current?c.current.resolution:r.resolution,c.sourceFrame,c.destinationFrame,r.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,g,_),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;const I=this.tempRect;I.x=0,I.y=0,I.width=a.sourceFrame.width,I.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(c.sourceFrame),a.bindingDestinationFrame.copyFrom(c.destinationFrame),a.transform=r.projection.transform,r.projection.transform=null,c.bind(a.renderTexture,a.sourceFrame,I),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const o=this.globalUniforms.uniforms;o.outputFrame=t.sourceFrame,o.resolution=t.resolution;const a=o.inputSize,c=o.inputPixel,d=o.inputClamp;if(a[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],c[0]=Math.round(a[0]*t.resolution),c[1]=Math.round(a[1]*t.resolution),c[2]=1/c[0],c[3]=1/c[1],d[0]=.5*c[2],d[1]=.5*c[3],d[2]=t.sourceFrame.width*a[2]-.5*c[2],d[3]=t.sourceFrame.height*a[3]-.5*c[3],t.legacy){const g=o.filterArea;g[0]=t.destinationFrame.width,g[1]=t.destinationFrame.height,g[2]=t.sourceFrame.x,g[3]=t.sourceFrame.y,o.filterClamp=o.inputClamp}this.globalUniforms.update();const m=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,t.renderTexture,m.renderTexture,Es.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let g=t.renderTexture,_=this.getOptimalFilterTexture(g.width,g.height,t.resolution);_.filterFrame=g.filterFrame;let w=0;for(w=0;w<r.length-1;++w){w===1&&t.multisample>1&&(_=this.getOptimalFilterTexture(g.width,g.height,t.resolution),_.filterFrame=g.filterFrame),r[w].apply(this,g,_,Es.CLEAR,t);const S=g;g=_,_=S}r[w].apply(this,g,m.renderTexture,Es.BLEND,t),w>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(_)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Es.CLEAR){const{renderTexture:r,state:o}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame){const c=this.tempRect;c.x=0,c.y=0,c.width=e.filterFrame.width,c.height=e.filterFrame.height,r.bind(e,e.filterFrame,c)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const a=o.stateId&1||this.forceClear;(t===Es.CLEAR||t===Es.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,o){const a=this.renderer;a.state.set(e.state),this.bindAndClear(r,o),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(ji.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(ji.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:o}=this.activeState,{orig:a}=t._texture,c=e.set(o.width,0,0,o.height,r.x,r.y),d=t.worldTransform.copyTo(zt.TEMP_MATRIX);return d.invert(),c.prepend(d),c.scale(1/a.width,1/a.height),c.translate(t.anchor.x,t.anchor.y),c}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,o=mr.NONE){return this.texturePool.getOptimalTexture(e,t,r,o)}getFilterTexture(e,t,r){if(typeof e=="number"){const a=e;e=t,t=a}e=e||this.activeState.renderTexture;const o=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||mr.NONE);return o.filterFrame=e.filterFrame,o}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=Ed[0],o=Ed[1],a=Ed[2],c=Ed[3];r.set(t.left,t.top),o.set(t.left,t.bottom),a.set(t.right,t.top),c.set(t.right,t.bottom),e.apply(r,r),e.apply(o,o),e.apply(a,a),e.apply(c,c);const d=Math.min(r.x,o.x,a.x,c.x),m=Math.min(r.y,o.y,a.y,c.y),g=Math.max(r.x,o.x,a.x,c.x),_=Math.max(r.y,o.y,a.y,c.y);t.x=d,t.y=m,t.width=g-d,t.height=_-m}roundFrame(e,t,r,o,a){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(a){const{a:c,b:d,c:m,d:g}=a;if((Math.abs(d)>1e-4||Math.abs(m)>1e-4)&&(Math.abs(c)>1e-4||Math.abs(g)>1e-4))return}a=a?Em.copyFrom(a):Em.identity(),a.translate(-r.x,-r.y).scale(o.width/r.width,o.height/r.height).translate(o.x,o.y),this.transformAABB(a,e),e.ceil(t),this.transformAABB(a.invert(),e)}}}D_.extension={type:De.RendererSystem,name:"filter"};Xe.add(D_);class yE{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=mr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const vE=new ot;class N_{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new ng(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ot,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Be.PREFER_ENV===Ol.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=o=>t.drawBuffersWEBGL(o):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:o}=this;if(e){const a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,o.bindFramebuffer(o.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=r),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let c=0;c<e.colorTextures.length;c++){const d=e.colorTextures[c];this.renderer.texture.unbind(d.parentTextureArray||d)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const c=t.width>>r,d=t.height>>r,m=c/t.width;this.setViewport(t.x*m,t.y*m,c,d)}else{const c=e.width>>r,d=e.height>>r;this.setViewport(0,0,c,d)}}else this.current&&(this.current=null,o.bindFramebuffer(o.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,o){const a=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),o=Math.round(o),(a.width!==r||a.height!==o||a.x!==e||a.y!==t)&&(a.x=e,a.y=t,a.width=r,a.height=o,this.gl.viewport(e,t,r,o))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,o,a=jm.COLOR|jm.DEPTH){const{gl:c}=this;c.clearColor(e,t,r,o),c.clear(a)}initFramebuffer(e){const{gl:t}=this,r=new yE(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){t.bindRenderbuffer(t.RENDERBUFFER,r.stencil);let c;this.renderer.context.webGLVersion===1?c=t.DEPTH_STENCIL:e.depth&&e.stencil?c=t.DEPTH24_STENCIL8:e.depth?c=t.DEPTH_COMPONENT24:c=t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,c,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,c,e.width,e.height)}const o=e.colorTextures;let a=o.length;t.drawBuffers||(a=Math.min(a,1));for(let c=0;c<a;c++){const d=o[c],m=d.parentTextureArray||d;this.renderer.texture.bind(m,0),c===0&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,m._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,o=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures;let c=a.length;r.drawBuffers||(c=Math.min(c,1)),o.multisample>1&&this.canMultisampleFramebuffer(e)?o.msaaBuffer=o.msaaBuffer||r.createRenderbuffer():o.msaaBuffer&&(r.deleteRenderbuffer(o.msaaBuffer),o.msaaBuffer=null,o.blitFramebuffer&&(o.blitFramebuffer.dispose(),o.blitFramebuffer=null));const d=[];for(let m=0;m<c;m++){const g=a[m],_=g.parentTextureArray||g;this.renderer.texture.bind(_,0),m===0&&o.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,o.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,o.multisample,_._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,o.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+m,g.target,_._glTextures[this.CONTEXT_UID].texture,t),d.push(r.COLOR_ATTACHMENT0+m))}if(d.length>1&&r.drawBuffers(d),e.depthTexture&&this.writeDepthTexture){const m=e.depthTexture;this.renderer.texture.bind(m,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,m._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){o.stencil=o.stencil||r.createRenderbuffer();let m,g;this.renderer.context.webGLVersion===1?(m=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH_STENCIL):e.depth&&e.stencil?(m=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH24_STENCIL8):e.depth?(m=r.DEPTH_ATTACHMENT,g=r.DEPTH_COMPONENT24):(m=r.STENCIL_ATTACHMENT,g=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,o.stencil),o.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,o.multisample,g,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,g,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,m,r.RENDERBUFFER,o.stencil)}else o.stencil&&(r.deleteRenderbuffer(o.stencil),o.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=mr.NONE;if(e<=1||t===null)return r;for(let o=0;o<t.length;o++)if(t[o]<=e){r=t[o];break}return r===1&&(r=mr.NONE),r}blit(e,t,r){const{current:o,renderer:a,gl:c,CONTEXT_UID:d}=this;if(a.context.webGLVersion!==2||!o)return;const m=o.glFramebuffers[d];if(!m)return;if(!e){if(!m.msaaBuffer)return;const _=o.colorTextures[0];if(!_)return;m.blitFramebuffer||(m.blitFramebuffer=new ng(o.width,o.height),m.blitFramebuffer.addColorTexture(0,_)),e=m.blitFramebuffer,e.colorTextures[0]!==_&&(e.colorTextures[0]=_,e.dirtyId++,e.dirtyFormat++),(e.width!==o.width||e.height!==o.height)&&(e.width=o.width,e.height=o.height,e.dirtyId++,e.dirtySize++)}t||(t=vE,t.width=o.width,t.height=o.height),r||(r=t);const g=t.width===r.width&&t.height===r.height;this.bind(e),c.bindFramebuffer(c.READ_FRAMEBUFFER,m.framebuffer),c.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,c.COLOR_BUFFER_BIT,g?c.NEAREST:c.LINEAR),c.bindFramebuffer(c.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],o=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),t||(o.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&o.deleteRenderbuffer(r.msaaBuffer),r.stencil&&o.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const r=e.width,o=e.height,a=this.gl,c=t.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,c);let d,m;this.renderer.context.webGLVersion===1?(d=a.DEPTH_STENCIL_ATTACHMENT,m=a.DEPTH_STENCIL):e.depth?(d=a.DEPTH_STENCIL_ATTACHMENT,m=a.DEPTH24_STENCIL8):(d=a.STENCIL_ATTACHMENT,m=a.STENCIL_INDEX8),t.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,t.multisample,m,r,o):a.renderbufferStorage(a.RENDERBUFFER,m,r,o),a.framebufferRenderbuffer(a.FRAMEBUFFER,d,a.RENDERBUFFER,c)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ot}destroy(){this.renderer=null}}N_.extension={type:De.RendererSystem,name:"framebuffer"};Xe.add(N_);const Sm={5126:4,5123:2,5121:1};class O_{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;Be.PREFER_ENV===Ol.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=o=>r.bindVertexArrayOES(o),e.deleteVertexArray=o=>r.deleteVertexArrayOES(o)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(o,a)=>r.vertexAttribDivisorANGLE(o,a),e.drawElementsInstanced=(o,a,c,d,m)=>r.drawElementsInstancedANGLE(o,a,c,d,m),e.drawArraysInstanced=(o,a,c,d)=>r.drawArraysInstancedANGLE(o,a,c,d)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let o=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;o||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=o={},a=!0);const c=o[t.program.id]||this.initGeometryVao(e,t,a);this._activeGeometry=e,this._activeVao!==c&&(this._activeVao=c,this.hasVao?r.bindVertexArray(c):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const o=e.buffers[r];t.update(o)}}checkCompatibility(e,t){const r=e.attributes,o=t.attributeData;for(const a in o)if(!r[a])throw new Error(`shader and geometry incompatible, geometry missing the "${a}" attribute`)}getSignature(e,t){const r=e.attributes,o=t.attributeData,a=["g",e.id];for(const c in r)o[c]&&a.push(c,o[c].location);return a.join("-")}initGeometryVao(e,t,r=!0){const o=this.gl,a=this.CONTEXT_UID,c=this.renderer.buffer,d=t.program;d.glPrograms[a]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,d);const m=this.getSignature(e,d),g=e.glVertexArrayObjects[this.CONTEXT_UID];let _=g[m];if(_)return g[d.id]=_,_;const w=e.buffers,S=e.attributes,b={},A={};for(const I in w)b[I]=0,A[I]=0;for(const I in S)!S[I].size&&d.attributeData[I]?S[I].size=d.attributeData[I].size:S[I].size||console.warn(`PIXI Geometry attribute '${I}' size cannot be determined (likely the bound shader does not have the attribute)`),b[S[I].buffer]+=S[I].size*Sm[S[I].type];for(const I in S){const P=S[I],k=P.size;P.stride===void 0&&(b[P.buffer]===k*Sm[P.type]?P.stride=0:P.stride=b[P.buffer]),P.start===void 0&&(P.start=A[P.buffer],A[P.buffer]+=k*Sm[P.type])}_=o.createVertexArray(),o.bindVertexArray(_);for(let I=0;I<w.length;I++){const P=w[I];c.bind(P),r&&P._glBuffers[a].refCount++}return this.activateVao(e,d),g[d.id]=_,g[m]=_,o.bindVertexArray(null),c.unbind(bs.ARRAY_BUFFER),_}disposeGeometry(e,t){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,a=e.buffers,c=this.renderer?.buffer;if(e.disposeRunner.remove(this),!!r){if(c)for(let d=0;d<a.length;d++){const m=a[d]._glBuffers[this.CONTEXT_UID];m&&(m.refCount--,m.refCount===0&&!t&&c.dispose(a[d],t))}if(!t){for(const d in r)if(d[0]==="g"){const m=r[d];this._activeVao===m&&this.unbind(),o.deleteVertexArray(m)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,c=e.buffers,d=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);let m=null;for(const g in d){const _=d[g],w=c[_.buffer],S=w._glBuffers[o];if(t.attributeData[g]){m!==S&&(a.bind(w),m=S);const b=t.attributeData[g].location;if(r.enableVertexAttribArray(b),r.vertexAttribPointer(b,_.size,_.type||r.FLOAT,_.normalized,_.stride,_.start),_.instance)if(this.hasInstance)r.vertexAttribDivisor(b,_.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,o){const{gl:a}=this,c=this._activeGeometry;if(c.indexBuffer){const d=c.indexBuffer.data.BYTES_PER_ELEMENT,m=d===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;d===2||d===4&&this.canUseUInt32ElementIndex?c.instanced?a.drawElementsInstanced(e,t||c.indexBuffer.data.length,m,(r||0)*d,o||1):a.drawElements(e,t||c.indexBuffer.data.length,m,(r||0)*d):console.warn("unsupported index buffer type: uint32")}else c.instanced?a.drawArraysInstanced(e,r,t||c.getSize(),o||1):a.drawArrays(e,r,t||c.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}O_.extension={type:De.RendererSystem,name:"geometry"};Xe.add(O_);const h0=new zt;class Ug{constructor(e,t){this._texture=e,this.mapCoord=new zt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let o=0;o<e.length;o+=2){const a=e[o],c=e[o+1];t[o]=a*r.a+c*r.c+r.tx,t[o+1]=a*r.b+c*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const o=t.orig,a=t.trim;a&&(h0.set(o.width/a.width,0,0,o.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(h0));const c=t.baseTexture,d=this.uClampFrame,m=this.clampMargin/c.resolution,g=this.clampOffset;return d[0]=(t._frame.x+m+g)/c.width,d[1]=(t._frame.y+m+g)/c.height,d[2]=(t._frame.x+t._frame.width-m+g)/c.width,d[3]=(t._frame.y+t._frame.height-m+g)/c.height,this.uClampOffset[0]=g/c.realWidth,this.uClampOffset[1]=g/c.realHeight,this.isSimple=t._frame.width===c.width&&t._frame.height===c.height&&t.rotate===0,!0}}var _E=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,xE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class wE extends hn{constructor(e,t,r){let o=null;typeof e!="string"&&t===void 0&&r===void 0&&(o=e,e=void 0,t=void 0,r=void 0),super(e||xE,t||_E,r),this.maskSprite=o,this.maskMatrix=new zt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,o){const a=this._maskSprite,c=a._texture;c.valid&&(c.uvMatrix||(c.uvMatrix=new Ug(c,0)),c.uvMatrix.update(),this.uniforms.npmAlpha=c.baseTexture.alphaMode?0:1,this.uniforms.mask=c,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(c.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=c.uvMatrix.uClampFrame,e.applyFilter(this,t,r,o))}}class EE{constructor(e=null){this.type=Er.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=hn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Er.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class F_{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const a=this.maskDataPool.pop()||new EE;a.pooled=!0,a.maskObject=t,r=a}const o=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(o),r._colorMask=o?o._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==Er.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Er.SCISSOR:this.renderer.scissor.push(r);break;case Er.STENCIL:this.renderer.stencil.push(r);break;case Er.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Er.COLOR:this.pushColorMask(r);break}r.type===Er.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case Er.SCISSOR:this.renderer.scissor.pop(t);break;case Er.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Er.SPRITE:this.popSpriteMask(t);break;case Er.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===Er.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=Er.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Er.SCISSOR:e.type=Er.STENCIL:e.type=Er.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new wE])),o[0].resolution=e.resolution,o[0].multisample=e.multisample,o[0].maskSprite=t;const a=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,o),r.filterArea=a,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}F_.extension={type:De.RendererSystem,name:"mask"};Xe.add(F_);class B_{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const o=this.getStackLength();o!==r&&(o===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const c0=new zt,d0=[],L_=class zd extends B_{constructor(e){super(e),this.glConst=Be.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:o}=this,a=o.renderTexture,c=r.getBounds(!0,d0.pop()??new ot);this.roundFrameToPixels(c,a.current?a.current.resolution:o.resolution,a.sourceFrame,a.destinationFrame,o.projection.transform),t&&c.fit(t),e._scissorRectLocal=c}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:o,d:a}=e;return(Math.abs(r)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(a)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||zd.isMatrixRotated(t.worldTransform)||zd.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const r=e._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(e,t,r,o,a){zd.isMatrixRotated(a)||(a=a?c0.copyFrom(a):c0.identity(),a.translate(-r.x,-r.y).scale(o.width/r.width,o.height/r.height).translate(o.x,o.y),this.renderer.filter.transformAABB(a,e),e.fit(o),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&d0.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};L_.extension={type:De.RendererSystem,name:"scissor"};let SE=L_;Xe.add(SE);class U_ extends B_{constructor(e){super(e),this.glConst=Be.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,o=e._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const a=e._colorMask;a!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,o,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,a!==0&&(e._colorMask=a,r.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,o=r?r._colorMask:15;o!==0&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,o!==0&&(r._colorMask=o,t.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}U_.extension={type:De.RendererSystem,name:"stencil"};Xe.add(U_);class z_{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return ct("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return ct("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return ct("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}z_.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_plugin"};Xe.add(z_);class G_{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new zt,this.transform=null}update(e,t,r,o){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,o),this.transform&&this.projectionMatrix.append(this.transform);const a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)}calculateProjection(e,t,r,o){const a=this.projectionMatrix,c=o?-1:1;a.identity(),a.a=1/t.width*2,a.d=c*(1/t.height*2),a.tx=-1-t.x*a.a,a.ty=-c-t.y*a.d}setTransform(e){}destroy(){this.renderer=null}}G_.extension={type:De.RendererSystem,name:"projection"};Xe.add(G_);const bE=new _f,f0=new ot;class H_{constructor(e){this.renderer=e,this._tempMatrix=new zt}generateTexture(e,t){const{region:r,...o}=t||{},a=r?.copyTo(f0)||e.getLocalBounds(f0,!0),c=o.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/c),a.height=Math.max(a.height,1/c),o.width=a.width,o.height=a.height,o.resolution=c,o.multisample??(o.multisample=this.renderer.multisample);const d=Fl.create(o);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;const m=e.transform;return e.transform=bE,this.renderer.render(e,{renderTexture:d,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=m,d}destroy(){}}H_.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"textureGenerator"};Xe.add(H_);const El=new ot,rc=new ot;class j_{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ot,this.destinationFrame=new ot,this.viewportFrame=new ot}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){const o=this.renderer;this.current=e;let a,c,d;e?(a=e.baseTexture,d=a.resolution,t||(El.width=e.frame.width,El.height=e.frame.height,t=El),r||(rc.x=e.frame.x,rc.y=e.frame.y,rc.width=t.width,rc.height=t.height,r=rc),c=a.framebuffer):(d=o.resolution,t||(El.width=o._view.screen.width,El.height=o._view.screen.height,t=El),r||(r=El,r.width=t.width,r.height=t.height));const m=this.viewportFrame;m.x=r.x*d,m.y=r.y*d,m.width=r.width*d,m.height=r.height*d,e||(m.y=o.view.height-(m.y+m.height)),m.ceil(),this.renderer.framebuffer.bind(c,m),this.renderer.projection.update(r,t,d,!c),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,o=Lt.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&o.premultiply(o.alpha);const a=this.destinationFrame,c=this.current?this.current.baseTexture:this.renderer._view.screen,d=a.width!==c.width||a.height!==c.height;if(d){let{x:m,y:g,width:_,height:w}=this.viewportFrame;m=Math.round(m),g=Math.round(g),_=Math.round(_),w=Math.round(w),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(m,g,_,w)}this.renderer.framebuffer.clear(o.red,o.green,o.blue,o.alpha,t),d&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}j_.extension={type:De.RendererSystem,name:"renderTexture"};Xe.add(j_);class TE{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function AE(i,e){const t={},r=e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES);for(let o=0;o<r;o++){const a=e.getActiveAttrib(i,o);if(a.name.startsWith("gl_"))continue;const c=C_(e,a.type),d={type:c,name:a.name,size:A_(c),location:e.getAttribLocation(i,a.name)};t[a.name]=d}return t}function CE(i,e){const t={},r=e.getProgramParameter(i,e.ACTIVE_UNIFORMS);for(let o=0;o<r;o++){const a=e.getActiveUniform(i,o),c=a.name.replace(/\[.*?\]$/,""),d=!!a.name.match(/\[.*?\]$/),m=C_(e,a.type);t[c]={name:c,index:o,type:m,size:a.size,isArray:d,value:b_(m,a.size)}}return t}function PE(i,e){const t=i0(i,i.VERTEX_SHADER,e.vertexSrc),r=i0(i,i.FRAGMENT_SHADER,e.fragmentSrc),o=i.createProgram();i.attachShader(o,t),i.attachShader(o,r);const a=e.extra?.transformFeedbackVaryings;if(a&&(typeof i.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):i.transformFeedbackVaryings(o,a.names,a.bufferMode==="separate"?i.SEPARATE_ATTRIBS:i.INTERLEAVED_ATTRIBS)),i.linkProgram(o),i.getProgramParameter(o,i.LINK_STATUS)||nE(i,o,t,r),e.attributeData=AE(o,i),e.uniformData=CE(o,i),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const d=Object.keys(e.attributeData);d.sort((m,g)=>m>g?1:-1);for(let m=0;m<d.length;m++)e.attributeData[d[m]].location=m,i.bindAttribLocation(o,m,d[m]);i.linkProgram(o)}i.deleteShader(t),i.deleteShader(r);const c={};for(const d in e.uniformData){const m=e.uniformData[d];c[d]={location:i.getUniformLocation(o,d),value:b_(m.type,m.size)}}return new TE(o,c)}function RE(i,e,t,r,o){t.buffer.update(o)}const IE={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},W_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function ME(i){const e=i.map(a=>({data:a,offset:0,dataLen:0,dirty:0}));let t=0,r=0,o=0;for(let a=0;a<e.length;a++){const c=e[a];if(t=W_[c.data.type],c.data.size>1&&(t=Math.max(t,16)*c.data.size),c.dataLen=t,r%t!==0&&r<16){const d=r%t%16;r+=d,o+=d}r+t>16?(o=Math.ceil(o/16)*16,c.offset=o,o+=t,r=t):(c.offset=o,r+=t,o+=t)}return o=Math.ceil(o/16)*16,{uboElements:e,size:o}}function kE(i,e){const t=[];for(const r in i)e[r]&&t.push(e[r]);return t.sort((r,o)=>r.index-o.index),t}function DE(i,e){if(!i.autoManage)return{size:0,syncFunc:RE};const t=kE(i.uniforms,e),{uboElements:r,size:o}=ME(t),a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let c=0;c<r.length;c++){const d=r[c],m=i.uniforms[d.data.name],g=d.data.name;let _=!1;for(let w=0;w<Xu.length;w++){const S=Xu[w];if(S.codeUbo&&S.test(d.data,m)){a.push(`offset = ${d.offset/4};`,Xu[w].codeUbo(d.data.name,m)),_=!0;break}}if(!_)if(d.data.size>1){const w=A_(d.data.type),S=Math.max(W_[d.data.type]/16,1),b=w/S,A=(4-b%4)%4;a.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};

                t = 0;

                for(var i=0; i < ${d.data.size*S}; i++)
                {
                    for(var j = 0; j < ${b}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${A};
                }

                `)}else{const w=IE[d.data.type];a.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};
                ${w};
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}let NE=0;const Sd={textureCount:0,uboCount:0};class $_{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=NE++}systemCheck(){if(!sE())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,o=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(o.program)),t||(Sd.textureCount=0,Sd.uboCount=0,this.syncUniformGroup(e.uniformGroup,Sd)),o}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=eE(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const o=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),o(r.uniformData,e.uniforms,this.renderer,Sd,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:o}=this.renderer;this.renderer.buffer.bind(e.buffer);const a=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,o.uniformBlockBinding(t.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;const c=this.getSignature(e,this.shader.program.uniformData,"ubo");let d=this._uboCache[c];if(d||(d=this._uboCache[c]=DE(e,this.shader.program.uniformData)),e.autoManage){const m=new Float32Array(d.size/4);e.buffer.update(m)}return t.uniformGroups[e.id]=d.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const o=e.uniforms,a=[`${r}-`];for(const c in o)a.push(c),t[c]&&a.push(t[c].type);return a.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,o=PE(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=o,o}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}$_.extension={type:De.RendererSystem,name:"shader"};Xe.add($_);class Jd{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.3 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}Jd.defaultOptions={hello:!1},Jd.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"startup"};Xe.add(Jd);function OE(i,e=[]){return e[et.NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.ADD]=[i.ONE,i.ONE],e[et.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SCREEN]=[i.ONE,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.NONE]=[0,0],e[et.NORMAL_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.ADD_NPM]=[i.SRC_ALPHA,i.ONE,i.ONE,i.ONE],e[et.SCREEN_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SRC_IN]=[i.DST_ALPHA,i.ZERO],e[et.SRC_OUT]=[i.ONE_MINUS_DST_ALPHA,i.ZERO],e[et.SRC_ATOP]=[i.DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[et.DST_OVER]=[i.ONE_MINUS_DST_ALPHA,i.ONE],e[et.DST_IN]=[i.ZERO,i.SRC_ALPHA],e[et.DST_OUT]=[i.ZERO,i.ONE_MINUS_SRC_ALPHA],e[et.DST_ATOP]=[i.ONE_MINUS_DST_ALPHA,i.SRC_ALPHA],e[et.XOR]=[i.ONE_MINUS_DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[et.SUBTRACT]=[i.ONE,i.ONE,i.ONE,i.ONE,i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD],e}const FE=0,BE=1,LE=2,UE=3,zE=4,GE=5,V_=class ig{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=et.NONE,this._blendEq=!1,this.map=[],this.map[FE]=this.setBlend,this.map[BE]=this.setOffset,this.map[LE]=this.setCullFace,this.map[UE]=this.setDepthTest,this.map[zE]=this.setFrontFace,this.map[GE]=this.setDepthMask,this.checks=[],this.defaultState=new Rs,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=OE(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t=t>>1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(ig.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(ig.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};V_.extension={type:De.RendererSystem,name:"state"};let HE=V_;Xe.add(HE);class jE extends Ec{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(o=>e.systems[o]),r=[...t,...Object.keys(e.systems).filter(o=>!t.includes(o))];for(const o of r)this.addSystem(e.systems[o],o)}addRunners(...e){e.forEach(t=>{this.runners[t]=new $i(t)})}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const o in this.runners)this.runners[o].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach(o=>{const a=r.find(c=>this._systemsHash[c]===o);o[e.name](t[a])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const lc=class Gd{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Gd.defaultMaxIdle,this.checkCountMax=Gd.defaultCheckCountMax,this.mode=Gd.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Ng.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let o=0;o<t.length;o++){const a=t[o];a.resource&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),t[o]=null,r=!0)}if(r){let o=0;for(let a=0;a<t.length;a++)t[a]!==null&&(t[o++]=t[a]);t.length=o}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let o=e.children.length-1;o>=0;o--)this.unload(e.children[o])}destroy(){this.renderer=null}};lc.defaultMode=Ng.AUTO,lc.defaultMaxIdle=3600,lc.defaultCheckCountMax=600,lc.extension={type:De.RendererSystem,name:"textureGC"};let Il=lc;Xe.add(Il);class bm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ke.UNSIGNED_BYTE,this.internalFormat=Ae.RGBA,this.samplerType=0}}function WE(i){let e;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?e={[i.RGB]:Fe.FLOAT,[i.RGBA]:Fe.FLOAT,[i.ALPHA]:Fe.FLOAT,[i.LUMINANCE]:Fe.FLOAT,[i.LUMINANCE_ALPHA]:Fe.FLOAT,[i.R8]:Fe.FLOAT,[i.R8_SNORM]:Fe.FLOAT,[i.RG8]:Fe.FLOAT,[i.RG8_SNORM]:Fe.FLOAT,[i.RGB8]:Fe.FLOAT,[i.RGB8_SNORM]:Fe.FLOAT,[i.RGB565]:Fe.FLOAT,[i.RGBA4]:Fe.FLOAT,[i.RGB5_A1]:Fe.FLOAT,[i.RGBA8]:Fe.FLOAT,[i.RGBA8_SNORM]:Fe.FLOAT,[i.RGB10_A2]:Fe.FLOAT,[i.RGB10_A2UI]:Fe.FLOAT,[i.SRGB8]:Fe.FLOAT,[i.SRGB8_ALPHA8]:Fe.FLOAT,[i.R16F]:Fe.FLOAT,[i.RG16F]:Fe.FLOAT,[i.RGB16F]:Fe.FLOAT,[i.RGBA16F]:Fe.FLOAT,[i.R32F]:Fe.FLOAT,[i.RG32F]:Fe.FLOAT,[i.RGB32F]:Fe.FLOAT,[i.RGBA32F]:Fe.FLOAT,[i.R11F_G11F_B10F]:Fe.FLOAT,[i.RGB9_E5]:Fe.FLOAT,[i.R8I]:Fe.INT,[i.R8UI]:Fe.UINT,[i.R16I]:Fe.INT,[i.R16UI]:Fe.UINT,[i.R32I]:Fe.INT,[i.R32UI]:Fe.UINT,[i.RG8I]:Fe.INT,[i.RG8UI]:Fe.UINT,[i.RG16I]:Fe.INT,[i.RG16UI]:Fe.UINT,[i.RG32I]:Fe.INT,[i.RG32UI]:Fe.UINT,[i.RGB8I]:Fe.INT,[i.RGB8UI]:Fe.UINT,[i.RGB16I]:Fe.INT,[i.RGB16UI]:Fe.UINT,[i.RGB32I]:Fe.INT,[i.RGB32UI]:Fe.UINT,[i.RGBA8I]:Fe.INT,[i.RGBA8UI]:Fe.UINT,[i.RGBA16I]:Fe.INT,[i.RGBA16UI]:Fe.UINT,[i.RGBA32I]:Fe.INT,[i.RGBA32UI]:Fe.UINT,[i.DEPTH_COMPONENT16]:Fe.FLOAT,[i.DEPTH_COMPONENT24]:Fe.FLOAT,[i.DEPTH_COMPONENT32F]:Fe.FLOAT,[i.DEPTH_STENCIL]:Fe.FLOAT,[i.DEPTH24_STENCIL8]:Fe.FLOAT,[i.DEPTH32F_STENCIL8]:Fe.FLOAT}:e={[i.RGB]:Fe.FLOAT,[i.RGBA]:Fe.FLOAT,[i.ALPHA]:Fe.FLOAT,[i.LUMINANCE]:Fe.FLOAT,[i.LUMINANCE_ALPHA]:Fe.FLOAT,[i.DEPTH_STENCIL]:Fe.FLOAT},e}function $E(i){let e;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?e={[Ke.UNSIGNED_BYTE]:{[Ae.RGBA]:i.RGBA8,[Ae.RGB]:i.RGB8,[Ae.RG]:i.RG8,[Ae.RED]:i.R8,[Ae.RGBA_INTEGER]:i.RGBA8UI,[Ae.RGB_INTEGER]:i.RGB8UI,[Ae.RG_INTEGER]:i.RG8UI,[Ae.RED_INTEGER]:i.R8UI,[Ae.ALPHA]:i.ALPHA,[Ae.LUMINANCE]:i.LUMINANCE,[Ae.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[Ke.BYTE]:{[Ae.RGBA]:i.RGBA8_SNORM,[Ae.RGB]:i.RGB8_SNORM,[Ae.RG]:i.RG8_SNORM,[Ae.RED]:i.R8_SNORM,[Ae.RGBA_INTEGER]:i.RGBA8I,[Ae.RGB_INTEGER]:i.RGB8I,[Ae.RG_INTEGER]:i.RG8I,[Ae.RED_INTEGER]:i.R8I},[Ke.UNSIGNED_SHORT]:{[Ae.RGBA_INTEGER]:i.RGBA16UI,[Ae.RGB_INTEGER]:i.RGB16UI,[Ae.RG_INTEGER]:i.RG16UI,[Ae.RED_INTEGER]:i.R16UI,[Ae.DEPTH_COMPONENT]:i.DEPTH_COMPONENT16},[Ke.SHORT]:{[Ae.RGBA_INTEGER]:i.RGBA16I,[Ae.RGB_INTEGER]:i.RGB16I,[Ae.RG_INTEGER]:i.RG16I,[Ae.RED_INTEGER]:i.R16I},[Ke.UNSIGNED_INT]:{[Ae.RGBA_INTEGER]:i.RGBA32UI,[Ae.RGB_INTEGER]:i.RGB32UI,[Ae.RG_INTEGER]:i.RG32UI,[Ae.RED_INTEGER]:i.R32UI,[Ae.DEPTH_COMPONENT]:i.DEPTH_COMPONENT24},[Ke.INT]:{[Ae.RGBA_INTEGER]:i.RGBA32I,[Ae.RGB_INTEGER]:i.RGB32I,[Ae.RG_INTEGER]:i.RG32I,[Ae.RED_INTEGER]:i.R32I},[Ke.FLOAT]:{[Ae.RGBA]:i.RGBA32F,[Ae.RGB]:i.RGB32F,[Ae.RG]:i.RG32F,[Ae.RED]:i.R32F,[Ae.DEPTH_COMPONENT]:i.DEPTH_COMPONENT32F},[Ke.HALF_FLOAT]:{[Ae.RGBA]:i.RGBA16F,[Ae.RGB]:i.RGB16F,[Ae.RG]:i.RG16F,[Ae.RED]:i.R16F},[Ke.UNSIGNED_SHORT_5_6_5]:{[Ae.RGB]:i.RGB565},[Ke.UNSIGNED_SHORT_4_4_4_4]:{[Ae.RGBA]:i.RGBA4},[Ke.UNSIGNED_SHORT_5_5_5_1]:{[Ae.RGBA]:i.RGB5_A1},[Ke.UNSIGNED_INT_2_10_10_10_REV]:{[Ae.RGBA]:i.RGB10_A2,[Ae.RGBA_INTEGER]:i.RGB10_A2UI},[Ke.UNSIGNED_INT_10F_11F_11F_REV]:{[Ae.RGB]:i.R11F_G11F_B10F},[Ke.UNSIGNED_INT_5_9_9_9_REV]:{[Ae.RGB]:i.RGB9_E5},[Ke.UNSIGNED_INT_24_8]:{[Ae.DEPTH_STENCIL]:i.DEPTH24_STENCIL8},[Ke.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ae.DEPTH_STENCIL]:i.DEPTH32F_STENCIL8}}:e={[Ke.UNSIGNED_BYTE]:{[Ae.RGBA]:i.RGBA,[Ae.RGB]:i.RGB,[Ae.ALPHA]:i.ALPHA,[Ae.LUMINANCE]:i.LUMINANCE,[Ae.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[Ke.UNSIGNED_SHORT_5_6_5]:{[Ae.RGB]:i.RGB},[Ke.UNSIGNED_SHORT_4_4_4_4]:{[Ae.RGBA]:i.RGBA},[Ke.UNSIGNED_SHORT_5_5_5_1]:{[Ae.RGBA]:i.RGBA}},e}class X_{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new it,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=$E(e),this.samplerTypes=WE(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let o=0;o<t;o++)this.boundTextures[o]=null;this.emptyTextures={};const r=new bm(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new bm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let o=0;o<6;o++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let o=0;o<this.boundTextures.length;o++)this.bind(null,o)}bind(e,t=0){const{gl:r}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const o=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,o.texture)),o.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):o.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let o=0;o<r.length;o++)r[o]===this.unknownTexture&&this.bind(null,o)}for(let o=0;o<r.length;o++)r[o]===e&&(this.currentLocation!==o&&(t.activeTexture(t.TEXTURE0+o),this.currentLocation=o),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[o]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:o}=this;if(r)for(let a=e-1;a>=0;--a){const c=t[a];c&&c._glTextures[o].samplerType!==Fe.FLOAT&&this.renderer.texture.unbind(c)}}initTexture(e){const t=new bm(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){t.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Fe.FLOAT,this.webGLVersion===2&&e.type===Ke.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),e.resource?.upload(r,e,t))t.samplerType!==Fe.FLOAT&&(this.hasIntegerTextures=!0);else{const o=e.realWidth,a=e.realHeight,c=r.gl;(t.width!==o||t.height!==a||t.dirtyId<0)&&(t.width=o,t.height=a,c.texImage2D(e.target,0,t.internalFormat,o,a,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const o=this.managedTextures.indexOf(e);o!==-1&&Vu(this.managedTextures,o,1)}}updateTextureStyle(e){const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===As.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=uo.CLAMP:t.wrapMode=e.wrapMode,e.resource?.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==As.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===so.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const o=this.renderer.context.extensions.anisotropicFiltering;if(o&&e.anisotropicLevel>0&&e.scaleMode===so.LINEAR){const a=Math.min(e.anisotropicLevel,r.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,o.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===so.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===so.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}X_.extension={type:De.RendererSystem,name:"texture"};Xe.add(X_);class Y_{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,o=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,o)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:o}=this;t&&o.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:o}=this,a=t.createTransformFeedback();e._glTransformFeedbacks[o]=a,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,a);for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];d&&(r.buffer.update(d),d._glBuffers[o].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,c,d._glBuffers[o].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),a}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],o=this.gl;e.disposeRunner.remove(this);const a=this.renderer.buffer;if(a)for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];if(!d)continue;const m=d._glBuffers[this.CONTEXT_UID];m&&(m.refCount--,m.refCount===0&&!t&&a.dispose(d,t))}r&&(t||o.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Y_.extension={type:De.RendererSystem,name:"transformFeedback"};Xe.add(Y_);class ef{constructor(e){this.renderer=e}init(e){this.screen=new ot(0,0,e.width,e.height),this.element=e.view||Be.ADAPTER.createCanvas(),this.resolution=e.resolution||Be.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,o=this.element.height/this.resolution;this.screen.width=r,this.screen.height=o,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${o}px`),this.renderer.emit("resize",r,o),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}ef.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},ef.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_view"};Xe.add(ef);Be.PREFER_ENV=Ol.WEBGL2;Be.STRICT_TEXTURE_CACHE=!1;Be.RENDER_OPTIONS={...Zd.defaultOptions,...Kd.defaultOptions,...ef.defaultOptions,...Jd.defaultOptions};Object.defineProperties(Be,{WRAP_MODE:{get(){return it.defaultOptions.wrapMode},set(i){ct("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),it.defaultOptions.wrapMode=i}},SCALE_MODE:{get(){return it.defaultOptions.scaleMode},set(i){ct("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),it.defaultOptions.scaleMode=i}},MIPMAP_TEXTURES:{get(){return it.defaultOptions.mipmap},set(i){ct("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),it.defaultOptions.mipmap=i}},ANISOTROPIC_LEVEL:{get(){return it.defaultOptions.anisotropicLevel},set(i){ct("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),it.defaultOptions.anisotropicLevel=i}},FILTER_RESOLUTION:{get(){return ct("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),hn.defaultResolution},set(i){hn.defaultResolution=i}},FILTER_MULTISAMPLE:{get(){return ct("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),hn.defaultMultisample},set(i){hn.defaultMultisample=i}},SPRITE_MAX_TEXTURES:{get(){return Rl.defaultMaxTextures},set(i){ct("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Rl.defaultMaxTextures=i}},SPRITE_BATCH_SIZE:{get(){return Rl.defaultBatchSize},set(i){ct("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Rl.defaultBatchSize=i}},CAN_UPLOAD_SAME_BUFFER:{get(){return Rl.canUploadSameBuffer},set(i){ct("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Rl.canUploadSameBuffer=i}},GC_MODE:{get(){return Il.defaultMode},set(i){ct("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Il.defaultMode=i}},GC_MAX_IDLE:{get(){return Il.defaultMaxIdle},set(i){ct("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Il.defaultMaxIdle=i}},GC_MAX_CHECK_COUNT:{get(){return Il.defaultCheckCountMax},set(i){ct("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Il.defaultCheckCountMax=i}},PRECISION_VERTEX:{get(){return ao.defaultVertexPrecision},set(i){ct("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),ao.defaultVertexPrecision=i}},PRECISION_FRAGMENT:{get(){return ao.defaultFragmentPrecision},set(i){ct("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),ao.defaultFragmentPrecision=i}}});var xa=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(xa||{});class Tm{constructor(e,t=null,r=0,o=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=o}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const q_=class qn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Tm(null,null,1/0),this.deltaMS=1/qn.targetFPMS,this.elapsedMS=1/qn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=xa.NORMAL){return this._addListener(new Tm(e,t,r))}addOnce(e,t,r=xa.NORMAL){return this._addListener(new Tm(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*qn.targetFPMS;const r=this._head;let o=r.next;for(;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,qn.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!qn._shared){const e=qn._shared=new qn;e.autoStart=!0,e._protected=!0}return qn._shared}static get system(){if(!qn._system){const e=qn._system=new qn;e.autoStart=!0,e._protected=!0}return qn._system}};q_.targetFPMS=.06;let kr=q_;Object.defineProperties(Be,{TARGET_FPMS:{get(){return kr.targetFPMS},set(i){ct("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),kr.targetFPMS=i}}});class Q_{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,xa.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?kr.shared:new kr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Q_.extension=De.Application;Xe.add(Q_);const K_=[];Xe.handleByList(De.Renderer,K_);function VE(i){for(const e of K_)if(e.test(i))return new e(i);throw new Error("Unable to auto-detect a suitable renderer.")}var XE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,YE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const qE=XE,Z_=YE;class J_{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=mr.HIGH?this.multisample=mr.HIGH:t>=mr.MEDIUM?this.multisample=mr.MEDIUM:t>=mr.LOW?this.multisample=mr.LOW:this.multisample=mr.NONE}destroy(){}}J_.extension={type:De.RendererSystem,name:"_multisample"};Xe.add(J_);class QE{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class ex{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,o=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,o.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:o}=this;if(this.boundBufferBases[t]!==e){const a=e._glBuffers[o]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,a.buffer)}}bindBufferRange(e,t,r){const{gl:o,CONTEXT_UID:a}=this;r=r||0;const c=e._glBuffers[a]||this.createGLBuffer(e);o.bindBufferRange(o.UNIFORM_BUFFER,t||0,c.buffer,r*256,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,o=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==o.updateID)if(o.updateID=e._updateID,t.bindBuffer(e.type,o.buffer),o.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const a=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;o.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,a)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],o=this.gl;e.disposeRunner.remove(this),r&&(t||o.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new QE(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}ex.extension={type:De.RendererSystem,name:"buffer"};Xe.add(ex);class tx{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let o,a,c,d;if(t&&(o=t.renderTexture,a=t.clear,c=t.transform,d=t.skipUpdateTransform),this.renderingToScreen=!o,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=c,!r.context.isLost){if(o||(this.lastObjectRendered=e),!d){const m=e.enableTempParent();e.updateTransform(),e.disableTempParent(m)}r.renderTexture.bind(o),r.batch.currentRenderer.start(),(a??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),o&&(t.blit&&r.framebuffer.blit(),o.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}tx.extension={type:De.RendererSystem,name:"objectRenderer"};Xe.add(tx);const Hd=class sg extends jE{constructor(e){super(),this.type=s_.WEBGL,e=Object.assign({},Be.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Vi({projectionMatrix:new zt},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:sg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(ct("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=sg.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e?.forceCanvas?!1:_w()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return ct("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return ct("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return ct("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return ct("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){ct("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return ct("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){ct("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return ct("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};Hd.extension={type:De.Renderer,priority:1},Hd.__plugins={},Hd.__systems={};let zg=Hd;Xe.handleByMap(De.RendererPlugin,zg.__plugins);Xe.handleByMap(De.RendererSystem,zg.__systems);Xe.add(zg);class rx extends yc{constructor(e,t){const{width:r,height:o}=t||{};super(r,o),this.items=[],this.itemDirtyIds=[];for(let a=0;a<e;a++){const c=new it;this.items.push(c),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof yc?this.addResourceAt(e[r],r):this.addResourceAt(w_(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:r}=this.items[0];return this.resize(t,r),this.update(),Promise.resolve(this)}),this._load}}class KE extends rx{constructor(e,t){const{width:r,height:o}=t||{};let a,c;Array.isArray(e)?(a=e,c=e.length):c=e,super(c,{width:r,height:o}),a&&this.initFromArray(a,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=$u.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:o,itemDirtyIds:a,items:c}=this,{gl:d}=e;r.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,o,0,t.format,r.type,null);for(let m=0;m<o;m++){const g=c[m];a[m]<g.dirtyId&&(a[m]=g.dirtyId,g.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,m,g.resource.width,g.resource.height,1,t.format,r.type,g.resource.source))}return!0}}class ZE extends co{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const nx=class uc extends rx{constructor(e,t){const{width:r,height:o,autoLoad:a,linkBaseTexture:c}=t||{};if(e&&e.length!==uc.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:r,height:o});for(let d=0;d<uc.SIDES;d++)this.items[d].target=$u.TEXTURE_CUBE_MAP_POSITIVE_X+d;this.linkBaseTexture=c!==!1,e&&this.initFromArray(e,t),a!==!1&&this.load()}bind(e){super.bind(e),e.target=$u.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=$u.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,r){const o=this.itemDirtyIds;for(let a=0;a<uc.SIDES;a++){const c=this.items[a];(o[a]<c.dirtyId||r.dirtyId<t.dirtyId)&&(c.valid&&c.resource?(c.resource.upload(e,c,r),o[a]=c.dirtyId):o[a]<-1&&(e.gl.texImage2D(c.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),o[a]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===uc.SIDES}};nx.SIDES=6;let JE=nx;class ju extends co{constructor(e,t){t=t||{};let r,o,a;typeof e=="string"?(r=ju.EMPTY,o=e,a=!0):(r=e,o=null,a=!1),super(r),this.url=o,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??a,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const r=await Be.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const o=await r.blob();if(this.destroyed)return;const a=await createImageBitmap(o,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Nn.UNPACK?"premultiply":"none"});if(this.destroyed){a.close();return}this.source=a,this.update(),e(this)}catch(r){if(this.destroyed)return;t(r),this.onError.emit(r)}}),this._load)}upload(e,t,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ju._EMPTY=ju._EMPTY??Be.ADAPTER.createCanvas(0,0),ju._EMPTY}}const og=class jd extends co{constructor(e,t){t=t||{},super(Be.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},jd.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;co.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let o=t*this.scale,a=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(o=this._overrideWidth||this._overrideHeight/r*t,a=this._overrideHeight||this._overrideWidth/t*r),o=Math.round(o),a=Math.round(a);const c=this.source;c.width=o,c.height=a,c._pixiId=`canvas_${Nl()}`,c.getContext("2d").drawImage(e,0,0,t,r,0,0,o,a),this._resolve(),this._resolve=null}}static getSize(e){const t=jd.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&jd.SVG_XML.test(e)}};og.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,og.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let ag=og;class eS extends co{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const lg=class ug extends co{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const r=document.createElement("video");t.autoLoad!==!1&&r.setAttribute("preload","auto"),t.playsinline!==!1&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),t.muted===!0&&(r.setAttribute("muted",""),r.muted=!0),t.loop===!0&&r.setAttribute("loop",""),t.autoPlay!==!1&&r.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const o=e[0].src||e[0];co.crossOrigin(r,o,t.crossorigin);for(let a=0;a<e.length;++a){const c=document.createElement("source");let{src:d,mime:m}=e[a];if(d=d||e[a],d.startsWith("data:"))m=d.slice(5,d.indexOf(";"));else if(!d.startsWith("blob:")){const g=d.split("?").shift().toLowerCase(),_=g.slice(g.lastIndexOf(".")+1);m=m||ug.MIME_TYPES[_]||`video/${_}`}c.src=d,m&&(c.type=m),r.appendChild(c)}e=r}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=kr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(kr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(kr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(kr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||ug.TYPES.includes(t)}};lg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],lg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let ix=lg;qm.push(ju,I_,ZE,ix,eS,ag,mf,JE,KE);class tf{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ot.EMPTY:(e=e||new ot(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:o,c:a,d:c,tx:d,ty:m}=e,g=r*t.x+a*t.y+d,_=o*t.x+c*t.y+m;this.minX=Math.min(this.minX,g),this.maxX=Math.max(this.maxX,g),this.minY=Math.min(this.minY,_),this.maxY=Math.max(this.maxY,_)}addQuad(e){let t=this.minX,r=this.minY,o=this.maxX,a=this.maxY,c=e[0],d=e[1];t=c<t?c:t,r=d<r?d:r,o=c>o?c:o,a=d>a?d:a,c=e[2],d=e[3],t=c<t?c:t,r=d<r?d:r,o=c>o?c:o,a=d>a?d:a,c=e[4],d=e[5],t=c<t?c:t,r=d<r?d:r,o=c>o?c:o,a=d>a?d:a,c=e[6],d=e[7],t=c<t?c:t,r=d<r?d:r,o=c>o?c:o,a=d>a?d:a,this.minX=t,this.minY=r,this.maxX=o,this.maxY=a}addFrame(e,t,r,o,a){this.addFrameMatrix(e.worldTransform,t,r,o,a)}addFrameMatrix(e,t,r,o,a){const c=e.a,d=e.b,m=e.c,g=e.d,_=e.tx,w=e.ty;let S=this.minX,b=this.minY,A=this.maxX,I=this.maxY,P=c*t+m*r+_,k=d*t+g*r+w;S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,I=k>I?k:I,P=c*o+m*r+_,k=d*o+g*r+w,S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,I=k>I?k:I,P=c*t+m*a+_,k=d*t+g*a+w,S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,I=k>I?k:I,P=c*o+m*a+_,k=d*o+g*a+w,S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,I=k>I?k:I,this.minX=S,this.minY=b,this.maxX=A,this.maxY=I}addVertexData(e,t,r){let o=this.minX,a=this.minY,c=this.maxX,d=this.maxY;for(let m=t;m<r;m+=2){const g=e[m],_=e[m+1];o=g<o?g:o,a=_<a?_:a,c=g>c?g:c,d=_>d?_:d}this.minX=o,this.minY=a,this.maxX=c,this.maxY=d}addVertices(e,t,r,o){this.addVerticesMatrix(e.worldTransform,t,r,o)}addVerticesMatrix(e,t,r,o,a=0,c=a){const d=e.a,m=e.b,g=e.c,_=e.d,w=e.tx,S=e.ty;let b=this.minX,A=this.minY,I=this.maxX,P=this.maxY;for(let k=r;k<o;k+=2){const G=t[k],F=t[k+1],W=d*G+g*F+w,U=_*F+m*G+S;b=Math.min(b,W-a),I=Math.max(I,W+a),A=Math.min(A,U-c),P=Math.max(P,U+c)}this.minX=b,this.minY=A,this.maxX=I,this.maxY=P}addBounds(e){const t=this.minX,r=this.minY,o=this.maxX,a=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>o?e.maxX:o,this.maxY=e.maxY>a?e.maxY:a}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,o=e.minY>t.minY?e.minY:t.minY,a=e.maxX<t.maxX?e.maxX:t.maxX,c=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=a&&o<=c){const d=this.minX,m=this.minY,g=this.maxX,_=this.maxY;this.minX=r<d?r:d,this.minY=o<m?o:m,this.maxX=a>g?a:g,this.maxY=c>_?c:_}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,o=e.minY>t.y?e.minY:t.y,a=e.maxX<t.x+t.width?e.maxX:t.x+t.width,c=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=a&&o<=c){const d=this.minX,m=this.minY,g=this.maxX,_=this.maxY;this.minX=r<d?r:d,this.minY=o<m?o:m,this.maxX=a>g?a:g,this.maxY=c>_?c:_}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,o,a,c){e-=a,t-=c,r+=a,o+=c,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>o?this.maxY:o}}class $t extends Ec{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new _f,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new tf,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const o=t[r];Object.defineProperty($t.prototype,o,Object.getOwnPropertyDescriptor(e,o))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new ot),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ot),e=this._localBoundsRect),this._localBounds||(this._localBounds=new tf);const t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=r?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;const o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;const c=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=o,this._bounds.updateID+=this._boundsID-a,c}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,o){return t&&(e=t.toGlobal(e,r,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,t=0,r=1,o=1,a=0,c=0,d=0,m=0,g=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=o||1,this.rotation=a,this.skew.x=c,this.skew.y=d,this.pivot.x=m,this.pivot.y=g,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new tS),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Xw}set angle(e){this.transform.rotation=e*Yw}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class tS extends $t{constructor(){super(...arguments),this.sortDirty=null}}$t.prototype.displayObjectUpdateTransform=$t.prototype.updateTransform;const rS=new zt;function nS(i,e){return i.zIndex===e.zIndex?i._lastSortedIndex-e._lastSortedIndex:i.zIndex-e.zIndex}const sx=class hg extends $t{constructor(){super(),this.children=[],this.sortableChildren=hg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),o=this.getChildIndex(t);this.children[r]=t,this.children[o]=e,this.onChildrenChange(r<o?r:o)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);Vu(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(r===-1)return null;t.parent=null,t.transform._parentID=-1,Vu(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Vu(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,o=t,a=o-r;let c;if(a>0&&a<=o){c=this.children.splice(r,a);for(let d=0;d<c.length;++d)c[d].parent=null,c[d].transform&&(c[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let d=0;d<c.length;++d)c[d].emit("removed",this),this.emit("childRemoved",c[d],this,d);return c}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const o=this.children[t];o._lastSortedIndex=t,!e&&o.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(nS),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let o=0,a=this.children.length;o<a;++o){const c=this.children[o];c.visible&&c.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let r,o;this.cullArea?(r=this.cullArea,o=this.worldTransform):this._render!==hg.prototype._render&&(r=this.getBounds(!0));const a=e.projection.transform;if(a&&(o?(o=rS.copyFrom(o),o.prepend(a)):o=a),r&&t.intersects(r,o))this._render(e);else if(this.cullArea)return;for(let c=0,d=this.children.length;c<d;++c){const m=this.children[c],g=m.cullable;m.cullable=g||!this.cullArea,m.render(e),m.cullable=g}}render(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters?.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}}renderAdvanced(e){const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<t.length;a++)t[a].enabled&&this._enabledFilters.push(t[a])}const o=t&&this._enabledFilters?.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Er.NONE));if(o&&e.batch.flush(),t&&this._enabledFilters?.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let a=0,c=this.children.length;a<c;++a)this.children[a].render(e)}o&&e.batch.flush(),r&&e.mask.pop(this),t&&this._enabledFilters?.length&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e?.children,r=this.removeChildren(0,this.children.length);if(t)for(let o=0;o<r.length;++o)r[o].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};sx.defaultSortableChildren=!1;let cn=sx;cn.prototype.containerUpdateTransform=cn.prototype.updateTransform;Object.defineProperties(Be,{SORTABLE_CHILDREN:{get(){return cn.defaultSortableChildren},set(i){ct("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),cn.defaultSortableChildren=i}}});const nc=new dt,iS=new Uint16Array([0,1,2,0,2,3]);class Is extends cn{constructor(e){super(),this._anchor=new Ss(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Lt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=et.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ke.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=iS,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Be.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ga(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ga(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,o=t.b,a=t.c,c=t.d,d=t.tx,m=t.ty,g=this.vertexData,_=e.trim,w=e.orig,S=this._anchor;let b=0,A=0,I=0,P=0;if(_?(A=_.x-S._x*w.width,b=A+_.width,P=_.y-S._y*w.height,I=P+_.height):(A=-S._x*w.width,b=A+w.width,P=-S._y*w.height,I=P+w.height),g[0]=r*A+a*P+d,g[1]=c*P+o*A+m,g[2]=r*b+a*P+d,g[3]=c*P+o*b+m,g[4]=r*b+a*I+d,g[5]=c*I+o*b+m,g[6]=r*A+a*I+d,g[7]=c*I+o*A+m,this._roundPixels){const k=Be.RESOLUTION;for(let G=0;G<g.length;++G)g[G]=Math.round(g[G]*k)/k}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,o=this._anchor,a=this.transform.worldTransform,c=a.a,d=a.b,m=a.c,g=a.d,_=a.tx,w=a.ty,S=-o._x*r.width,b=S+r.width,A=-o._y*r.height,I=A+r.height;if(t[0]=c*S+m*A+_,t[1]=g*A+d*S+w,t[2]=c*b+m*A+_,t[3]=g*A+d*b+w,t[4]=c*b+m*I+_,t[5]=g*I+d*b+w,t[6]=c*S+m*I+_,t[7]=g*I+d*S+w,this._roundPixels){const P=Be.RESOLUTION;for(let k=0;k<t.length;++k)t[k]=Math.round(t[k]*P)/P}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new tf),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ot),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,nc);const t=this._texture.orig.width,r=this._texture.orig.height,o=-t*this.anchor.x;let a=0;return nc.x>=o&&nc.x<o+t&&(a=-r*this.anchor.y,nc.y>=a&&nc.y<a+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e?.texture){const t=typeof e=="boolean"?e:e?.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const r=e instanceof ke?e:ke.from(e,t);return new Is(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=ga(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=ga(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ke.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const ox=new zt;$t.prototype._cacheAsBitmap=!1;$t.prototype._cacheData=null;$t.prototype._cacheAsBitmapResolution=null;$t.prototype._cacheAsBitmapMultisample=null;class sS{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties($t.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(i){i!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(i){i!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(i){if(this._cacheAsBitmap===i)return;this._cacheAsBitmap=i;let e;i?(this._cacheData||(this._cacheData=new sS),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});$t.prototype._renderCached=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(i),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(i))};$t.prototype._initCachedDisplayObject=function(i){if(this._cacheData?.sprite)return;const e=this.alpha;this.alpha=1,i.batch.flush();const t=this.getLocalBounds(new ot,!0);if(this.filters?.length){const S=this.filters[0].padding;t.pad(S)}const r=this.cacheAsBitmapResolution||i.resolution;t.ceil(r),t.width=Math.max(t.width,1/r),t.height=Math.max(t.height,1/r);const o=i.renderTexture.current,a=i.renderTexture.sourceFrame.clone(),c=i.renderTexture.destinationFrame.clone(),d=i.projection.transform,m=Fl.create({width:t.width,height:t.height,resolution:r,multisample:this.cacheAsBitmapMultisample??i.multisample}),g=`cacheAsBitmap_${Nl()}`;this._cacheData.textureCacheId=g,it.addToCache(m.baseTexture,g),ke.addToCache(m,g);const _=this.transform.localTransform.copyTo(ox).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,i.render(this,{renderTexture:m,clear:!0,transform:_,skipUpdateTransform:!1}),i.framebuffer.blit(),i.projection.transform=d,i.renderTexture.bind(o,a,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const w=new Is(m);w.transform.worldTransform=this.transform.worldTransform,w.anchor.x=-(t.x/t.width),w.anchor.y=-(t.y/t.height),w.alpha=e,w._bounds=this._bounds,this._cacheData.sprite=w,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=w.containsPoint.bind(w)};$t.prototype._renderCachedCanvas=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(i),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(i))};$t.prototype._initCachedDisplayObjectCanvas=function(i){if(this._cacheData?.sprite)return;const e=this.getLocalBounds(new ot,!0),t=this.alpha;this.alpha=1;const r=i.canvasContext.activeContext,o=i._projTransform,a=this.cacheAsBitmapResolution||i.resolution;e.ceil(a),e.width=Math.max(e.width,1/a),e.height=Math.max(e.height,1/a);const c=Fl.create({width:e.width,height:e.height,resolution:a}),d=`cacheAsBitmap_${Nl()}`;this._cacheData.textureCacheId=d,it.addToCache(c.baseTexture,d),ke.addToCache(c,d);const m=ox;this.transform.localTransform.copyTo(m),m.invert(),m.tx-=e.x,m.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,i.render(this,{renderTexture:c,clear:!0,transform:m,skipUpdateTransform:!1}),i.canvasContext.activeContext=r,i._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const g=new Is(c);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(e.x/e.width),g.anchor.y=-(e.y/e.height),g.alpha=t,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=i._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=g.containsPoint.bind(g)};$t.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};$t.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};$t.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,it.removeFromCache(this._cacheData.textureCacheId),ke.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};$t.prototype._cacheAsBitmapDestroy=function(i){this.cacheAsBitmap=!1,this.destroy(i)};$t.prototype.name=null;cn.prototype.getChildByName=function(i,e){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].name===i)return this.children[t];if(e)for(let t=0,r=this.children.length;t<r;t++){const o=this.children[t];if(!o.getChildByName)continue;const a=o.getChildByName(i,!0);if(a)return a}return null};$t.prototype.getGlobalPosition=function(i=new dt,e=!1){return this.parent?this.parent.toGlobal(this.position,i,e):(i.x=this.position.x,i.y=this.position.y),i};var oS=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class aS extends hn{constructor(e=1){super(qE,oS,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const lS={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},uS=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function hS(i){const e=lS[i],t=e.length;let r=uS,o="";const a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let c;for(let d=0;d<i;d++){let m=a.replace("%index%",d.toString());c=d,d>=t&&(c=i-d-1),m=m.replace("%value%",e[c].toString()),o+=m,o+=`
`}return r=r.replace("%blur%",o),r=r.replace("%size%",i.toString()),r}const cS=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function dS(i,e){const t=Math.ceil(i/2);let r=cS,o="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let c=0;c<i;c++){let d=a.replace("%index%",c.toString());d=d.replace("%sampleIndex%",`${c-(t-1)}.0`),o+=d,o+=`
`}return r=r.replace("%blur%",o),r=r.replace("%size%",i.toString()),r}class cg extends hn{constructor(e,t=8,r=4,o=hn.defaultResolution,a=5){const c=dS(a,e),d=hS(a);super(c,d),this.horizontal=e,this.resolution=o,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,o){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,r,o);else{const a=e.getFilterTexture(),c=e.renderer;let d=t,m=a;this.state.blend=!1,e.applyFilter(this,d,m,Es.CLEAR);for(let g=1;g<this.passes-1;g++){e.bindAndClear(d,Es.BLIT),this.uniforms.uSampler=m;const _=m;m=d,d=_,c.shader.bind(this),c.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,m,r,o),e.returnFilterTexture(a)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class ax extends hn{constructor(e=8,t=4,r=hn.defaultResolution,o=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new cg(!0,e,t,r,o),this.blurYFilter=new cg(!1,e,t,r,o),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,o){const a=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(a&&c){const d=e.getFilterTexture();this.blurXFilter.apply(e,t,d,Es.CLEAR),this.blurYFilter.apply(e,d,r,o),e.returnFilterTexture(d)}else c?this.blurYFilter.apply(e,t,r,o):this.blurXFilter.apply(e,t,r,o)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var fS=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class dg extends hn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Z_,fS,e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const[r,o,a]=Lt.shared.setValue(e).toArray(),c=[r,0,0,0,0,0,o,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(c,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),o=Math.sin(e),a=Math.sqrt,c=1/3,d=a(c),m=r+(1-r)*c,g=c*(1-r)-d*o,_=c*(1-r)+d*o,w=c*(1-r)+d*o,S=r+c*(1-r),b=c*(1-r)-d*o,A=c*(1-r)-d*o,I=c*(1-r)+d*o,P=r+c*(1-r),k=[m,g,_,0,0,w,S,b,0,0,A,I,P,0,0,0,0,0,1,0];this._loadMatrix(k,t)}contrast(e,t){const r=(e||0)+1,o=-.5*(r-1),a=[r,0,0,0,o,0,r,0,0,o,0,0,r,0,o,0,0,0,1,0];this._loadMatrix(a,t)}saturate(e=0,t){const r=e*2/3+1,o=(r-1)*-.5,a=[r,o,o,0,0,o,r,o,0,0,o,o,r,0,0,0,0,0,1,0];this._loadMatrix(a,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,r,o,a){e=e||.2,t=t||.15,r=r||16770432,o=o||3375104;const c=Lt.shared,[d,m,g]=c.setValue(r).toArray(),[_,w,S]=c.setValue(o).toArray(),b=[.3,.59,.11,0,0,d,m,g,e,0,_,w,S,t,0,d-_,m-w,g-S,0,0];this._loadMatrix(b,a)}night(e,t){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}dg.prototype.grayscale=dg.prototype.greyscale;var pS=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,mS=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class gS extends hn{constructor(e,t){const r=new zt;e.renderable=!1,super(mS,pS,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,t==null&&(t=20),this.scale=new dt(t,t)}apply(e,t,r,o){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const a=this.maskSprite.worldTransform,c=Math.sqrt(a.a*a.a+a.b*a.b),d=Math.sqrt(a.c*a.c+a.d*a.d);c!==0&&d!==0&&(this.uniforms.rotation[0]=a.a/c,this.uniforms.rotation[1]=a.b/c,this.uniforms.rotation[2]=a.c/d,this.uniforms.rotation[3]=a.d/d),e.applyFilter(this,t,r,o)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var yS=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,vS=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class _S extends hn{constructor(){super(vS,yS)}}var xS=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class wS extends hn{constructor(e=.5,t=Math.random()){super(Z_,xS,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const p0={AlphaFilter:aS,BlurFilter:ax,BlurFilterPass:cg,ColorMatrixFilter:dg,DisplacementFilter:gS,FXAAFilter:_S,NoiseFilter:wS};Object.entries(p0).forEach(([i,e])=>{Object.defineProperty(p0,i,{get(){return ct("7.1.0",`filters.${i} has moved to ${i}`),e}})});class ES{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(kr.system.add(this.tickerUpdate,this,xa.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(kr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const ma=new ES;class Sc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Sc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new dt,this.page=new dt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,o,a){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class rf extends Sc{constructor(){super(...arguments),this.client=new dt,this.movement=new dt,this.offset=new dt,this.global=new dt,this.screen=new dt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,o,a,c,d,m,g,_,w,S,b,A,I){throw new Error("Method not implemented.")}}class zi extends rf{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Yu extends rf{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Yu.DOM_DELTA_PIXEL=0,Yu.DOM_DELTA_LINE=1,Yu.DOM_DELTA_PAGE=2;const SS=2048,bS=new dt,Am=new dt;class TS{constructor(e){this.dispatch=new Ec,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((r,o)=>r.priority-o.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,o=t.length;r<o;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){ma.pauseUpdate=!0;const r=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",o=this[r](this.rootTarget,this.rootTarget.eventMode,bS.set(e,t),this.hitTestFn,this.hitPruneFn);return o&&o[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let o=0,a=r.length-1;o<a;o++)if(e.currentTarget=r[o],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let o=r.length-2;o>=0;o--)if(e.currentTarget=r[o],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(r.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const o=Array.isArray(t)?t:[t];for(let a=r.length-1;a>=0;a--)o.forEach(c=>{e.currentTarget=r[a],this.notifyTarget(e,c)})}propagationPath(e){const t=[e];for(let r=0;r<SS&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,o,a,c=!1){let d=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(ma.pauseUpdate=!1),e.interactiveChildren&&e.children){const _=e.children;for(let w=_.length-1;w>=0;w--){const S=_[w],b=this.hitTestMoveRecursive(S,this._isInteractive(t)?t:S.eventMode,r,o,a,c||a(e,r));if(b){if(b.length>0&&!b[b.length-1].parent)continue;const A=e.isInteractive();(b.length>0||A)&&(A&&this._allInteractiveElements.push(e),b.push(e)),this._hitElements.length===0&&(this._hitElements=b),d=!0}}}const m=this._isInteractive(t),g=e.isInteractive();return m&&g&&this._allInteractiveElements.push(e),c||this._hitElements.length>0?null:d?this._hitElements:m&&!a(e,r)&&o(e,r)?g?[e]:[]:null}hitTestRecursive(e,t,r,o,a){if(this._interactivePrune(e)||a(e,r))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(ma.pauseUpdate=!1),e.interactiveChildren&&e.children){const m=e.children;for(let g=m.length-1;g>=0;g--){const _=m[g],w=this.hitTestRecursive(_,this._isInteractive(t)?t:_.eventMode,r,o,a);if(w){if(w.length>0&&!w[w.length-1].parent)continue;const S=e.isInteractive();return(w.length>0||S)&&w.push(e),w}}}const c=this._isInteractive(t),d=e.isInteractive();return c&&o(e,r)?d?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,Am),!e.hitArea.contains(Am.x,Am.y)))return!0;if(e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;if(r&&!r.containsPoint?.(t))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){t=t??e.type;const r=`on${t}`;e.currentTarget[r]?.(e);const o=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,o),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const o=t.button===2;this.dispatchEvent(t,o?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r=t.pointerType==="mouse"||t.pointerType==="pen",o=this.trackingData(e.pointerId),a=this.findMountedTarget(o.overTargets);if(o.overTargets?.length>0&&a!==t.target){const m=e.type==="mousemove"?"mouseout":"pointerout",g=this.createPointerEvent(e,m,a);if(this.dispatchEvent(g,"pointerout"),r&&this.dispatchEvent(g,"mouseout"),!t.composedPath().includes(a)){const _=this.createPointerEvent(e,"pointerleave",a);for(_.eventPhase=_.AT_TARGET;_.target&&!t.composedPath().includes(_.target);)_.currentTarget=_.target,this.notifyTarget(_),r&&this.notifyTarget(_,"mouseleave"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(g)}if(a!==t.target){const m=e.type==="mousemove"?"mouseover":"pointerover",g=this.clonePointerEvent(t,m);this.dispatchEvent(g,"pointerover"),r&&this.dispatchEvent(g,"mouseover");let _=a?.parent;for(;_&&_!==this.rootTarget.parent&&_!==t.target;)_=_.parent;if(!_||_===this.rootTarget.parent){const w=this.clonePointerEvent(t,"pointerenter");for(w.eventPhase=w.AT_TARGET;w.target&&w.target!==a&&w.target!==this.rootTarget.parent;)w.currentTarget=w.target,this.notifyTarget(w),r&&this.notifyTarget(w,"mouseenter"),w.target=w.target.parent;this.freeEvent(w)}this.freeEvent(g)}const c=[],d=this.enableGlobalMoveEvents??!0;this.moveOnAll?c.push("pointermove"):this.dispatchEvent(t,"pointermove"),d&&c.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?c.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),d&&c.push("globaltouchmove")),r&&(this.moveOnAll?c.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),d&&c.push("globalmousemove"),this.cursor=t.target?.cursor),c.length>0&&this.all(t,c),this._allInteractiveElements.length=0,this._hitElements.length=0,o.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),o=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),o&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=r.target?.cursor);const a=this.clonePointerEvent(r,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),o&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",o=this.findMountedTarget(t.overTargets),a=this.createPointerEvent(e,"pointerout",o);this.dispatchEvent(a),r&&this.dispatchEvent(a,"mouseout");const c=this.createPointerEvent(e,"pointerleave",o);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),r&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;t.overTargets=null,this.freeEvent(a),this.freeEvent(c)}this.cursor=null}mapPointerUp(e){if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const d=r.button===2;this.dispatchEvent(r,d?"rightup":"mouseup")}const o=this.trackingData(e.pointerId),a=this.findMountedTarget(o.pressTargetsByButton[e.button]);let c=a;if(a&&!r.composedPath().includes(a)){let d=a;for(;d&&!r.composedPath().includes(d);){if(r.currentTarget=d,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const m=r.button===2;this.notifyTarget(r,m?"rightupoutside":"mouseupoutside")}d=d.parent}delete o.pressTargetsByButton[e.button],c=d}if(c){const d=this.clonePointerEvent(r,"click");d.target=c,d.path=null,o.clicksByButton[e.button]||(o.clicksByButton[e.button]={clickCount:0,target:d.target,timeStamp:t});const m=o.clicksByButton[e.button];if(m.target===d.target&&t-m.timeStamp<200?++m.clickCount:m.clickCount=1,m.target=d.target,m.timeStamp=t,d.detail=m.clickCount,d.pointerType==="mouse"){const g=d.button===2;this.dispatchEvent(d,g?"rightclick":"click")}else d.pointerType==="touch"&&this.dispatchEvent(d,"tap");this.dispatchEvent(d,"pointertap"),this.freeEvent(d)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof zi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),o=this.createPointerEvent(e);if(r){let a=r;for(;a;)o.currentTarget=a,this.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch"?this.notifyTarget(o,"touchendoutside"):(o.pointerType==="mouse"||o.pointerType==="pen")&&this.notifyTarget(o,o.button===2?"rightupoutside":"mouseupoutside"),a=a.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(o)}mapWheel(e){if(!(e instanceof Yu)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const o=this.allocateEvent(zi);return this.copyPointerData(e,o),this.copyMouseData(e,o),this.copyData(e,o),o.nativeEvent=e.nativeEvent,o.originalEvent=e,o.target=r??this.hitTest(o.global.x,o.global.y)??this._hitElements[0],typeof t=="string"&&(o.type=t),o}createWheelEvent(e){const t=this.allocateEvent(Yu);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(zi);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof zi&&t instanceof zi&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof rf&&t instanceof rf&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let o=0,a=r.length;o<a&&!e.propagationImmediatelyStopped;o++)r[o].once&&e.currentTarget.removeListener(t,r[o].fn,void 0,!0),r[o].fn.call(r[o].context,e)}}const AS=1,CS={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},fg=class pg{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new TS(null),ma.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new zi(null),this.rootWheelEvent=new Yu(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...pg.defaultEventFeatures},{set:(t,r,o)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=o),t[r]=o,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:r}=this.renderer;this.setTargetElement(t),this.resolution=r,pg._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,o=t.length;r<o;r++){const a=t[r],c=this.bootstrapEvent(this.rootPointerEvent,a);this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,ma.pointerMoved();const t=this.normalizeToPointerData(e);for(let r=0,o=t.length;r<o;r++){const a=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",o=this.normalizeToPointerData(e);for(let a=0,c=o.length;a<c;a++){const d=this.bootstrapEvent(this.rootPointerEvent,o[a]);d.type+=r,this.rootBoundary.mapEvent(d)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let r=0,o=t.length;r<o;r++){const a=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,ma.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;ma.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;ma.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){const o=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},a=1/this.resolution;e.x=(t-o.left)*(this.domElement.width/o.width)*a,e.y=(r-o.top)*(this.domElement.height/o.height)*a}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,o=e.changedTouches.length;r<o;r++){const a=e.changedTouches[r];typeof a.button>"u"&&(a.button=0),typeof a.buttons>"u"&&(a.buttons=1),typeof a.isPrimary>"u"&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,a.type=e.type,t.push(a)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=AS),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=CS[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};fg.extension={name:"events",type:[De.RendererSystem,De.CanvasRendererSystem]},fg.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let mg=fg;Xe.add(mg);function m0(i){return i==="dynamic"||i==="static"}const PS={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??m0(mg.defaultEventMode)},set interactive(i){ct("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=i,this.eventMode=i?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??mg.defaultEventMode},set eventMode(i){this._internalInteractive=m0(i),this._internalEventMode=i},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(i,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,o=typeof t=="object"?t.signal:void 0,a=typeof t=="object"?t.once===!0:!1,c=typeof e=="function"?void 0:e;i=r?`${i}capture`:i;const d=typeof e=="function"?e:e.handleEvent,m=this;o&&o.addEventListener("abort",()=>{m.off(i,d,c)}),a?m.once(i,d,c):m.on(i,d,c)},removeEventListener(i,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,o=typeof e=="function"?void 0:e;i=r?`${i}capture`:i,e=typeof e=="function"?e:e.handleEvent,this.off(i,e,o)},dispatchEvent(i){if(!(i instanceof Sc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return i.defaultPrevented=!1,i.path=null,i.target=this,i.manager.dispatchEvent(i),!i.defaultPrevented}};$t.mixin(PS);const RS={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};$t.mixin(RS);const IS=9,bd=100,MS=0,kS=0,g0=2,y0=1,DS=-1e3,NS=-1e3,OS=2;class lx{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(oo.tablet||oo.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${bd}px`,t.style.height=`${bd}px`,t.style.position="absolute",t.style.top=`${MS}px`,t.style.left=`${kS}px`,t.style.zIndex=g0.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${y0}px`,e.style.height=`${y0}px`,e.style.position="absolute",e.style.top=`${DS}px`,e.style.left=`${NS}px`,e.style.zIndex=OS.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(oo.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:o,height:a}=this.renderer.view.getBoundingClientRect(),{width:c,height:d,resolution:m}=this.renderer,g=o/c*m,_=a/d*m;let w=this.div;w.style.left=`${t}px`,w.style.top=`${r}px`,w.style.width=`${c}px`,w.style.height=`${d}px`;for(let S=0;S<this.children.length;S++){const b=this.children[S];if(b.renderId!==this.renderId)b._accessibleActive=!1,Vu(this.children,S,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,S--;else{w=b._accessibleDiv;let A=b.hitArea;const I=b.worldTransform;b.hitArea?(w.style.left=`${(I.tx+A.x*I.a)*g}px`,w.style.top=`${(I.ty+A.y*I.d)*_}px`,w.style.width=`${A.width*I.a*g}px`,w.style.height=`${A.height*I.d*_}px`):(A=b.getBounds(),this.capHitArea(A),w.style.left=`${A.x*g}px`,w.style.top=`${A.y*_}px`,w.style.width=`${A.width*g}px`,w.style.height=`${A.height*_}px`,w.title!==b.accessibleTitle&&b.accessibleTitle!==null&&(w.title=b.accessibleTitle),w.getAttribute("aria-label")!==b.accessibleHint&&b.accessibleHint!==null&&w.setAttribute("aria-label",b.accessibleHint)),(b.accessibleTitle!==w.title||b.tabIndex!==w.tabIndex)&&(w.title=b.accessibleTitle,w.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(w))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${bd}px`,t.style.height=`${bd}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=g0.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,o=this.renderer.events.rootBoundary,a=Object.assign(new Sc(o),{target:r});o.rootTarget=this.renderer.lastObjectRendered,t.forEach(c=>o.dispatchEvent(a,c))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===IS&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}lx.extension={name:"accessibility",type:[De.RendererPlugin,De.CanvasRendererPlugin]};Xe.add(lx);const ux=class gg{constructor(e){this.stage=new cn,e=Object.assign({forceCanvas:!1},e),this.renderer=VE(e),gg._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(e,t){const r=gg._plugins.slice(0);r.reverse(),r.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};ux._plugins=[];let wf=ux;Xe.handleByList(De.Application,wf._plugins);class hx{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,r;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:o,clientHeight:a}=this._resizeTo;t=o,r=a}this.renderer.resize(t,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}hx.extension=De.Application;Xe.add(hx);const v0={loader:De.LoadParser,resolver:De.ResolveParser,cache:De.CacheParser,detection:De.DetectionParser};Xe.handle(De.Asset,i=>{const e=i.ref;Object.entries(v0).filter(([t])=>!!e[t]).forEach(([t,r])=>Xe.add(Object.assign(e[t],{extension:e[t].extension??r})))},i=>{const e=i.ref;Object.keys(v0).filter(t=>!!e[t]).forEach(t=>Xe.remove(e[t]))});class FS{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Ju(i,e){if(Array.isArray(e)){for(const t of e)if(i.startsWith(`data:${t}`))return!0;return!1}return i.startsWith(`data:${e}`)}function wa(i,e){const t=i.split("?")[0],r=Dr.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Gi=(i,e,t=!1)=>(Array.isArray(i)||(i=[i]),e?i.map(r=>typeof r=="string"||t?e(r):r):i),yg=(i,e)=>{const t=e.split("?")[1];return t&&(i+=`?${t}`),i};function cx(i,e,t,r,o){const a=e[t];for(let c=0;c<a.length;c++){const d=a[c];t<e.length-1?cx(i.replace(r[t],d),e,t+1,r,o):o.push(i.replace(r[t],d))}}function BS(i){const e=/\{(.*?)\}/g,t=i.match(e),r=[];if(t){const o=[];t.forEach(a=>{const c=a.substring(1,a.length-1).split(",");o.push(c)}),cx(i,o,0,t,r)}else r.push(i);return r}const nf=i=>!Array.isArray(i);class LS{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=Gi(e);let o;for(let d=0;d<this.parsers.length;d++){const m=this.parsers[d];if(m.test(t)){o=m.getCacheableAssets(r,t);break}}o||(o={},r.forEach(d=>{o[d]=t}));const a=Object.keys(o),c={cacheKeys:a,keys:r};if(r.forEach(d=>{this._cacheMap.set(d,c)}),a.forEach(d=>{const m=o?o[d]:t;this._cache.has(d)&&this._cache.get(d)!==m&&console.warn("[Cache] already has key:",d),this._cache.set(d,o[d])}),t instanceof ke){const d=t;r.forEach(m=>{d.baseTexture!==ke.EMPTY.baseTexture&&it.addToCache(d.baseTexture,m),ke.addToCache(d,m)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(r=>{this._cache.delete(r)}),t.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const Ml=new LS;class US{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{let o=null,a=null;if(t.loadParser&&(a=this._parserHash[t.loadParser],a||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!a){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&d.test?.(e,t,this)){a=d;break}}if(!a)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}o=await a.load(e,t,this),r.parser=a;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await d.testParse?.(o,t,this)&&(o=await d.parse(o,t,this)||o,r.parser=d)}return o})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0;const o={},a=nf(e),c=Gi(e,g=>({alias:[g],src:g})),d=c.length,m=c.map(async g=>{const _=Dr.toAbsolute(g.src);if(!o[g.src])try{this.promiseCache[_]||(this.promiseCache[_]=this._getLoadPromiseAndParser(_,g)),o[g.src]=await this.promiseCache[_].promise,t&&t(++r/d)}catch(w){throw delete this.promiseCache[_],delete o[g.src],new Error(`[Loader.load] Failed to load ${_}.
${w}`)}});return await Promise.all(m),a?o[c[0].src]:o}async unload(e){const t=Gi(e,r=>({alias:[r],src:r})).map(async r=>{const o=Dr.toAbsolute(r.src),a=this.promiseCache[o];if(a){const c=await a.promise;delete this.promiseCache[o],a.parser?.unload?.(c,r,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var Xi=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(Xi||{});const zS=".json",GS="application/json",HS={extension:{type:De.LoadParser,priority:Xi.Low},name:"loadJson",test(i){return Ju(i,GS)||wa(i,zS)},async load(i){return await(await Be.ADAPTER.fetch(i)).json()}};Xe.add(HS);const jS=".txt",WS="text/plain",$S={name:"loadTxt",extension:{type:De.LoadParser,priority:Xi.Low},test(i){return Ju(i,WS)||wa(i,jS)},async load(i){return await(await Be.ADAPTER.fetch(i)).text()}};Xe.add($S);const VS=["normal","bold","100","200","300","400","500","600","700","800","900"],XS=[".ttf",".otf",".woff",".woff2"],YS=["font/ttf","font/otf","font/woff","font/woff2"],qS=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function QS(i){const e=Dr.extname(i),t=Dr.basename(i,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let r=t.length>0;for(const a of t)if(!a.match(qS)){r=!1;break}let o=t.join(" ");return r||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const KS=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function ZS(i){return KS.test(i)?i:encodeURI(i)}const JS={extension:{type:De.LoadParser,priority:Xi.Low},name:"loadWebFont",test(i){return Ju(i,YS)||wa(i,XS)},async load(i,e){const t=Be.ADAPTER.getFontFaceSet();if(t){const r=[],o=e.data?.family??QS(i),a=e.data?.weights?.filter(d=>VS.includes(d))??["normal"],c=e.data??{};for(let d=0;d<a.length;d++){const m=a[d],g=new FontFace(o,`url(${ZS(i)})`,{...c,weight:m});await g.load(),t.add(g),r.push(g)}return r.length===1?r[0]:r}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(i){(Array.isArray(i)?i:[i]).forEach(e=>Be.ADAPTER.getFontFaceSet().delete(e))}};Xe.add(JS);const eb=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let qu=null,vg=class{constructor(){qu||(qu=URL.createObjectURL(new Blob([eb],{type:"application/javascript"}))),this.worker=new Worker(qu)}};vg.revokeObjectURL=function(){qu&&(URL.revokeObjectURL(qu),qu=null)};const tb=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Qu=null;class dx{constructor(){Qu||(Qu=URL.createObjectURL(new Blob([tb],{type:"application/javascript"}))),this.worker=new Worker(Qu)}}dx.revokeObjectURL=function(){Qu&&(URL.revokeObjectURL(Qu),Qu=null)};let _0=0,Cm;class rb{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new vg;t.addEventListener("message",r=>{t.terminate(),vg.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Cm===void 0&&(Cm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Cm&&(this._createdWorkers++,e=new dx().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise((o,a)=>{this.queue.push({id:e,arguments:t,resolve:o,reject:a})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[_0]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:_0++,id:r})}}const x0=new rb;function bc(i,e,t){i.resource.internal=!0;const r=new ke(i),o=()=>{delete e.promiseCache[t],Ml.has(t)&&Ml.remove(t)};return r.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),o())}),r.once("destroyed",()=>{i.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),r}const nb=[".jpeg",".jpg",".png",".webp",".avif"],ib=["image/jpeg","image/png","image/webp","image/avif"];async function sb(i){const e=await Be.ADAPTER.fetch(i);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${i}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const Ef={name:"loadTextures",extension:{type:De.LoadParser,priority:Xi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(i){return Ju(i,ib)||wa(i,nb)},async load(i,e,t){const r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let o;r?this.config.preferWorkers&&await x0.isImageBitmapSupported()?o=await x0.loadImageBitmap(i):o=await sb(i):o=await new Promise((d,m)=>{const g=new Image;g.crossOrigin=this.config.crossOrigin,g.src=i,g.complete?d(g):(g.onload=()=>d(g),g.onerror=_=>m(_))});const a={...e.data};a.resolution??(a.resolution=ho(i)),r&&a.resourceOptions?.ownsImageBitmap===void 0&&(a.resourceOptions={...a.resourceOptions},a.resourceOptions.ownsImageBitmap=!0);const c=new it(o,a);return c.resource.src=i,bc(c,t,i)},unload(i){i.destroy(!0)}};Xe.add(Ef);const ob=".svg",ab="image/svg+xml",lb={extension:{type:De.LoadParser,priority:Xi.High},name:"loadSVG",test(i){return Ju(i,ab)||wa(i,ob)},async testParse(i){return ag.test(i)},async parse(i,e,t){const r=new ag(i,e?.data?.resourceOptions);await r.load();const o=new it(r,{resolution:ho(i),...e?.data});return o.resource.src=e.src,bc(o,t,e.src)},async load(i,e){return(await Be.ADAPTER.fetch(i)).text()},unload:Ef.unload};Xe.add(lb);const ub=[".mp4",".m4v",".webm",".ogv"],hb=["video/mp4","video/webm","video/ogg"],cb={name:"loadVideo",extension:{type:De.LoadParser,priority:Xi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(i){return Ju(i,hb)||wa(i,ub)},async load(i,e,t){let r;const o=await(await Be.ADAPTER.fetch(i)).blob(),a=URL.createObjectURL(o);try{const c={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...e?.data?.resourceOptions,autoLoad:!0},d=new ix(a,c);await d.load();const m=new it(d,{alphaMode:await vw(),resolution:ho(i),...e?.data});m.resource.src=i,r=bc(m,t,i),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(a)})}catch(c){throw URL.revokeObjectURL(a),c}return r},unload(i){i.destroy(!0)}};Xe.add(cb);class db{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){const{alias:t,name:r,src:o,srcs:a}=e;return Gi(t||r||o||a,c=>typeof c=="string"?c:Array.isArray(c)?c.map(d=>d?.src??d?.srcs??d):c?.src||c?.srcs?c.src??c.srcs:c,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach(o=>{const a=o.src??o.srcs,c=o.alias??o.name;let d;if(typeof c=="string"){const m=this._createBundleAssetId(e,c);r.push(m),d=[c,m]}else{const m=c.map(g=>this._createBundleAssetId(e,g));r.push(...m),d=[...c,...m]}this.add({...o,alias:d,src:a})}):Object.keys(t).forEach(o=>{const a=[o,this._createBundleAssetId(e,o)];if(typeof t[o]=="string")this.add({alias:a,src:t[o]});else if(Array.isArray(t[o]))this.add({alias:a,src:t[o]});else{const c=t[o],d=c.src??c.srcs;this.add({...c,alias:a,src:Array.isArray(d)?d:[d]})}r.push(...a)}),this._bundles[e]=r}add(e,t,r,o,a){const c=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(ct("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),c.push({alias:e,src:t,data:r,format:o,loadParser:a})):Array.isArray(e)?c.push(...e):c.push(e);let d;d=m=>{this.hasKey(m)&&console.warn(`[Resolver] already has key: ${m} overwriting`)},Gi(c).forEach(m=>{const{src:g,srcs:_}=m;let{data:w,format:S,loadParser:b}=m;const A=Gi(g||_).map(k=>typeof k=="string"?BS(k):Array.isArray(k)?k:[k]),I=this.getAlias(m);Array.isArray(I)?I.forEach(d):d(I);const P=[];A.forEach(k=>{k.forEach(G=>{let F={};if(typeof G!="object"){F.src=G;for(let W=0;W<this._parsers.length;W++){const U=this._parsers[W];if(U.test(G)){F=U.parse(G);break}}}else w=G.data??w,S=G.format??S,b=G.loadParser??b,F={...F,...G};if(!I)throw new Error(`[Resolver] alias is undefined for this asset: ${F.src}`);F=this.buildResolvedAsset(F,{aliases:I,data:w,format:S,loadParser:b}),P.push(F)})}),I.forEach(k=>{this._assetMap[k]=P})})}resolveBundle(e){const t=nf(e);e=Gi(e);const r={};return e.forEach(o=>{const a=this._bundles[o];if(a){const c=this.resolve(a),d={};for(const m in c){const g=c[m];d[this._extractAssetIdFromBundle(o,m)]=g}r[o]=d}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const o in t)r[o]=t[o].src;return r}return t.src}resolve(e){const t=nf(e);e=Gi(e);const r={};return e.forEach(o=>{if(!this._resolverHash[o])if(this._assetMap[o]){let a=this._assetMap[o];const c=a[0],d=this._getPreferredOrder(a);d?.priority.forEach(m=>{d.params[m].forEach(g=>{const _=a.filter(w=>w[m]?w[m]===g:!1);_.length&&(a=_)})}),this._resolverHash[o]=a[0]??c}else this._resolverHash[o]=this.buildResolvedAsset({alias:[o],src:o},{});r[o]=this._resolverHash[o]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[0],o=this._preferredOrder.find(a=>a.params.format.includes(r.format));if(o)return o}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:r,data:o,loadParser:a,format:c}=t;return(this._basePath||this._rootPath)&&(e.src=Dr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...o||{},...e.data},e.loadParser=a??e.loadParser,e.format=c??e.format??Dr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class fb{constructor(){this._detections=[],this._initialized=!1,this.resolver=new db,this.loader=new US,this.cache=Ml,this._backgroundLoader=new FS(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const t=e.texturePreference?.resolution??1,r=typeof t=="number"?[t]:t,o=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,r,o,a){this.resolver.add(e,t,r,o,a)}async load(e,t){this._initialized||await this.init();const r=nf(e),o=Gi(e).map(d=>{if(typeof d!="string"){const m=this.resolver.getAlias(d);return m.some(g=>!this.resolver.hasKey(g))&&this.add(d),Array.isArray(m)?m[0]:m}return this.resolver.hasKey(d)||this.add({alias:d,src:d}),d}),a=this.resolver.resolve(o),c=await this._mapLoadToResolve(a,t);return r?c[o[0]]:c}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const o=this.resolver.resolveBundle(e),a={},c=Object.keys(o);let d=0,m=0;const g=()=>{t?.(++d/m)},_=c.map(w=>{const S=o[w];return m+=Object.keys(S).length,this._mapLoadToResolve(S,g).then(b=>{a[w]=b})});return await Promise.all(_),r?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Ml.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=Ml.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),o=Object.keys(e);this._backgroundLoader.active=!1;const a=await this.loader.load(r,t);this._backgroundLoader.active=!0;const c={};return r.forEach((d,m)=>{const g=a[d.src],_=[d.src];d.alias&&_.push(...d.alias),c[o[m]]=g,Ml.set(_,g)}),c}async unload(e){this._initialized||await this.init();const t=Gi(e).map(o=>typeof o!="string"?o.src:o),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Gi(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map(o=>this._unloadFromResolved(t[o]));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(r=>{Ml.remove(r.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((r,o)=>t.indexOf(r)===o),t}get detections(){return this._detections}get preferWorkers(){return Ef.config.preferWorkers}set preferWorkers(e){ct("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}}const Td=new fb;Xe.handleByList(De.LoadParser,Td.loader.parsers).handleByList(De.ResolveParser,Td.resolver.parsers).handleByList(De.CacheParser,Td.cache.parsers).handleByList(De.DetectionParser,Td.detections);const pb={extension:De.CacheParser,test:i=>Array.isArray(i)&&i.every(e=>e instanceof ke),getCacheableAssets:(i,e)=>{const t={};return i.forEach(r=>{e.forEach((o,a)=>{t[r+(a===0?"":a+1)]=o})}),t}};Xe.add(pb);async function fx(i){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=i});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(i)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const mb={extension:{type:De.DetectionParser,priority:1},test:async()=>fx("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async i=>[...i,"avif"],remove:async i=>i.filter(e=>e!=="avif")};Xe.add(mb);const gb={extension:{type:De.DetectionParser,priority:0},test:async()=>fx("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async i=>[...i,"webp"],remove:async i=>i.filter(e=>e!=="webp")};Xe.add(gb);const w0=["png","jpg","jpeg"],yb={extension:{type:De.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async i=>[...i,...w0],remove:async i=>i.filter(e=>!w0.includes(e))};Xe.add(yb);const vb="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Gg(i){return vb?!1:document.createElement("video").canPlayType(i)!==""}const _b={extension:{type:De.DetectionParser,priority:0},test:async()=>Gg("video/webm"),add:async i=>[...i,"webm"],remove:async i=>i.filter(e=>e!=="webm")};Xe.add(_b);const xb={extension:{type:De.DetectionParser,priority:0},test:async()=>Gg("video/mp4"),add:async i=>[...i,"mp4","m4v"],remove:async i=>i.filter(e=>e!=="mp4"&&e!=="m4v")};Xe.add(xb);const wb={extension:{type:De.DetectionParser,priority:0},test:async()=>Gg("video/ogg"),add:async i=>[...i,"ogv"],remove:async i=>i.filter(e=>e!=="ogv")};Xe.add(wb);const Eb={extension:De.ResolveParser,test:Ef.test,parse:i=>({resolution:parseFloat(Be.RETINA_PREFIX.exec(i)?.[1]??"1"),format:Dr.extname(i).slice(1),src:i})};Xe.add(Eb);var Ur=(i=>(i[i.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",i[i.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",i[i.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",i[i.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",i[i.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",i[i.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",i[i.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",i[i.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",i[i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",i[i.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",i[i.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",i[i.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",i[i.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",i[i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",i[i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",i[i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",i))(Ur||{});const sf={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let _s,zu;function E0(){zu={bptc:_s.getExtension("EXT_texture_compression_bptc"),astc:_s.getExtension("WEBGL_compressed_texture_astc"),etc:_s.getExtension("WEBGL_compressed_texture_etc"),s3tc:_s.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:_s.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:_s.getExtension("WEBGL_compressed_texture_pvrtc")||_s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:_s.getExtension("WEBGL_compressed_texture_etc1"),atc:_s.getExtension("WEBGL_compressed_texture_atc")}}const Sb={extension:{type:De.DetectionParser,priority:2},test:async()=>{const i=Be.ADAPTER.createCanvas().getContext("webgl");return i?(_s=i,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async i=>{zu||E0();const e=[];for(const t in zu)zu[t]&&e.push(t);return[...e,...i]},remove:async i=>(zu||E0(),i.filter(e=>!(e in zu)))};Xe.add(Sb);class bb extends mf{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,o;typeof e=="string"?(r=e,o=new Uint8Array):(r=null,o=e),super(o,t),this.origin=r,this.buffer=o?new Ym(o):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Ym(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Dl extends bb{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=Dl._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||Dl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const o=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;o.pixelStorei(o.UNPACK_ALIGNMENT,4);for(let a=0,c=this.levels;a<c;a++){const{levelID:d,levelWidth:m,levelHeight:g,levelBuffer:_}=this._levelBuffers[a];o.compressedTexImage2D(o.TEXTURE_2D,d,this.format,m,g,0,_)}return!0}onBlobLoaded(){this._levelBuffers=Dl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,r,o,a,c,d){const m=new Array(r);let g=e.byteOffset,_=c,w=d,S=_+o-1&~(o-1),b=w+a-1&~(a-1),A=S*b*sf[t];for(let I=0;I<r;I++)m[I]={levelID:I,levelWidth:r>1?_:S,levelHeight:r>1?w:b,levelBuffer:new Uint8Array(e.buffer,g,A)},g+=A,_=_>>1||1,w=w>>1||1,S=_+o-1&~(o-1),b=w+a-1&~(a-1),A=S*b*sf[t];return m}}const Pm=4,Ad=124,Tb=32,S0=20,Ab=542327876,Cd={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Cb={FOURCC:2},Pd={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},Pb=1,Rb=2,Ib=4,Mb=64,kb=512,Db=131072,Nb=827611204,Ob=861165636,Fb=894720068,Bb=808540228,Lb=4,Ub={[Nb]:Ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Ob]:Ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Fb]:Ur.COMPRESSED_RGBA_S3TC_DXT5_EXT},zb={70:Ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Ur.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Ur.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Ur.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Ur.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Ur.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Ur.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function Gb(i){const e=new Uint32Array(i);if(e[0]!==Ab)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(i,0,Ad/Uint32Array.BYTES_PER_ELEMENT),r=t[Cd.HEIGHT],o=t[Cd.WIDTH],a=t[Cd.MIPMAP_COUNT],c=new Uint32Array(i,Cd.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Tb/Uint32Array.BYTES_PER_ELEMENT),d=c[Pb];if(d&Ib){const m=c[Cb.FOURCC];if(m!==Bb){const G=Ub[m],F=Pm+Ad,W=new Uint8Array(i,F);return[new Dl(W,{format:G,width:o,height:r,levels:a})]}const g=Pm+Ad,_=new Uint32Array(e.buffer,g,S0/Uint32Array.BYTES_PER_ELEMENT),w=_[Pd.DXGI_FORMAT],S=_[Pd.RESOURCE_DIMENSION],b=_[Pd.MISC_FLAG],A=_[Pd.ARRAY_SIZE],I=zb[w];if(I===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${w}`);if(b===Lb)throw new Error("DDSParser does not support cubemap textures");if(S===6)throw new Error("DDSParser does not supported 3D texture data");const P=new Array,k=Pm+Ad+S0;if(A===1)P.push(new Uint8Array(i,k));else{const G=sf[I];let F=0,W=o,U=r;for(let N=0;N<a;N++){const Z=Math.max(1,W+3&-4),ce=Math.max(1,U+3&-4),pe=Z*ce*G;F+=pe,W=W>>>1,U=U>>>1}let K=k;for(let N=0;N<A;N++)P.push(new Uint8Array(i,K,F)),K+=F}return P.map(G=>new Dl(G,{format:I,width:o,height:r,levels:a}))}throw d&Mb?new Error("DDSParser does not support uncompressed texture data."):d&kb?new Error("DDSParser does not supported YUV uncompressed texture data."):d&Db?new Error("DDSParser does not support single-channel (lumninance) texture data!"):d&Rb?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const b0=[171,75,84,88,32,49,49,187,13,10,26,10],Hb=67305985,Li={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},_g=64,T0={[Ke.UNSIGNED_BYTE]:1,[Ke.UNSIGNED_SHORT]:2,[Ke.INT]:4,[Ke.UNSIGNED_INT]:4,[Ke.FLOAT]:4,[Ke.HALF_FLOAT]:8},jb={[Ae.RGBA]:4,[Ae.RGB]:3,[Ae.RG]:2,[Ae.RED]:1,[Ae.LUMINANCE]:1,[Ae.LUMINANCE_ALPHA]:2,[Ae.ALPHA]:1},Wb={[Ke.UNSIGNED_SHORT_4_4_4_4]:2,[Ke.UNSIGNED_SHORT_5_5_5_1]:2,[Ke.UNSIGNED_SHORT_5_6_5]:2};function $b(i,e,t=!1){const r=new DataView(e);if(!Vb(i,r))return null;const o=r.getUint32(Li.ENDIANNESS,!0)===Hb,a=r.getUint32(Li.GL_TYPE,o),c=r.getUint32(Li.GL_FORMAT,o),d=r.getUint32(Li.GL_INTERNAL_FORMAT,o),m=r.getUint32(Li.PIXEL_WIDTH,o),g=r.getUint32(Li.PIXEL_HEIGHT,o)||1,_=r.getUint32(Li.PIXEL_DEPTH,o)||1,w=r.getUint32(Li.NUMBER_OF_ARRAY_ELEMENTS,o)||1,S=r.getUint32(Li.NUMBER_OF_FACES,o),b=r.getUint32(Li.NUMBER_OF_MIPMAP_LEVELS,o),A=r.getUint32(Li.BYTES_OF_KEY_VALUE_DATA,o);if(g===0||_!==1)throw new Error("Only 2D textures are supported");if(S!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(w!==1)throw new Error("WebGL does not support array textures");const I=4,P=4,k=m+3&-4,G=g+3&-4,F=new Array(w);let W=m*g;a===0&&(W=k*G);let U;if(a!==0?T0[a]?U=T0[a]*jb[c]:U=Wb[a]:U=sf[d],U===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const K=t?Yb(r,A,o):null;let N=W*U,Z=m,ce=g,pe=k,de=G,Q=_g+A;for(let se=0;se<b;se++){const ae=r.getUint32(Q,o);let Re=Q+4;for(let B=0;B<w;B++){let L=F[B];L||(L=F[B]=new Array(b)),L[se]={levelID:se,levelWidth:b>1||a!==0?Z:pe,levelHeight:b>1||a!==0?ce:de,levelBuffer:new Uint8Array(e,Re,N)},Re+=N}Q+=ae+4,Q=Q%4!==0?Q+4-Q%4:Q,Z=Z>>1||1,ce=ce>>1||1,pe=Z+I-1&-4,de=ce+P-1&-4,N=pe*de*U}return a!==0?{uncompressed:F.map(se=>{let ae=se[0].levelBuffer,Re=!1;return a===Ke.FLOAT?ae=new Float32Array(se[0].levelBuffer.buffer,se[0].levelBuffer.byteOffset,se[0].levelBuffer.byteLength/4):a===Ke.UNSIGNED_INT?(Re=!0,ae=new Uint32Array(se[0].levelBuffer.buffer,se[0].levelBuffer.byteOffset,se[0].levelBuffer.byteLength/4)):a===Ke.INT&&(Re=!0,ae=new Int32Array(se[0].levelBuffer.buffer,se[0].levelBuffer.byteOffset,se[0].levelBuffer.byteLength/4)),{resource:new mf(ae,{width:se[0].levelWidth,height:se[0].levelHeight}),type:a,format:Re?Xb(c):c}}),kvData:K}:{compressed:F.map(se=>new Dl(null,{format:d,width:m,height:g,levels:b,levelBuffers:se})),kvData:K}}function Vb(i,e){for(let t=0;t<b0.length;t++)if(e.getUint8(t)!==b0[t])return console.error(`${i} is not a valid *.ktx file!`),!1;return!0}function Xb(i){switch(i){case Ae.RGBA:return Ae.RGBA_INTEGER;case Ae.RGB:return Ae.RGB_INTEGER;case Ae.RG:return Ae.RG_INTEGER;case Ae.RED:return Ae.RED_INTEGER;default:return i}}function Yb(i,e,t){const r=new Map;let o=0;for(;o<e;){const a=i.getUint32(_g+o,t),c=_g+o+4,d=3-(a+3)%4;if(a===0||a>e-o){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let m=0;for(;m<a&&i.getUint8(c+m)!==0;m++);if(m===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const g=new TextDecoder().decode(new Uint8Array(i.buffer,c,m)),_=new DataView(i.buffer,c+m+1,a-m-1);r.set(g,_),o+=4+a+d}return r}const qb={extension:{type:De.LoadParser,priority:Xi.High},name:"loadDDS",test(i){return wa(i,".dds")},async load(i,e,t){const r=await(await Be.ADAPTER.fetch(i)).arrayBuffer(),o=Gb(r).map(a=>{const c=new it(a,{mipmap:As.OFF,alphaMode:Nn.NO_PREMULTIPLIED_ALPHA,resolution:ho(i),...e.data});return bc(c,t,i)});return o.length===1?o[0]:o},unload(i){Array.isArray(i)?i.forEach(e=>e.destroy(!0)):i.destroy(!0)}};Xe.add(qb);const Qb={extension:{type:De.LoadParser,priority:Xi.High},name:"loadKTX",test(i){return wa(i,".ktx")},async load(i,e,t){const r=await(await Be.ADAPTER.fetch(i)).arrayBuffer(),{compressed:o,uncompressed:a,kvData:c}=$b(i,r),d=o??a,m={mipmap:As.OFF,alphaMode:Nn.NO_PREMULTIPLIED_ALPHA,resolution:ho(i),...e.data},g=d.map(_=>{d===a&&Object.assign(m,{type:_.type,format:_.format});const w=_.resource??_,S=new it(w,m);return S.ktxKeyValueData=c,bc(S,t,i)});return g.length===1?g[0]:g},unload(i){Array.isArray(i)?i.forEach(e=>e.destroy(!0)):i.destroy(!0)}};Xe.add(Qb);const Kb=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],Zb={extension:De.ResolveParser,test:i=>{const e=Dr.extname(i).slice(1);return["basis","ktx","dds"].includes(e)},parse:i=>{const e=i.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const r=e.pop();if(Kb.includes(r))return{resolution:parseFloat(Be.RETINA_PREFIX.exec(i)?.[1]??"1"),format:r,src:i}}return{resolution:parseFloat(Be.RETINA_PREFIX.exec(i)?.[1]??"1"),format:t,src:i}}};Xe.add(Zb);const Rd=new ot,Jb=4,px=class hc{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,r,o){const a=new Image;return a.src=await this.base64(e,t,r,o),a}async base64(e,t,r,o){const a=this.canvas(e,o);if(a.toBlob!==void 0)return new Promise((c,d)=>{a.toBlob(m=>{if(!m){d(new Error("ICanvas.toBlob failed!"));return}const g=new FileReader;g.onload=()=>c(g.result),g.onerror=d,g.readAsDataURL(m)},t,r)});if(a.toDataURL!==void 0)return a.toDataURL(t,r);if(a.convertToBlob!==void 0){const c=await a.convertToBlob({type:t,quality:r});return new Promise((d,m)=>{const g=new FileReader;g.onload=()=>d(g.result),g.onerror=m,g.readAsDataURL(c)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:r,width:o,height:a,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);c&&hc._flipY(r,o,a),d&&hc._unpremultiplyAlpha(r);const m=new Nw(o,a,1),g=new ImageData(new Uint8ClampedArray(r.buffer),o,a);return m.context.putImageData(g,0,0),m.canvas}pixels(e,t){const{pixels:r,width:o,height:a,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);return c&&hc._flipY(r,o,a),d&&hc._unpremultiplyAlpha(r),r}_rawPixels(e,t){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let o,a=!1,c=!1,d,m=!1;e&&(e instanceof Fl?d=e:(d=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),m=!0,t&&(Rd.width=t.width,Rd.height=t.height,t=Rd)));const g=r.gl;if(d){if(o=d.baseTexture.resolution,t=t??d.frame,a=!1,c=d.baseTexture.alphaMode>0&&d.baseTexture.format===Ae.RGBA,!m){r.renderTexture.bind(d);const b=d.framebuffer.glFramebuffers[r.CONTEXT_UID];b.blitFramebuffer&&r.framebuffer.bind(b.blitFramebuffer)}}else o=r.resolution,t||(t=Rd,t.width=r.width/o,t.height=r.height/o),a=!0,c=this._rendererPremultipliedAlpha,r.renderTexture.bind();const _=Math.max(Math.round(t.width*o),1),w=Math.max(Math.round(t.height*o),1),S=new Uint8Array(Jb*_*w);return g.readPixels(Math.round(t.x*o),Math.round(t.y*o),_,w,g.RGBA,g.UNSIGNED_BYTE,S),m&&d?.destroy(!0),{pixels:S,width:_,height:w,flipY:a,premultipliedAlpha:c}}destroy(){this.renderer=null}static _flipY(e,t,r){const o=t<<2,a=r>>1,c=new Uint8Array(o);for(let d=0;d<a;d++){const m=d*o,g=(r-d-1)*o;c.set(e.subarray(m,m+o)),e.copyWithin(m,g,g+o),e.set(c,g)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let r=0;r<t;r+=4){const o=e[r+3];if(o!==0){const a=255.001/o;e[r]=e[r]*a+.5,e[r+1]=e[r+1]*a+.5,e[r+2]=e[r+2]*a+.5}}}};px.extension={name:"extract",type:De.RendererSystem};let eT=px;Xe.add(eT);const of={build(i){const e=i.points;let t,r,o,a,c,d;if(i.type===zr.CIRC){const A=i.shape;t=A.x,r=A.y,c=d=A.radius,o=a=0}else if(i.type===zr.ELIP){const A=i.shape;t=A.x,r=A.y,c=A.width,d=A.height,o=a=0}else{const A=i.shape,I=A.width/2,P=A.height/2;t=A.x+I,r=A.y+P,c=d=Math.max(0,Math.min(A.radius,Math.min(I,P))),o=I-c,a=P-d}if(!(c>=0&&d>=0&&o>=0&&a>=0)){e.length=0;return}const m=Math.ceil(2.3*Math.sqrt(c+d)),g=m*8+(o?4:0)+(a?4:0);if(e.length=g,g===0)return;if(m===0){e.length=8,e[0]=e[6]=t+o,e[1]=e[3]=r+a,e[2]=e[4]=t-o,e[5]=e[7]=r-a;return}let _=0,w=m*4+(o?2:0)+2,S=w,b=g;{const A=o+c,I=a,P=t+A,k=t-A,G=r+I;if(e[_++]=P,e[_++]=G,e[--w]=G,e[--w]=k,a){const F=r-I;e[S++]=k,e[S++]=F,e[--b]=F,e[--b]=P}}for(let A=1;A<m;A++){const I=Math.PI/2*(A/m),P=o+Math.cos(I)*c,k=a+Math.sin(I)*d,G=t+P,F=t-P,W=r+k,U=r-k;e[_++]=G,e[_++]=W,e[--w]=W,e[--w]=F,e[S++]=F,e[S++]=U,e[--b]=U,e[--b]=G}{const A=o,I=a+d,P=t+A,k=t-A,G=r+I,F=r-I;e[_++]=P,e[_++]=G,e[--b]=F,e[--b]=P,o&&(e[_++]=k,e[_++]=G,e[--b]=F,e[--b]=k)}},triangulate(i,e){const t=i.points,r=e.points,o=e.indices;if(t.length===0)return;let a=r.length/2;const c=a;let d,m;if(i.type!==zr.RREC){const _=i.shape;d=_.x,m=_.y}else{const _=i.shape;d=_.x+_.width/2,m=_.y+_.height/2}const g=i.matrix;r.push(i.matrix?g.a*d+g.c*m+g.tx:d,i.matrix?g.b*d+g.d*m+g.ty:m),a++,r.push(t[0],t[1]);for(let _=2;_<t.length;_+=2)r.push(t[_],t[_+1]),o.push(a++,c,a);o.push(c+1,c,a)}};function A0(i,e=!1){const t=i.length;if(t<6)return;let r=0;for(let o=0,a=i[t-2],c=i[t-1];o<t;o+=2){const d=i[o],m=i[o+1];r+=(d-a)*(m+c),a=d,c=m}if(!e&&r>0||e&&r<=0){const o=t/2;for(let a=o+o%2;a<t;a+=2){const c=t-a-2,d=t-a-1,m=a,g=a+1;[i[c],i[m]]=[i[m],i[c]],[i[d],i[g]]=[i[g],i[d]]}}}const mx={build(i){i.points=i.shape.points.slice()},triangulate(i,e){let t=i.points;const r=i.holes,o=e.points,a=e.indices;if(t.length>=6){A0(t,!1);const c=[];for(let g=0;g<r.length;g++){const _=r[g];A0(_.points,!0),c.push(t.length/2),t=t.concat(_.points)}const d=k1(t,c,2);if(!d)return;const m=o.length/2;for(let g=0;g<d.length;g+=3)a.push(d[g]+m),a.push(d[g+1]+m),a.push(d[g+2]+m);for(let g=0;g<t.length;g++)o.push(t[g])}}},tT={build(i){const e=i.shape,t=e.x,r=e.y,o=e.width,a=e.height,c=i.points;c.length=0,o>=0&&a>=0&&c.push(t,r,t+o,r,t+o,r+a,t,r+a)},triangulate(i,e){const t=i.points,r=e.points;if(t.length===0)return;const o=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(o,o+1,o+2,o+1,o+2,o+3)}},rT={build(i){of.build(i)},triangulate(i,e){of.triangulate(i,e)}};var hi=(i=>(i.MITER="miter",i.BEVEL="bevel",i.ROUND="round",i))(hi||{}),ya=(i=>(i.BUTT="butt",i.ROUND="round",i.SQUARE="square",i))(ya||{});const Ku={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(i,e=20){if(!this.adaptive||!i||isNaN(i))return e;let t=Math.ceil(i/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class C0{static curveTo(e,t,r,o,a,c){const d=c[c.length-2],m=c[c.length-1]-t,g=d-e,_=o-t,w=r-e,S=Math.abs(m*w-g*_);if(S<1e-8||a===0)return(c[c.length-2]!==e||c[c.length-1]!==t)&&c.push(e,t),null;const b=m*m+g*g,A=_*_+w*w,I=m*_+g*w,P=a*Math.sqrt(b)/S,k=a*Math.sqrt(A)/S,G=P*I/b,F=k*I/A,W=P*w+k*g,U=P*_+k*m,K=g*(k+G),N=m*(k+G),Z=w*(P+F),ce=_*(P+F),pe=Math.atan2(N-U,K-W),de=Math.atan2(ce-U,Z-W);return{cx:W+e,cy:U+t,radius:a,startAngle:pe,endAngle:de,anticlockwise:g*_>w*m}}static arc(e,t,r,o,a,c,d,m,g){const _=d-c,w=Ku._segmentsCount(Math.abs(_)*a,Math.ceil(Math.abs(_)/Qd)*40),S=_/(w*2),b=S*2,A=Math.cos(S),I=Math.sin(S),P=w-1,k=P%1/P;for(let G=0;G<=P;++G){const F=G+k*G,W=S+c+b*F,U=Math.cos(W),K=-Math.sin(W);g.push((A*U+I*K)*a+r,(A*-K+I*U)*a+o)}}}class nT{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Hg{static curveLength(e,t,r,o,a,c,d,m){let g=0,_=0,w=0,S=0,b=0,A=0,I=0,P=0,k=0,G=0,F=0,W=e,U=t;for(let K=1;K<=10;++K)_=K/10,w=_*_,S=w*_,b=1-_,A=b*b,I=A*b,P=I*e+3*A*_*r+3*b*w*a+S*d,k=I*t+3*A*_*o+3*b*w*c+S*m,G=W-P,F=U-k,W=P,U=k,g+=Math.sqrt(G*G+F*F);return g}static curveTo(e,t,r,o,a,c,d){const m=d[d.length-2],g=d[d.length-1];d.length-=2;const _=Ku._segmentsCount(Hg.curveLength(m,g,e,t,r,o,a,c));let w=0,S=0,b=0,A=0,I=0;d.push(m,g);for(let P=1,k=0;P<=_;++P)k=P/_,w=1-k,S=w*w,b=S*w,A=k*k,I=A*k,d.push(b*m+3*S*k*e+3*w*A*r+I*a,b*g+3*S*k*t+3*w*A*o+I*c)}}function P0(i,e,t,r,o,a,c,d){const m=i-t*o,g=e-r*o,_=i+t*a,w=e+r*a;let S,b;c?(S=r,b=-t):(S=-r,b=t);const A=m+S,I=g+b,P=_+S,k=w+b;return d.push(A,I,P,k),2}function Sl(i,e,t,r,o,a,c,d){const m=t-i,g=r-e;let _=Math.atan2(m,g),w=Math.atan2(o-i,a-e);d&&_<w?_+=Math.PI*2:!d&&_>w&&(w+=Math.PI*2);let S=_;const b=w-_,A=Math.abs(b),I=Math.sqrt(m*m+g*g),P=(15*A*Math.sqrt(I)/Math.PI>>0)+1,k=b/P;if(S+=k,d){c.push(i,e,t,r);for(let G=1,F=S;G<P;G++,F+=k)c.push(i,e,i+Math.sin(F)*I,e+Math.cos(F)*I);c.push(i,e,o,a)}else{c.push(t,r,i,e);for(let G=1,F=S;G<P;G++,F+=k)c.push(i+Math.sin(F)*I,e+Math.cos(F)*I,i,e);c.push(o,a,i,e)}return P*2}function iT(i,e){const t=i.shape;let r=i.points||t.points.slice();const o=e.closePointEps;if(r.length===0)return;const a=i.lineStyle,c=new dt(r[0],r[1]),d=new dt(r[r.length-2],r[r.length-1]),m=t.type!==zr.POLY||t.closeStroke,g=Math.abs(c.x-d.x)<o&&Math.abs(c.y-d.y)<o;if(m){r=r.slice(),g&&(r.pop(),r.pop(),d.set(r[r.length-2],r[r.length-1]));const L=(c.x+d.x)*.5,C=(d.y+c.y)*.5;r.unshift(L,C),r.push(L,C)}const _=e.points,w=r.length/2;let S=r.length;const b=_.length/2,A=a.width/2,I=A*A,P=a.miterLimit*a.miterLimit;let k=r[0],G=r[1],F=r[2],W=r[3],U=0,K=0,N=-(G-W),Z=k-F,ce=0,pe=0,de=Math.sqrt(N*N+Z*Z);N/=de,Z/=de,N*=A,Z*=A;const Q=a.alignment,se=(1-Q)*2,ae=Q*2;m||(a.cap===ya.ROUND?S+=Sl(k-N*(se-ae)*.5,G-Z*(se-ae)*.5,k-N*se,G-Z*se,k+N*ae,G+Z*ae,_,!0)+2:a.cap===ya.SQUARE&&(S+=P0(k,G,N,Z,se,ae,!0,_))),_.push(k-N*se,G-Z*se,k+N*ae,G+Z*ae);for(let L=1;L<w-1;++L){k=r[(L-1)*2],G=r[(L-1)*2+1],F=r[L*2],W=r[L*2+1],U=r[(L+1)*2],K=r[(L+1)*2+1],N=-(G-W),Z=k-F,de=Math.sqrt(N*N+Z*Z),N/=de,Z/=de,N*=A,Z*=A,ce=-(W-K),pe=F-U,de=Math.sqrt(ce*ce+pe*pe),ce/=de,pe/=de,ce*=A,pe*=A;const C=F-k,H=G-W,D=F-U,M=K-W,z=C*D+H*M,X=H*D-M*C,ne=X<0;if(Math.abs(X)<.001*Math.abs(z)){_.push(F-N*se,W-Z*se,F+N*ae,W+Z*ae),z>=0&&(a.join===hi.ROUND?S+=Sl(F,W,F-N*se,W-Z*se,F-ce*se,W-pe*se,_,!1)+4:S+=2,_.push(F-ce*ae,W-pe*ae,F+ce*se,W+pe*se));continue}const ue=(-N+k)*(-Z+W)-(-N+F)*(-Z+G),me=(-ce+U)*(-pe+W)-(-ce+F)*(-pe+K),xe=(C*me-D*ue)/X,Te=(M*ue-H*me)/X,Pe=(xe-F)*(xe-F)+(Te-W)*(Te-W),ve=F+(xe-F)*se,Me=W+(Te-W)*se,Ue=F-(xe-F)*ae,We=W-(Te-W)*ae,at=Math.min(C*C+H*H,D*D+M*M),He=ne?se:ae,$e=at+He*He*I,Mt=Pe<=$e;let Gt=a.join;if(Gt===hi.MITER&&Pe/I>P&&(Gt=hi.BEVEL),Mt)switch(Gt){case hi.MITER:{_.push(ve,Me,Ue,We);break}case hi.BEVEL:{ne?_.push(ve,Me,F+N*ae,W+Z*ae,ve,Me,F+ce*ae,W+pe*ae):_.push(F-N*se,W-Z*se,Ue,We,F-ce*se,W-pe*se,Ue,We),S+=2;break}case hi.ROUND:{ne?(_.push(ve,Me,F+N*ae,W+Z*ae),S+=Sl(F,W,F+N*ae,W+Z*ae,F+ce*ae,W+pe*ae,_,!0)+4,_.push(ve,Me,F+ce*ae,W+pe*ae)):(_.push(F-N*se,W-Z*se,Ue,We),S+=Sl(F,W,F-N*se,W-Z*se,F-ce*se,W-pe*se,_,!1)+4,_.push(F-ce*se,W-pe*se,Ue,We));break}}else{switch(_.push(F-N*se,W-Z*se,F+N*ae,W+Z*ae),Gt){case hi.MITER:{ne?_.push(Ue,We,Ue,We):_.push(ve,Me,ve,Me),S+=2;break}case hi.ROUND:{ne?S+=Sl(F,W,F+N*ae,W+Z*ae,F+ce*ae,W+pe*ae,_,!0)+2:S+=Sl(F,W,F-N*se,W-Z*se,F-ce*se,W-pe*se,_,!1)+2;break}}_.push(F-ce*se,W-pe*se,F+ce*ae,W+pe*ae),S+=2}}k=r[(w-2)*2],G=r[(w-2)*2+1],F=r[(w-1)*2],W=r[(w-1)*2+1],N=-(G-W),Z=k-F,de=Math.sqrt(N*N+Z*Z),N/=de,Z/=de,N*=A,Z*=A,_.push(F-N*se,W-Z*se,F+N*ae,W+Z*ae),m||(a.cap===ya.ROUND?S+=Sl(F-N*(se-ae)*.5,W-Z*(se-ae)*.5,F-N*se,W-Z*se,F+N*ae,W+Z*ae,_,!1)+2:a.cap===ya.SQUARE&&(S+=P0(F,W,N,Z,se,ae,!1,_)));const Re=e.indices,B=Ku.epsilon*Ku.epsilon;for(let L=b;L<S+b-2;++L)k=_[L*2],G=_[L*2+1],F=_[(L+1)*2],W=_[(L+1)*2+1],U=_[(L+2)*2],K=_[(L+2)*2+1],!(Math.abs(k*(W-K)+F*(K-G)+U*(G-W))<B)&&Re.push(L,L+1,L+2)}function sT(i,e){let t=0;const r=i.shape,o=i.points||r.points,a=r.type!==zr.POLY||r.closeStroke;if(o.length===0)return;const c=e.points,d=e.indices,m=o.length/2,g=c.length/2;let _=g;for(c.push(o[0],o[1]),t=1;t<m;t++)c.push(o[t*2],o[t*2+1]),d.push(_,_+1),_++;a&&d.push(_,g)}function R0(i,e){i.lineStyle.native?sT(i,e):iT(i,e)}class jg{static curveLength(e,t,r,o,a,c){const d=e-2*r+a,m=t-2*o+c,g=2*r-2*e,_=2*o-2*t,w=4*(d*d+m*m),S=4*(d*g+m*_),b=g*g+_*_,A=2*Math.sqrt(w+S+b),I=Math.sqrt(w),P=2*w*I,k=2*Math.sqrt(b),G=S/I;return(P*A+I*S*(A-k)+(4*b*w-S*S)*Math.log((2*I+G+A)/(G+k)))/(4*P)}static curveTo(e,t,r,o,a){const c=a[a.length-2],d=a[a.length-1],m=Ku._segmentsCount(jg.curveLength(c,d,e,t,r,o));let g=0,_=0;for(let w=1;w<=m;++w){const S=w/m;g=c+(e-c)*S,_=d+(t-d)*S,a.push(g+(e+(r-e)*S-g)*S,_+(t+(o-t)*S-_)*S)}}}const Rm={[zr.POLY]:mx,[zr.CIRC]:of,[zr.ELIP]:of,[zr.RECT]:tT,[zr.RREC]:rT},I0=[],Id=[];class af{constructor(e,t=null,r=null,o=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=o,this.type=e.type}clone(){return new af(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Nu=new dt,gx=class yx extends E_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new tf,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Id.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),I0.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,o=null){const a=new af(e,t,r,o);return this.graphicsData.push(a),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new af(e,null,null,t),o=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=o.lineStyle,o.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const o=t[r];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(e,Nu):Nu.copyFrom(e),o.shape.contains(Nu.x,Nu.y))){let a=!1;if(o.holes){for(let c=0;c<o.holes.length;c++)if(o.holes[c].shape.contains(Nu.x,Nu.y)){a=!0;break}}if(!a)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,o=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],o=r.style);for(let m=this.shapeIndex;m<t.length;m++){this.shapeIndex++;const g=t[m],_=g.fillStyle,w=g.lineStyle;Rm[g.type].build(g),g.matrix&&this.transformPoints(g.points,g.matrix),(_.visible||w.visible)&&this.processHoles(g.holes);for(let S=0;S<2;S++){const b=S===0?_:w;if(!b.visible)continue;const A=b.texture.baseTexture,I=this.indices.length,P=this.points.length/2;A.wrapMode=uo.REPEAT,S===0?this.processFill(g):this.processLine(g);const k=this.points.length/2-P;k!==0&&(r&&!this._compareStyles(o,b)&&(r.end(I,P),r=null),r||(r=I0.pop()||new nT,r.begin(b,I,P),this.batches.push(r),o=b),this.addUvs(this.points,e,b.texture,P,k,b.matrix))}}const a=this.indices.length,c=this.points.length/2;if(r&&r.end(a,c),this.batches.length===0){this.batchable=!0;return}const d=c>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&d===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=d?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const r=this.graphicsData[e],o=r.fillStyle,a=r.lineStyle;if(o&&!o.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const o=e[t];for(let a=0;a<o.size;a++){const c=o.start+a;this.indicesUint16[c]=this.indicesUint16[c]-o.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<yx.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++it._globalBatch;for(let w=0;w<this.drawCalls.length;w++)this.drawCalls[w].texArray.clear(),Id.push(this.drawCalls[w]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let o=Id.pop();o||(o=new Km,o.texArray=new tg),o.texArray.count=0,o.start=0,o.size=0,o.type=ji.TRIANGLES;let a=0,c=null,d=0,m=!1,g=ji.TRIANGLES,_=0;this.drawCalls.push(o);for(let w=0;w<this.batches.length;w++){const S=this.batches[w],b=8,A=S.style,I=A.texture.baseTexture;m!==!!A.native&&(m=!!A.native,g=m?ji.LINES:ji.TRIANGLES,c=null,a=b,e++),c!==I&&(c=I,I._batchEnabled!==e&&(a===b&&(e++,a=0,o.size>0&&(o=Id.pop(),o||(o=new Km,o.texArray=new tg),this.drawCalls.push(o)),o.start=_,o.size=0,o.texArray.count=0,o.type=g),I.touched=1,I._batchEnabled=e,I._batchLocation=a,I.wrapMode=uo.REPEAT,o.texArray.elements[o.texArray.count++]=I,a++)),o.size+=S.size,_+=S.size,d=I._batchLocation,this.addColors(t,A.color,A.alpha,S.attribSize,S.attribStart),this.addTextureIds(r,d,S.attribSize,S.attribStart)}it._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,o=this.textureIds,a=new ArrayBuffer(e.length*3*4),c=new Float32Array(a),d=new Uint32Array(a);let m=0;for(let g=0;g<e.length/2;g++)c[m++]=e[g*2],c[m++]=e[g*2+1],c[m++]=t[g*2],c[m++]=t[g*2+1],d[m++]=r[g],c[m++]=o[g];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?mx.triangulate(e,this):Rm[e.type].triangulate(e,this)}processLine(e){R0(e,this);for(let t=0;t<e.holes.length;t++)R0(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];Rm[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const o=e[r*2],a=e[r*2+1];e[r*2]=t.a*o+t.c*a+t.tx,e[r*2+1]=t.b*o+t.d*a+t.ty}}addColors(e,t,r,o,a=0){const c=Lt.shared.setValue(t).toLittleEndianNumber(),d=Lt.shared.setValue(c).toPremultiplied(r);e.length=Math.max(e.length,a+o);for(let m=0;m<o;m++)e[a+m]=d}addTextureIds(e,t,r,o=0){e.length=Math.max(e.length,o+r);for(let a=0;a<r;a++)e[o+a]=t}addUvs(e,t,r,o,a,c=null){let d=0;const m=t.length,g=r.frame;for(;d<a;){let w=e[(o+d)*2],S=e[(o+d)*2+1];if(c){const b=c.a*w+c.c*S+c.tx;S=c.b*w+c.d*S+c.ty,w=b}d++,t.push(w/g.width,S/g.height)}const _=r.baseTexture;(g.width<_.width||g.height<_.height)&&this.adjustUvs(t,r,m,a)}adjustUvs(e,t,r,o){const a=t.baseTexture,c=1e-6,d=r+o*2,m=t.frame,g=m.width/a.width,_=m.height/a.height;let w=m.x/m.width,S=m.y/m.height,b=Math.floor(e[r]+c),A=Math.floor(e[r+1]+c);for(let I=r+2;I<d;I+=2)b=Math.min(b,Math.floor(e[I]+c)),A=Math.min(A,Math.floor(e[I+1]+c));w-=b,S-=A;for(let I=r;I<d;I+=2)e[I]=(e[I]+w)*g,e[I+1]=(e[I+1]+S)*_}};gx.BATCHABLE_SIZE=100;let oT=gx;class Sf{constructor(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Sf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Wg extends Sf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=ya.BUTT,this.join=hi.MITER,this.miterLimit=10}clone(){const e=new Wg;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=ya.BUTT,this.join=hi.MITER,this.miterLimit=10}}const Im={},xg=class Wd extends cn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Sf,this._lineStyle=new Wg,this._matrix=null,this._holeMode=!1,this.state=Rs.for2d(),this._geometry=e||new oT,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Lt(16777215),this.blendMode=et.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Wd(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,o=.5,a=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:r,alignment:o,native:a}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:ke.WHITE,color:e?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:ya.BUTT,join:hi.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new kl,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new kl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,o=r[r.length-2],a=r[r.length-1];return(o!==e||a!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,o){this._initCurve();const a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),jg.curveTo(e,t,r,o,a),this}bezierCurveTo(e,t,r,o,a,c){return this._initCurve(),Hg.curveTo(e,t,r,o,a,c,this.currentPath.points),this}arcTo(e,t,r,o,a){this._initCurve(e,t);const c=this.currentPath.points,d=C0.curveTo(e,t,r,o,a,c);if(d){const{cx:m,cy:g,radius:_,startAngle:w,endAngle:S,anticlockwise:b}=d;this.arc(m,g,_,w,S,b)}return this}arc(e,t,r,o,a,c=!1){if(o===a)return this;if(!c&&a<=o?a+=Qd:c&&o<=a&&(o+=Qd),a-o===0)return this;const d=e+Math.cos(o)*r,m=t+Math.sin(o)*r,g=this._geometry.closePointEps;let _=this.currentPath?this.currentPath.points:null;if(_){const w=Math.abs(_[_.length-2]-d),S=Math.abs(_[_.length-1]-m);w<g&&S<g||_.push(d,m)}else this.moveTo(d,m),_=this.currentPath.points;return C0.arc(d,m,e,t,r,o,a,c,_),this}beginFill(e=0,t){return this.beginTextureFill({texture:ke.WHITE,color:e,alpha:t})}normalizeColor(e){const t=Lt.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:ke.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,o){return this.drawShape(new ot(e,t,r,o))}drawRoundedRect(e,t,r,o,a){return this.drawShape(new vf(e,t,r,o,a))}drawCircle(e,t,r){return this.drawShape(new gf(e,t,r))}drawEllipse(e,t,r,o){return this.drawShape(new yf(e,t,r,o))}drawPolygon(...e){let t,r=!0;const o=e[0];o.points?(r=o.closeStroke,t=o.points):Array.isArray(e[0])?t=e[0]:t=e;const a=new kl(t);return a.closeStroke=r,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===zr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let o=0;o<r;o++){const a=e.batches[o],c=a.style.color,d=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),m=new Float32Array(e.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),g=new Uint16Array(e.indicesUint16.buffer,a.start*2,a.size),_={vertexData:d,blendMode:t,indices:g,uvs:m,_batchRGB:Lt.shared.setValue(c).toRgbArray(),_tintRGB:c,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[o]=_}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const o=this.batches[t];o.worldAlpha=this.worldAlpha*o.alpha,e.plugins[this.pluginName].render(o)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,o=this.worldAlpha,a=t.uniforms,c=r.drawCalls;a.translationMatrix=this.transform.worldTransform,Lt.shared.setValue(this._tintColor).premultiply(o).toArray(a.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let d=0,m=c.length;d<m;d++)this._renderDrawCallDirect(e,r.drawCalls[d])}_renderDrawCallDirect(e,t){const{texArray:r,type:o,size:a,start:c}=t,d=r.count;for(let m=0;m<d;m++)e.texture.bind(r.elements[m],m);e.geometry.draw(o,a,c)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!Im[r]){const{maxTextures:o}=e.plugins[r],a=new Int32Array(o);for(let m=0;m<o;m++)a[m]=m;const c={tint:new Float32Array([1,1,1,1]),translationMatrix:new zt,default:Vi.from({uSamplers:a},!0)},d=e.plugins[r]._shader.program;Im[r]=new Ts(d,c)}t=Im[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:o,maxY:a}=e.bounds;this._bounds.addFrame(this.transform,t,r,o,a)}containsPoint(e){return this.worldTransform.applyInverse(e,Wd._TEMP_POINT),this._geometry.containsPoint(Wd._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=Lt.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,o=t.b,a=t.c,c=t.d,d=t.tx,m=t.ty,g=this._geometry.points,_=this.vertexData;let w=0;for(let S=0;S<g.length;S+=2){const b=g[S],A=g[S+1];_[w++]=r*b+a*A+d,_[w++]=c*A+o*b+m}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};xg.curves=Ku,xg._TEMP_POINT=new dt;let mc=xg;class aT{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const Mm=new dt,M0=new kl,vx=class _x extends cn{constructor(e,t,r,o=ji.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||Rs.for2d(),this.drawMode=o,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Be.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===ji.TRIANGLES&&t.length<_x.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const o=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[o]),e.plugins[o].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const o=this.transform.worldTransform,a=o.a,c=o.b,d=o.c,m=o.d,g=o.tx,_=o.ty,w=this.vertexData;for(let S=0;S<w.length/2;S++){const b=t[S*2],A=t[S*2+1];w[S*2]=a*b+d*A+g,w[S*2+1]=c*b+m*A+_}if(this._roundPixels){const S=Be.RESOLUTION;for(let b=0;b<w.length;++b)w[b]=Math.round(w[b]*S)/S}this.vertexDirty=r}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new aT(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Mm);const t=this.geometry.getBuffer("aVertexPosition").data,r=M0.points,o=this.geometry.getIndex().data,a=o.length,c=this.drawMode===4?3:1;for(let d=0;d+2<a;d+=c){const m=o[d]*2,g=o[d+1]*2,_=o[d+2]*2;if(r[0]=t[m],r[1]=t[m+1],r[2]=t[g],r[3]=t[g+1],r[4]=t[_],r[5]=t[_+1],M0.contains(Mm.x,Mm.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};vx.BATCHABLE_SIZE=100;let vc=vx;class bf extends _a{constructor(e,t,r){super();const o=new hr(e),a=new hr(t,!0),c=new hr(r,!0,!0);this.addAttribute("aVertexPosition",o,2,!1,Ke.FLOAT).addAttribute("aTextureCoord",a,2,!1,Ke.FLOAT).addIndex(c),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var lT=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,uT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class _c extends Ts{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:zt.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(r,t.uniforms),super(t.program||ao.from(uT,lT),r),this._colorDirty=!1,this.uvMatrix=new Ug(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new Lt(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Lt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class hT extends bf{constructor(e=100,t=100,r=10,o=10){super(),this.segWidth=r,this.segHeight=o,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],r=[],o=[],a=this.segWidth-1,c=this.segHeight-1,d=this.width/a,m=this.height/c;for(let _=0;_<e;_++){const w=_%this.segWidth,S=_/this.segWidth|0;t.push(w*d,S*m),r.push(w/a,S/c)}const g=a*c;for(let _=0;_<g;_++){const w=_%a,S=_/a|0,b=S*this.segWidth+w,A=S*this.segWidth+w+1,I=(S+1)*this.segWidth+w,P=(S+1)*this.segWidth+w+1;o.push(b,A,I,A,P,I)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class cT extends bf{constructor(e=200,t,r=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),o=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),o.data=new Uint16Array((e.length-1)*6));const a=r.data,c=o.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;let d=0,m=e[0];const g=this._width*this.textureScale,_=e.length;for(let S=0;S<_;S++){const b=S*4;if(this.textureScale>0){const A=m.x-e[S].x,I=m.y-e[S].y,P=Math.sqrt(A*A+I*I);m=e[S],d+=P/g}else d=S/(_-1);a[b]=d,a[b+1]=0,a[b+2]=d,a[b+3]=1}let w=0;for(let S=0;S<_-1;S++){const b=S*2;c[w++]=b,c[w++]=b+1,c[w++]=b+2,c[w++]=b+2,c[w++]=b+1,c[w++]=b+3}r.update(),o.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],r,o=0,a=0;const c=this.buffers[0].data,d=e.length,m=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let g=0;g<d;g++){const _=e[g],w=g*4;g<e.length-1?r=e[g+1]:r=_,a=-(r.x-t.x),o=r.y-t.y;const S=Math.sqrt(o*o+a*a);S<1e-6?(o=0,a=0):(o/=S,a/=S,o*=m,a*=m),c[w]=_.x+o,c[w+1]=_.y+a,c[w+2]=_.x-o,c[w+3]=_.y-a,t=_}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class dT extends vc{constructor(e,t,r){const o=new hT(e.width,e.height,t,r),a=new _c(ke.WHITE);super(o,a),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Md=10;class fT extends dT{constructor(e,t,r,o,a){super(ke.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??e.defaultBorders?.left??Md,this._rightWidth=o??e.defaultBorders?.right??Md,this._topHeight=r??e.defaultBorders?.top??Md,this._bottomHeight=a??e.defaultBorders?.bottom??Md,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,o=this._height>r?1:this._height/r;return Math.min(t,o)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,o=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=o*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class pT extends vc{constructor(e=ke.EMPTY,t,r,o,a){const c=new bf(t,r,o);c.getBuffer("aVertexPosition").static=!1;const d=new _c(e);super(c,d,null,a),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class mT extends vc{constructor(e,t,r=0){const o=new cT(e.height,t,r),a=new _c(e);r>0&&(e.baseTexture.wrapMode=uo.REPEAT),super(o,a),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class gT extends cn{constructor(e=1500,t,r=16384,o=!1){super();const a=16384;r>a&&(r=a),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=et.NORMAL,this.autoResize=o,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new Lt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class k0{constructor(e,t,r){this.geometry=new _a,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let o=0;o<e.length;++o){let a=e[o];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Ke.FLOAT,offset:a.offset},t[o]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new hr(kw(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];d.offset=t,t+=d.size,this.dynamicStride+=d.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new hr(this.dynamicData,!1,!1);let o=0;this.staticStride=0;for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];d.offset=o,o+=d.size,this.staticStride+=d.size}const a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new hr(this.staticData,!0,!1);for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];e.addAttribute(d.attributeName,this.dynamicBuffer,0,d.type===Ke.UNSIGNED_BYTE,d.type,this.dynamicStride*4,d.offset*4)}for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];e.addAttribute(d.attributeName,this.staticBuffer,0,d.type===Ke.UNSIGNED_BYTE,d.type,this.staticStride*4,d.offset*4)}}uploadDynamic(e,t,r){for(let o=0;o<this.dynamicProperties.length;o++){const a=this.dynamicProperties[o];a.uploadFunction(e,t,r,a.type===Ke.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let o=0;o<this.staticProperties.length;o++){const a=this.staticProperties[o];a.uploadFunction(e,t,r,a.type===Ke.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var yT=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,vT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class xx extends xf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new zt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ke.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Ts.from(vT,yT,{}),this.state=Rs.for2d()}render(e){const t=e.children,r=e._maxSize,o=e._batchSize,a=this.renderer;let c=t.length;if(c===0)return;c>r&&!e.autoResize&&(c=r);let d=e._buffers;d||(d=e._buffers=this.generateBuffers(e));const m=t[0]._texture.baseTexture,g=m.alphaMode>0;this.state.blendMode=__(e.blendMode,g),a.state.set(this.state);const _=a.gl,w=e.worldTransform.copyTo(this.tempMatrix);w.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=w.toArray(!0),this.shader.uniforms.uColor=Lt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,g).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=m,this.renderer.shader.bind(this.shader);let S=!1;for(let b=0,A=0;b<c;b+=o,A+=1){let I=c-b;I>o&&(I=o),A>=d.length&&d.push(this._generateOneMoreBuffer(e));const P=d[A];P.uploadDynamic(t,b,I);const k=e._bufferUpdateIDs[A]||0;S=S||P._updateID<k,S&&(P._updateID=e._updateID,P.uploadStatic(t,b,I)),a.geometry.bind(P.geometry),_.drawElements(_.TRIANGLES,I*6,_.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,o=e._batchSize,a=e._properties;for(let c=0;c<r;c+=o)t.push(new k0(this.properties,a,o));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new k0(this.properties,r,t)}uploadVertices(e,t,r,o,a,c){let d=0,m=0,g=0,_=0;for(let w=0;w<r;++w){const S=e[t+w],b=S._texture,A=S.scale.x,I=S.scale.y,P=b.trim,k=b.orig;P?(m=P.x-S.anchor.x*k.width,d=m+P.width,_=P.y-S.anchor.y*k.height,g=_+P.height):(d=k.width*(1-S.anchor.x),m=k.width*-S.anchor.x,g=k.height*(1-S.anchor.y),_=k.height*-S.anchor.y),o[c]=m*A,o[c+1]=_*I,o[c+a]=d*A,o[c+a+1]=_*I,o[c+a*2]=d*A,o[c+a*2+1]=g*I,o[c+a*3]=m*A,o[c+a*3+1]=g*I,c+=a*4}}uploadPosition(e,t,r,o,a,c){for(let d=0;d<r;d++){const m=e[t+d].position;o[c]=m.x,o[c+1]=m.y,o[c+a]=m.x,o[c+a+1]=m.y,o[c+a*2]=m.x,o[c+a*2+1]=m.y,o[c+a*3]=m.x,o[c+a*3+1]=m.y,c+=a*4}}uploadRotation(e,t,r,o,a,c){for(let d=0;d<r;d++){const m=e[t+d].rotation;o[c]=m,o[c+a]=m,o[c+a*2]=m,o[c+a*3]=m,c+=a*4}}uploadUvs(e,t,r,o,a,c){for(let d=0;d<r;++d){const m=e[t+d]._texture._uvs;m?(o[c]=m.x0,o[c+1]=m.y0,o[c+a]=m.x1,o[c+a+1]=m.y1,o[c+a*2]=m.x2,o[c+a*2+1]=m.y2,o[c+a*3]=m.x3,o[c+a*3+1]=m.y3,c+=a*4):(o[c]=0,o[c+1]=0,o[c+a]=0,o[c+a+1]=0,o[c+a*2]=0,o[c+a*2+1]=0,o[c+a*3]=0,o[c+a*3+1]=0,c+=a*4)}}uploadTint(e,t,r,o,a,c){for(let d=0;d<r;++d){const m=e[t+d],g=Lt.shared.setValue(m._tintRGB).toPremultiplied(m.alpha,m.texture.baseTexture.alphaMode>0);o[c]=g,o[c+a]=g,o[c+a*2]=g,o[c+a*3]=g,c+=a*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}xx.extension={name:"particle",type:De.RendererPlugin};Xe.add(xx);var Tf=(i=>(i[i.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",i[i.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",i))(Tf||{});const kd={willReadFrequently:!0},xs=class qe{static get experimentalLetterSpacingSupported(){let e=qe._experimentalLetterSpacingSupported;if(e!==void 0){const t=Be.ADAPTER.getCanvasRenderingContext2D().prototype;e=qe._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,o,a,c,d,m,g){this.text=e,this.style=t,this.width=r,this.height=o,this.lines=a,this.lineWidths=c,this.lineHeight=d,this.maxLineWidth=m,this.fontProperties=g}static measureText(e,t,r,o=qe._canvas){r=r??t.wordWrap;const a=t.toFontString(),c=qe.measureFont(a);c.fontSize===0&&(c.fontSize=t.fontSize,c.ascent=t.fontSize);const d=o.getContext("2d",kd);d.font=a;const m=(r?qe.wordWrap(e,t,o):e).split(/(?:\r\n|\r|\n)/),g=new Array(m.length);let _=0;for(let A=0;A<m.length;A++){const I=qe._measureText(m[A],t.letterSpacing,d);g[A]=I,_=Math.max(_,I)}let w=_+t.strokeThickness;t.dropShadow&&(w+=t.dropShadowDistance);const S=t.lineHeight||c.fontSize+t.strokeThickness;let b=Math.max(S,c.fontSize+t.strokeThickness*2)+t.leading+(m.length-1)*(S+t.leading);return t.dropShadow&&(b+=t.dropShadowDistance),new qe(e,t,w,b,m,g,S+t.leading,_,c)}static _measureText(e,t,r){let o=!1;qe.experimentalLetterSpacingSupported&&(qe.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,o=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let a=r.measureText(e).width;return a>0&&(o?a-=t:a+=(qe.graphemeSegmenter(e).length-1)*t),a}static wordWrap(e,t,r=qe._canvas){const o=r.getContext("2d",kd);let a=0,c="",d="";const m=Object.create(null),{letterSpacing:g,whiteSpace:_}=t,w=qe.collapseSpaces(_),S=qe.collapseNewlines(_);let b=!w;const A=t.wordWrapWidth+g,I=qe.tokenize(e);for(let P=0;P<I.length;P++){let k=I[P];if(qe.isNewline(k)){if(!S){d+=qe.addLine(c),b=!w,c="",a=0;continue}k=" "}if(w){const F=qe.isBreakingSpace(k),W=qe.isBreakingSpace(c[c.length-1]);if(F&&W)continue}const G=qe.getFromCache(k,g,m,o);if(G>A)if(c!==""&&(d+=qe.addLine(c),c="",a=0),qe.canBreakWords(k,t.breakWords)){const F=qe.wordWrapSplit(k);for(let W=0;W<F.length;W++){let U=F[W],K=U,N=1;for(;F[W+N];){const ce=F[W+N];if(!qe.canBreakChars(K,ce,k,W,t.breakWords))U+=ce;else break;K=ce,N++}W+=N-1;const Z=qe.getFromCache(U,g,m,o);Z+a>A&&(d+=qe.addLine(c),b=!1,c="",a=0),c+=U,a+=Z}}else{c.length>0&&(d+=qe.addLine(c),c="",a=0);const F=P===I.length-1;d+=qe.addLine(k,!F),b=!1,c="",a=0}else G+a>A&&(b=!1,d+=qe.addLine(c),c="",a=0),(c.length>0||!qe.isBreakingSpace(k)||b)&&(c+=k,a+=G)}return d+=qe.addLine(c,!1),d}static addLine(e,t=!0){return e=qe.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,r,o){let a=r[e];return typeof a!="number"&&(a=qe._measureText(e,t,o)+t,r[e]=a),a}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!qe.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:qe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:qe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let o=0;o<e.length;o++){const a=e[o],c=e[o+1];if(qe.isBreakingSpace(a,c)||qe.isNewline(a)){r!==""&&(t.push(r),r=""),t.push(a);continue}r+=a}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,o,a){return!0}static wordWrapSplit(e){return qe.graphemeSegmenter(e)}static measureFont(e){if(qe._fonts[e])return qe._fonts[e];const t={ascent:0,descent:0,fontSize:0},r=qe._canvas,o=qe._context;o.font=e;const a=qe.METRICS_STRING+qe.BASELINE_SYMBOL,c=Math.ceil(o.measureText(a).width);let d=Math.ceil(o.measureText(qe.BASELINE_SYMBOL).width);const m=Math.ceil(qe.HEIGHT_MULTIPLIER*d);if(d=d*qe.BASELINE_MULTIPLIER|0,c===0||m===0)return qe._fonts[e]=t,t;r.width=c,r.height=m,o.fillStyle="#f00",o.fillRect(0,0,c,m),o.font=e,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(a,0,d);const g=o.getImageData(0,0,c,m).data,_=g.length,w=c*4;let S=0,b=0,A=!1;for(S=0;S<d;++S){for(let I=0;I<w;I+=4)if(g[b+I]!==255){A=!0;break}if(!A)b+=w;else break}for(t.ascent=d-S,b=_-w,A=!1,S=m;S>d;--S){for(let I=0;I<w;I+=4)if(g[b+I]!==255){A=!0;break}if(!A)b-=w;else break}return t.descent=S-d,t.fontSize=t.ascent+t.descent,qe._fonts[e]=t,t}static clearMetrics(e=""){e?delete qe._fonts[e]:qe._fonts={}}static get _canvas(){if(!qe.__canvas){let e;try{const t=new OffscreenCanvas(0,0);if(t.getContext("2d",kd)?.measureText)return qe.__canvas=t,t;e=Be.ADAPTER.createCanvas()}catch{e=Be.ADAPTER.createCanvas()}e.width=e.height=10,qe.__canvas=e}return qe.__canvas}static get _context(){return qe.__context||(qe.__context=qe._canvas.getContext("2d",kd)),qe.__context}};xs.METRICS_STRING="|q",xs.BASELINE_SYMBOL="M",xs.BASELINE_MULTIPLIER=1.4,xs.HEIGHT_MULTIPLIER=2,xs.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const i=new Intl.Segmenter;return e=>[...i.segment(e)].map(t=>t.segment)}return i=>[...i]})(),xs.experimentalLetterSpacing=!1,xs._fonts={},xs._newlines=[10,13],xs._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let pa=xs;const _T=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],wx=class cc{constructor(e){this.styleID=0,this.reset(),Dm(this,e,e)}clone(){const e={};return Dm(e,this,cc.defaultStyle),new cc(e)}reset(){Dm(this,cc.defaultStyle,cc.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=km(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=km(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){xT(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=km(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let o=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&!_T.includes(o)&&(o=`"${o}"`),t[r]=o}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};wx.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Tf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let fo=wx;function km(i){const e=Lt.shared,t=r=>{const o=e.setValue(r);return o.alpha===1?o.toHex():o.toRgbaString()};return Array.isArray(i)?i.map(t):t(i)}function xT(i,e){if(!Array.isArray(i)||!Array.isArray(e)||i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(i[t]!==e[t])return!1;return!0}function Dm(i,e,t){for(const r in t)Array.isArray(e[r])?i[r]=e[r].slice():i[r]=e[r]}const wT={texture:!0,children:!1,baseTexture:!0},Ex=class wg extends Is{constructor(e,t,r){let o=!1;r||(r=Be.ADAPTER.createCanvas(),o=!0),r.width=3,r.height=3;const a=ke.from(r);a.orig=new ot,a.trim=new ot,super(a),this._ownCanvas=o,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=wg.defaultResolution??Be.RESOLUTION,this._autoResolution=wg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return pa.experimentalLetterSpacing}static set experimentalLetterSpacing(e){ct("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),pa.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,o=pa.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,c=o.height,d=o.lines,m=o.lineHeight,g=o.lineWidths,_=o.maxLineWidth,w=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,c)+t.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;let S,b;const A=t.dropShadow?2:1;for(let I=0;I<A;++I){const P=t.dropShadow&&I===0,k=P?Math.ceil(Math.max(1,c)+t.padding*2):0,G=k*this._resolution;if(P){r.fillStyle="black",r.strokeStyle="black";const W=t.dropShadowColor,U=t.dropShadowBlur*this._resolution,K=t.dropShadowDistance*this._resolution;r.shadowColor=Lt.shared.setValue(W).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=U,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*K,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*K+G}else r.fillStyle=this._generateFillStyle(t,d,o),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let F=(m-w.fontSize)/2;m-w.fontSize<0&&(F=0);for(let W=0;W<d.length;W++)S=t.strokeThickness/2,b=t.strokeThickness/2+W*m+w.ascent+F,t.align==="right"?S+=_-g[W]:t.align==="center"&&(S+=(_-g[W])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(d[W],S+t.padding,b+t.padding-k,!0),t.fill&&this.drawLetterSpacing(d[W],S+t.padding,b+t.padding-k)}this.updateTexture()}drawLetterSpacing(e,t,r,o=!1){const a=this._style.letterSpacing;let c=!1;if(pa.experimentalLetterSpacingSupported&&(pa.experimentalLetterSpacing?(this.context.letterSpacing=`${a}px`,this.context.textLetterSpacing=`${a}px`,c=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),a===0||c){o?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let d=t;const m=pa.graphemeSegmenter(e);let g=this.context.measureText(e).width,_=0;for(let w=0;w<m.length;++w){const S=m[w];o?this.context.strokeText(S,d,r):this.context.fillText(S,d,r);let b="";for(let A=w+1;A<m.length;++A)b+=m[A];_=this.context.measureText(b).width,d+=g-_+a,g=_}}updateTexture(){const e=this.canvas;if(this._style.trim){const c=Fw(e);c.data&&(e.width=c.width,e.height=c.height,this.context.putImageData(c.data,0,0))}const t=this._texture,r=this._style,o=r.trim?0:r.padding,a=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-o,t.trim.y=-o,t.orig.width=t._frame.width-o*2,t.orig.height=t._frame.height-o*2,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const o=e.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const c=e.dropShadow?e.dropShadowDistance:0,d=e.padding||0,m=this.canvas.width/this._resolution-c-d*2,g=this.canvas.height/this._resolution-c-d*2,_=o.slice(),w=e.fillGradientStops.slice();if(!w.length){const S=_.length+1;for(let b=1;b<S;++b)w.push(b/S)}if(_.unshift(o[0]),w.unshift(0),_.push(o[o.length-1]),w.push(1),e.fillGradientType===Tf.LINEAR_VERTICAL){a=this.context.createLinearGradient(m/2,d,m/2,g+d);const S=r.fontProperties.fontSize+e.strokeThickness;for(let b=0;b<t.length;b++){const A=r.lineHeight*(b-1)+S,I=r.lineHeight*b;let P=I;b>0&&A>I&&(P=(I+A)/2);const k=I+S,G=r.lineHeight*(b+1);let F=k;b+1<t.length&&G<k&&(F=(k+G)/2);const W=(F-P)/g;for(let U=0;U<_.length;U++){let K=0;typeof w[U]=="number"?K=w[U]:K=U/_.length;let N=Math.min(1,Math.max(0,P/g+K*W));N=Number(N.toFixed(5)),a.addColorStop(N,_[U])}}}else{a=this.context.createLinearGradient(d,g/2,m+d,g/2);const S=_.length+1;let b=1;for(let A=0;A<_.length;A++){let I;typeof w[A]=="number"?I=w[A]:I=b/S,a.addColorStop(I,_[A]),b++}}return a}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},wT,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=ga(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=ga(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof fo?this._style=e:this._style=new fo(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};Ex.defaultAutoResolution=!0;let $g=Ex;class ET{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function ST(i,e){let t=!1;if(i?._textures?.length){for(let r=0;r<i._textures.length;r++)if(i._textures[r]instanceof ke){const o=i._textures[r].baseTexture;e.includes(o)||(e.push(o),t=!0)}}return t}function bT(i,e){if(i.baseTexture instanceof it){const t=i.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function TT(i,e){if(i._texture&&i._texture instanceof ke){const t=i._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function AT(i,e){return e instanceof $g?(e.updateText(!0),!0):!1}function CT(i,e){if(e instanceof fo){const t=e.toFontString();return pa.measureFont(t),!0}return!1}function PT(i,e){if(i instanceof $g){e.includes(i.style)||e.push(i.style),e.includes(i)||e.push(i);const t=i._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function RT(i,e){return i instanceof fo?(e.includes(i)||e.push(i),!0):!1}const Sx=class bx{constructor(e){this.limiter=new ET(bx.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(PT),this.registerFindHook(RT),this.registerFindHook(ST),this.registerFindHook(bT),this.registerFindHook(TT),this.registerUploadHook(AT),this.registerUploadHook(CT)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,kr.system.addOnce(this.tick,this,xa.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let r=0,o=this.uploadHooks.length;r<o;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)kr.system.addOnce(this.tick,this,xa.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof cn)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&kr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};Sx.uploadsPerFrame=4;let Eg=Sx;Object.defineProperties(Be,{UPLOADS_PER_FRAME:{get(){return Eg.uploadsPerFrame},set(i){ct("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Eg.uploadsPerFrame=i}}});function Tx(i,e){return e instanceof it?(e._glTextures[i.CONTEXT_UID]||i.texture.bind(e),!0):!1}function IT(i,e){if(!(e instanceof mc))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:r}=t;for(let o=0;o<r.length;o++){const{texture:a}=r[o].style;a&&Tx(i,a.baseTexture)}return t.batchable||i.geometry.bind(t,e._resolveDirectShader(i)),!0}function MT(i,e){return i instanceof mc?(e.push(i),!0):!1}class Ax extends Eg{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(MT),this.registerUploadHook(Tx),this.registerUploadHook(IT)}}Ax.extension={name:"prepare",type:De.RendererSystem};Xe.add(Ax);class xc extends Is{constructor(e,t=!0){super(e[0]instanceof ke?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(kr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(kr.shared.add(this.update,this,xa.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let o=this._currentTime%1*this._durations[this.currentFrame];for(o+=t/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];const a=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let r=0;r<e.length;++r)t.push(ke.from(e[r]));return new xc(t)}static fromImages(e){const t=[];for(let r=0;r<e.length;++r)t.push(ke.from(e[r]));return new xc(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ke)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(kr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(kr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const ic=new dt;class Vg extends Is{constructor(e,t=100,r=100){super(e),this.tileTransform=new _f,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new Ug(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,o)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ot),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ic);const t=this._width,r=this._height,o=-t*this.anchor._x;if(ic.x>=o&&ic.x<o+t){const a=-r*this.anchor._y;if(ic.y>=a&&ic.y<a+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const r=e instanceof ke?e:ke.from(e,t);return new Vg(r,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var kT=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,DT=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,NT=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,D0=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,OT=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Dd=new zt;class Cx extends xf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new k_,this.state=Rs.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Ts.from(D0,OT,t),this.shader=e.context.webGLVersion>1?Ts.from(DT,kT,t):Ts.from(D0,NT,t)}render(e){const t=this.renderer,r=this.quad;let o=r.vertices;o[0]=o[6]=e._width*-e.anchor.x,o[1]=o[3]=e._height*-e.anchor.y,o[2]=o[4]=e._width*(1-e.anchor.x),o[5]=o[7]=e._height*(1-e.anchor.y);const a=e.uvRespectAnchor?e.anchor.x:0,c=e.uvRespectAnchor?e.anchor.y:0;o=r.uvs,o[0]=o[6]=-a,o[1]=o[3]=-c,o[2]=o[4]=1-a,o[5]=o[7]=1-c,r.invalidate();const d=e._texture,m=d.baseTexture,g=m.alphaMode>0,_=e.tileTransform.localTransform,w=e.uvMatrix;let S=m.isPowerOfTwo&&d.frame.width===m.width&&d.frame.height===m.height;S&&(m._glTextures[t.CONTEXT_UID]?S=m.wrapMode!==uo.CLAMP:m.wrapMode===uo.CLAMP&&(m.wrapMode=uo.REPEAT));const b=S?this.simpleShader:this.shader,A=d.width,I=d.height,P=e._width,k=e._height;Dd.set(_.a*A/P,_.b*A/k,_.c*I/P,_.d*I/k,_.tx/P,_.ty/k),Dd.invert(),S?Dd.prepend(w.mapCoord):(b.uniforms.uMapCoord=w.mapCoord.toArray(!0),b.uniforms.uClampFrame=w.uClampFrame,b.uniforms.uClampOffset=w.uClampOffset),b.uniforms.uTransform=Dd.toArray(!0),b.uniforms.uColor=Lt.shared.setValue(e.tint).premultiply(e.worldAlpha,g).toArray(b.uniforms.uColor),b.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),b.uniforms.uSampler=d,t.shader.bind(b),t.geometry.bind(r),this.state.blendMode=__(e.blendMode,g),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Cx.extension={name:"tilingSprite",type:De.RendererPlugin};Xe.add(Cx);const Px=class dc{constructor(e,t,r){this.linkedSheets=[],(e instanceof it||e instanceof ke)&&(e={texture:e,data:t,resolutionFilename:r});const{texture:o,data:a,resolutionFilename:c=null,cachePrefix:d=""}=e;this.cachePrefix=d,this._texture=o instanceof ke?o:null,this.baseTexture=o instanceof it?o:this._texture.baseTexture,this.textures={},this.animations={},this.data=a;const m=this.baseTexture.resource;this.resolution=this._updateResolution(c||(m?m.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let r=ho(e,null);return r===null&&(r=typeof t=="number"?t:parseFloat(t??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=dc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const r=dc.BATCH_SIZE;for(;t-e<r&&t<this._frameKeys.length;){const o=this._frameKeys[t],a=this._frames[o],c=a.frame;if(c){let d=null,m=null;const g=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,_=new ot(0,0,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution);a.rotated?d=new ot(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):d=new ot(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(m=new ot(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[o]=new ke(this.baseTexture,d,_,m,a.rotated?2:0,a.anchor,a.borders),ke.addToCache(this.textures[o],this.cachePrefix+o.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const o=e[t][r];this.animations[t].push(this.textures[o])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*dc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*dc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Px.BATCH_SIZE=1e3;let N0=Px;const FT=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function Rx(i,e,t){const r={};if(i.forEach(o=>{r[o]=e}),Object.keys(e.textures).forEach(o=>{r[`${e.cachePrefix}${o}`]=e.textures[o]}),!t){const o=Dr.dirname(i[0]);e.linkedSheets.forEach((a,c)=>{Object.assign(r,Rx([`${o}/${e.data.meta.related_multi_packs[c]}`],a,!0))})}return r}const BT={extension:De.Asset,cache:{test:i=>i instanceof N0,getCacheableAssets:(i,e)=>Rx(i,e,!1)},resolver:{test:i=>{const e=i.split("?")[0].split("."),t=e.pop(),r=e.pop();return t==="json"&&FT.includes(r)},parse:i=>{const e=i.split(".");return{resolution:parseFloat(Be.RETINA_PREFIX.exec(i)?.[1]??"1"),format:e[e.length-2],src:i}}},loader:{name:"spritesheetLoader",extension:{type:De.LoadParser,priority:Xi.Normal},async testParse(i,e){return Dr.extname(e.src).toLowerCase()===".json"&&!!i.frames},async parse(i,e,t){const{texture:r,imageFilename:o,cachePrefix:a}=e?.data??{};let c=Dr.dirname(e.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let d;if(r&&r.baseTexture)d=r;else{const _=yg(c+(o??i.meta.image),e.src);d=(await t.load([_]))[_]}const m=new N0({texture:d.baseTexture,data:i,resolutionFilename:e.src,cachePrefix:a});await m.parse();const g=i?.meta?.related_multi_packs;if(Array.isArray(g)){const _=[];for(const S of g){if(typeof S!="string")continue;let b=c+S;e.data?.ignoreMultiPack||(b=yg(b,e.src),_.push(t.load({src:b,data:{ignoreMultiPack:!0}})))}const w=await Promise.all(_);m.linkedSheets=w,w.forEach(S=>{S.linkedSheets=[m].concat(m.linkedSheets.filter(b=>b!==S))})}return m},unload(i){i.destroy(!0)}}};Xe.add(BT);class lf{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class $d{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const a in t){const c=t[a].match(/^[a-z]+/gm)[0],d=t[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),m={};for(const g in d){const _=d[g].split("="),w=_[0],S=_[1].replace(/"/gm,""),b=parseFloat(S),A=isNaN(b)?S:b;m[w]=A}r[c].push(m)}const o=new lf;return r.info.forEach(a=>o.info.push({face:a.face,size:parseInt(a.size,10)})),r.common.forEach(a=>o.common.push({lineHeight:parseInt(a.lineHeight,10)})),r.page.forEach(a=>o.page.push({id:parseInt(a.id,10),file:a.file})),r.char.forEach(a=>o.char.push({id:parseInt(a.id,10),page:parseInt(a.page,10),x:parseInt(a.x,10),y:parseInt(a.y,10),width:parseInt(a.width,10),height:parseInt(a.height,10),xoffset:parseInt(a.xoffset,10),yoffset:parseInt(a.yoffset,10),xadvance:parseInt(a.xadvance,10)})),r.kerning.forEach(a=>o.kerning.push({first:parseInt(a.first,10),second:parseInt(a.second,10),amount:parseInt(a.amount,10)})),r.distanceField.forEach(a=>o.distanceField.push({distanceRange:parseInt(a.distanceRange,10),fieldType:a.fieldType})),o}}class Sg{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new lf,r=e.getElementsByTagName("info"),o=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),c=e.getElementsByTagName("char"),d=e.getElementsByTagName("kerning"),m=e.getElementsByTagName("distanceField");for(let g=0;g<r.length;g++)t.info.push({face:r[g].getAttribute("face"),size:parseInt(r[g].getAttribute("size"),10)});for(let g=0;g<o.length;g++)t.common.push({lineHeight:parseInt(o[g].getAttribute("lineHeight"),10)});for(let g=0;g<a.length;g++)t.page.push({id:parseInt(a[g].getAttribute("id"),10)||0,file:a[g].getAttribute("file")});for(let g=0;g<c.length;g++){const _=c[g];t.char.push({id:parseInt(_.getAttribute("id"),10),page:parseInt(_.getAttribute("page"),10)||0,x:parseInt(_.getAttribute("x"),10),y:parseInt(_.getAttribute("y"),10),width:parseInt(_.getAttribute("width"),10),height:parseInt(_.getAttribute("height"),10),xoffset:parseInt(_.getAttribute("xoffset"),10),yoffset:parseInt(_.getAttribute("yoffset"),10),xadvance:parseInt(_.getAttribute("xadvance"),10)})}for(let g=0;g<d.length;g++)t.kerning.push({first:parseInt(d[g].getAttribute("first"),10),second:parseInt(d[g].getAttribute("second"),10),amount:parseInt(d[g].getAttribute("amount"),10)});for(let g=0;g<m.length;g++)t.distanceField.push({fieldType:m[g].getAttribute("fieldType"),distanceRange:parseInt(m[g].getAttribute("distanceRange"),10)});return t}}class bg{static test(e){return typeof e=="string"&&e.includes("<font>")?Sg.test(Be.ADAPTER.parseXML(e)):!1}static parse(e){return Sg.parse(Be.ADAPTER.parseXML(e))}}const Nm=[$d,Sg,bg];function LT(i){for(let e=0;e<Nm.length;e++)if(Nm[e].test(i))return Nm[e];return null}function UT(i,e,t,r,o,a){const c=t.fill;if(Array.isArray(c)){if(c.length===1)return c[0]}else return c;let d;const m=t.dropShadow?t.dropShadowDistance:0,g=t.padding||0,_=i.width/r-m-g*2,w=i.height/r-m-g*2,S=c.slice(),b=t.fillGradientStops.slice();if(!b.length){const A=S.length+1;for(let I=1;I<A;++I)b.push(I/A)}if(S.unshift(c[0]),b.unshift(0),S.push(c[c.length-1]),b.push(1),t.fillGradientType===Tf.LINEAR_VERTICAL){d=e.createLinearGradient(_/2,g,_/2,w+g);let A=0;const I=(a.fontProperties.fontSize+t.strokeThickness)/w;for(let P=0;P<o.length;P++){const k=a.lineHeight*P;for(let G=0;G<S.length;G++){let F=0;typeof b[G]=="number"?F=b[G]:F=G/S.length;const W=k/w+F*I;let U=Math.max(A,W);U=Math.min(U,1),d.addColorStop(U,S[G]),A=U}}}else{d=e.createLinearGradient(g,w/2,_+g,w/2);const A=S.length+1;let I=1;for(let P=0;P<S.length;P++){let k;typeof b[P]=="number"?k=b[P]:k=I/A,d.addColorStop(k,S[P]),I++}}return d}function zT(i,e,t,r,o,a,c){const d=t.text,m=t.fontProperties;e.translate(r,o),e.scale(a,a);const g=c.strokeThickness/2,_=-(c.strokeThickness/2);if(e.font=c.toFontString(),e.lineWidth=c.strokeThickness,e.textBaseline=c.textBaseline,e.lineJoin=c.lineJoin,e.miterLimit=c.miterLimit,e.fillStyle=UT(i,e,c,a,[d],t),e.strokeStyle=c.stroke,c.dropShadow){const w=c.dropShadowColor,S=c.dropShadowBlur*a,b=c.dropShadowDistance*a;e.shadowColor=Lt.shared.setValue(w).setAlpha(c.dropShadowAlpha).toRgbaString(),e.shadowBlur=S,e.shadowOffsetX=Math.cos(c.dropShadowAngle)*b,e.shadowOffsetY=Math.sin(c.dropShadowAngle)*b}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;c.stroke&&c.strokeThickness&&e.strokeText(d,g,_+t.lineHeight-m.descent),c.fill&&e.fillText(d,g,_+t.lineHeight-m.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Vd(i){return i.codePointAt?i.codePointAt(0):i.charCodeAt(0)}function Ix(i){return Array.from?Array.from(i):i.split("")}function GT(i){typeof i=="string"&&(i=[i]);const e=[];for(let t=0,r=i.length;t<r;t++){const o=i[t];if(Array.isArray(o)){if(o.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${o.length}.`);const a=o[0].charCodeAt(0),c=o[1].charCodeAt(0);if(c<a)throw new Error("[BitmapFont]: Invalid character range.");for(let d=a,m=c;d<=m;d++)e.push(String.fromCharCode(d))}else e.push(...Ix(o))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const ca=class ws{constructor(e,t,r){const[o]=e.info,[a]=e.common,[c]=e.page,[d]=e.distanceField,m=ho(c.file),g={};this._ownsTextures=r,this.font=o.face,this.size=o.size,this.lineHeight=a.lineHeight/m,this.chars={},this.pageTextures=g;for(let _=0;_<e.page.length;_++){const{id:w,file:S}=e.page[_];g[w]=t instanceof Array?t[_]:t[S],d?.fieldType&&d.fieldType!=="none"&&(g[w].baseTexture.alphaMode=Nn.NO_PREMULTIPLIED_ALPHA,g[w].baseTexture.mipmap=As.OFF)}for(let _=0;_<e.char.length;_++){const{id:w,page:S}=e.char[_];let{x:b,y:A,width:I,height:P,xoffset:k,yoffset:G,xadvance:F}=e.char[_];b/=m,A/=m,I/=m,P/=m,k/=m,G/=m,F/=m;const W=new ot(b+g[S].frame.x/m,A+g[S].frame.y/m,I,P);this.chars[w]={xOffset:k,yOffset:G,xAdvance:F,kerning:{},texture:new ke(g[S].baseTexture,W),page:S}}for(let _=0;_<e.kerning.length;_++){let{first:w,second:S,amount:b}=e.kerning[_];w/=m,S/=m,b/=m,this.chars[S]&&(this.chars[S].kerning[w]=b)}this.distanceFieldRange=d?.distanceRange,this.distanceFieldType=d?.fieldType?.toLowerCase()??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,r){let o;if(e instanceof lf)o=e;else{const c=LT(e);if(!c)throw new Error("Unrecognized data format for font.");o=c.parse(e)}t instanceof ke&&(t=[t]);const a=new ws(o,t,r);return ws.available[a.font]=a,a}static uninstall(e){const t=ws.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete ws.available[e]}static from(e,t,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:o,padding:a,resolution:c,textureWidth:d,textureHeight:m,...g}=Object.assign({},ws.defaultOptions,r),_=GT(o),w=t instanceof fo?t:new fo(t),S=d,b=new lf;b.info[0]={face:w.fontFamily,size:w.fontSize},b.common[0]={lineHeight:w.fontSize};let A=0,I=0,P,k,G,F=0;const W=[];for(let K=0;K<_.length;K++){P||(P=Be.ADAPTER.createCanvas(),P.width=d,P.height=m,k=P.getContext("2d"),G=new it(P,{resolution:c,...g}),W.push(new ke(G)),b.page.push({id:W.length-1,file:""}));const N=_[K],Z=pa.measureText(N,w,!1,P),ce=Z.width,pe=Math.ceil(Z.height),de=Math.ceil((w.fontStyle==="italic"?2:1)*ce);if(I>=m-pe*c){if(I===0)throw new Error(`[BitmapFont] textureHeight ${m}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${N}')`);--K,P=null,k=null,G=null,I=0,A=0,F=0;continue}if(F=Math.max(pe+Z.fontProperties.descent,F),de*c+A>=S){if(A===0)throw new Error(`[BitmapFont] textureWidth ${d}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${N}')`);--K,I+=F*c,I=Math.ceil(I),A=0,F=0;continue}zT(P,k,Z,A,I,c,w);const Q=Vd(Z.text);b.char.push({id:Q,page:W.length-1,x:A/c,y:I/c,width:de,height:pe,xoffset:0,yoffset:0,xadvance:ce-(w.dropShadow?w.dropShadowDistance:0)-(w.stroke?w.strokeThickness:0)}),A+=(de+2*a)*c,A=Math.ceil(A)}if(!r?.skipKerning)for(let K=0,N=_.length;K<N;K++){const Z=_[K];for(let ce=0;ce<N;ce++){const pe=_[ce],de=k.measureText(Z).width,Q=k.measureText(pe).width,se=k.measureText(Z+pe).width-(de+Q);se&&b.kerning.push({first:Vd(Z),second:Vd(pe),amount:se})}}const U=new ws(b,W,!0);return ws.available[e]!==void 0&&ws.uninstall(e),ws.available[e]=U,U}};ca.ALPHA=[["a","z"],["A","Z"]," "],ca.NUMERIC=[["0","9"]],ca.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],ca.ASCII=[[" ","~"]],ca.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:ca.ALPHANUMERIC},ca.available={};let da=ca;var HT=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,jT=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const O0=[],F0=[],B0=[],Mx=class kx extends cn{constructor(e,t={}){super();const{align:r,tint:o,maxWidth:a,letterSpacing:c,fontName:d,fontSize:m}=Object.assign({},kx.styleDefaults,t);if(!da.available[d])throw new Error(`Missing BitmapFont "${d}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new Lt(o),this._font=void 0,this._fontName=d,this._fontSize=m,this.text=e,this._maxWidth=a,this._maxLineHeight=0,this._letterSpacing=c,this._anchor=new Ss(()=>{this.dirty=!0},this,0,0),this._roundPixels=Be.ROUND_PIXELS,this.dirty=!0,this._resolution=Be.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const e=da.available[this._fontName],t=this.fontSize,r=t/e.size,o=new dt,a=[],c=[],d=[],m=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",g=Ix(m),_=this._maxWidth*e.size/t,w=e.distanceFieldType==="none"?O0:F0;let S=null,b=0,A=0,I=0,P=-1,k=0,G=0,F=0,W=0;for(let de=0;de<g.length;de++){const Q=g[de],se=Vd(Q);if(/(?:\s)/.test(Q)&&(P=de,k=b,W++),Q==="\r"||Q===`
`){c.push(b),d.push(-1),A=Math.max(A,b),++I,++G,o.x=0,o.y+=e.lineHeight,S=null,W=0;continue}const ae=e.chars[se];if(!ae)continue;S&&ae.kerning[S]&&(o.x+=ae.kerning[S]);const Re=B0.pop()||{texture:ke.EMPTY,line:0,charCode:0,prevSpaces:0,position:new dt};Re.texture=ae.texture,Re.line=I,Re.charCode=se,Re.position.x=Math.round(o.x+ae.xOffset+this._letterSpacing/2),Re.position.y=Math.round(o.y+ae.yOffset),Re.prevSpaces=W,a.push(Re),b=Re.position.x+Math.max(ae.xAdvance-ae.xOffset,ae.texture.orig.width),o.x+=ae.xAdvance+this._letterSpacing,F=Math.max(F,ae.yOffset+ae.texture.height),S=se,P!==-1&&_>0&&o.x>_&&(++G,Vu(a,1+P-G,1+de-P),de=P,P=-1,c.push(k),d.push(a.length>0?a[a.length-1].prevSpaces:0),A=Math.max(A,k),I++,o.x=0,o.y+=e.lineHeight,S=null,W=0)}const U=g[g.length-1];U!=="\r"&&U!==`
`&&(/(?:\s)/.test(U)&&(b=k),c.push(b),A=Math.max(A,b),d.push(-1));const K=[];for(let de=0;de<=I;de++){let Q=0;this._align==="right"?Q=A-c[de]:this._align==="center"?Q=(A-c[de])/2:this._align==="justify"&&(Q=d[de]<0?0:(A-c[de])/d[de]),K.push(Q)}const N=a.length,Z={},ce=[],pe=this._activePagesMeshData;w.push(...pe);for(let de=0;de<N;de++){const Q=a[de].texture,se=Q.baseTexture.uid;if(!Z[se]){let ae=w.pop();if(!ae){const B=new bf;let L,C;e.distanceFieldType==="none"?(L=new _c(ke.EMPTY),C=et.NORMAL):(L=new _c(ke.EMPTY,{program:ao.from(jT,HT),uniforms:{uFWidth:0}}),C=et.NORMAL_NPM);const H=new vc(B,L);H.blendMode=C,ae={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:H,vertices:null,uvs:null,indices:null}}ae.index=0,ae.indexCount=0,ae.vertexCount=0,ae.uvsCount=0,ae.total=0;const{_textureCache:Re}=this;Re[se]=Re[se]||new ke(Q.baseTexture),ae.mesh.texture=Re[se],ae.mesh.tint=this._tintColor.value,ce.push(ae),Z[se]=ae}Z[se].total++}for(let de=0;de<pe.length;de++)ce.includes(pe[de])||this.removeChild(pe[de].mesh);for(let de=0;de<ce.length;de++)ce[de].mesh.parent!==this&&this.addChild(ce[de].mesh);this._activePagesMeshData=ce;for(const de in Z){const Q=Z[de],se=Q.total;if(!(Q.indices?.length>6*se)||Q.vertices.length<vc.BATCHABLE_SIZE*2)Q.vertices=new Float32Array(8*se),Q.uvs=new Float32Array(8*se),Q.indices=new Uint16Array(6*se);else{const ae=Q.total,Re=Q.vertices;for(let B=ae*4*2;B<Re.length;B++)Re[B]=0}Q.mesh.size=6*se}for(let de=0;de<N;de++){const Q=a[de];let se=Q.position.x+K[Q.line]*(this._align==="justify"?Q.prevSpaces:1);this._roundPixels&&(se=Math.round(se));const ae=se*r,Re=Q.position.y*r,B=Q.texture,L=Z[B.baseTexture.uid],C=B.frame,H=B._uvs,D=L.index++;L.indices[D*6+0]=0+D*4,L.indices[D*6+1]=1+D*4,L.indices[D*6+2]=2+D*4,L.indices[D*6+3]=0+D*4,L.indices[D*6+4]=2+D*4,L.indices[D*6+5]=3+D*4,L.vertices[D*8+0]=ae,L.vertices[D*8+1]=Re,L.vertices[D*8+2]=ae+C.width*r,L.vertices[D*8+3]=Re,L.vertices[D*8+4]=ae+C.width*r,L.vertices[D*8+5]=Re+C.height*r,L.vertices[D*8+6]=ae,L.vertices[D*8+7]=Re+C.height*r,L.uvs[D*8+0]=H.x0,L.uvs[D*8+1]=H.y0,L.uvs[D*8+2]=H.x1,L.uvs[D*8+3]=H.y1,L.uvs[D*8+4]=H.x2,L.uvs[D*8+5]=H.y2,L.uvs[D*8+6]=H.x3,L.uvs[D*8+7]=H.y3}this._textWidth=A*r,this._textHeight=(o.y+e.lineHeight)*r;for(const de in Z){const Q=Z[de];if(this.anchor.x!==0||this.anchor.y!==0){let B=0;const L=this._textWidth*this.anchor.x,C=this._textHeight*this.anchor.y;for(let H=0;H<Q.total;H++)Q.vertices[B++]-=L,Q.vertices[B++]-=C,Q.vertices[B++]-=L,Q.vertices[B++]-=C,Q.vertices[B++]-=L,Q.vertices[B++]-=C,Q.vertices[B++]-=L,Q.vertices[B++]-=C}this._maxLineHeight=F*r;const se=Q.mesh.geometry.getBuffer("aVertexPosition"),ae=Q.mesh.geometry.getBuffer("aTextureCoord"),Re=Q.mesh.geometry.getIndex();se.data=Q.vertices,ae.data=Q.uvs,Re.data=Q.indices,se.update(),ae.update(),Re.update()}for(let de=0;de<a.length;de++)B0.push(a[de]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:r,size:o}=da.available[this._fontName];if(r!=="none"){const{a,b:c,c:d,d:m}=this.worldTransform,g=Math.sqrt(a*a+c*c),_=Math.sqrt(d*d+m*m),w=(Math.abs(g)+Math.abs(_))/2,S=this.fontSize/o,b=e._view.resolution;for(const A of this._activePagesMeshData)A.mesh.shader.uniforms.uFWidth=w*t*S*b}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=da.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!da.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??da.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,r=da.available[this._fontName].distanceFieldType==="none"?O0:F0;r.push(...this._activePagesMeshData);for(const o of this._activePagesMeshData)this.removeChild(o.mesh);this._activePagesMeshData=[],r.filter(o=>t[o.mesh.texture.baseTexture.uid]).forEach(o=>{o.mesh.texture=ke.EMPTY});for(const o in t)t[o].destroy(),delete t[o];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};Mx.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let WT=Mx;const $T=[".xml",".fnt"],VT={extension:{type:De.LoadParser,priority:Xi.Normal},name:"loadBitmapFont",test(i){return $T.includes(Dr.extname(i).toLowerCase())},async testParse(i){return $d.test(i)||bg.test(i)},async parse(i,e,t){const r=$d.test(i)?$d.parse(i):bg.parse(i),{src:o}=e,{page:a}=r,c=[];for(let g=0;g<a.length;++g){const _=a[g].file;let w=Dr.join(Dr.dirname(o),_);w=yg(w,o),c.push(w)}const d=await t.load(c),m=c.map(g=>d[g]);return da.install(r,m,!0)},async load(i,e){return(await Be.ADAPTER.fetch(i)).text()},unload(i){i.destroy()}};Xe.add(VT);const Tg=class Gu extends fo{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Gu(Object.keys(Gu.defaultOptions).reduce((t,r)=>({...t,[r]:e[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Gu.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:r}=Gu;if(r[e]){const o=r[e];return this._fonts.push(o),o.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Be.ADAPTER.fetch(e).then(o=>o.blob()).then(async o=>new Promise((a,c)=>{const d=URL.createObjectURL(o),m=new FileReader;m.onload=()=>a([d,m.result]),m.onerror=c,m.readAsDataURL(o)})).then(async([o,a])=>{const c=Object.assign({family:Dr.basename(e,Dr.extname(e)),weight:"normal",style:"normal",display:"auto",src:o,dataSrc:a,refs:1,originalUrl:e,fontFace:null},t);r[e]=c,this._fonts.push(c),this.styleID++;const d=new FontFace(c.family,`url(${c.src})`,{weight:c.weight,style:c.style,display:c.display});c.fontFace=d,await d.load(),document.fonts.add(d),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(r=>!this._overrides.includes(r));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(r=>this._overrides.includes(r));t.length>0&&(this._overrides=this._overrides.filter(r=>!t.includes(r)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Iw(e)),typeof e=="number"?Rw(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),o=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const a=`${r}px ${o}px`;return this.dropShadowBlur>0?`text-shadow: ${a} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${a} ${e}`}reset(){Object.assign(this,Gu.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Be.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Tg.availableFonts={},Tg.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Om=Tg;const Nd=class Hu extends Is{constructor(e="",t={}){super(ke.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const r=new Image,o=ke.from(r,{scaleMode:Be.SCALE_MODE,resourceOptions:{autoLoad:!1}});o.orig=new ot,o.trim=new ot,this.texture=o;const a="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",d=document.createElementNS(a,"svg"),m=document.createElementNS(a,"foreignObject"),g=document.createElementNS(c,"div"),_=document.createElementNS(c,"style");m.setAttribute("width","10000"),m.setAttribute("height","10000"),m.style.overflow="hidden",d.appendChild(m),this.maxWidth=Hu.defaultMaxWidth,this.maxHeight=Hu.defaultMaxHeight,this._domElement=g,this._styleElement=_,this._svgRoot=d,this._foreignObject=m,this._foreignObject.appendChild(_),this._foreignObject.appendChild(g),this._image=r,this._loadImage=new Image,this._autoResolution=Hu.defaultAutoResolution,this._resolution=Hu.defaultResolution??Be.RESOLUTION,this.text=e,this.style=t}measureText(e){const{text:t,style:r,resolution:o}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(o)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const a=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:c,height:d}=a;(c>this.maxWidth||d>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const m=Math.min(this.maxWidth,Math.ceil(c)),g=Math.min(this.maxHeight,Math.ceil(d));return this._svgRoot.setAttribute("width",m.toString()),this._svgRoot.setAttribute("height",g.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(o)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:m+r.padding*2,height:g+r.padding*2}}async updateText(e=!0){const{style:t,_image:r,_loadImage:o}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:a,height:c}=this.measureText();r.width=o.width=Math.ceil(Math.max(1,a)),r.height=o.height=Math.ceil(Math.max(1,c)),this._updateID++;const d=this._updateID;await new Promise(m=>{o.onload=async()=>{if(d<this._updateID){m();return}await t.onBeforeDraw(),r.src=o.src,o.onload=null,o.src="",this.updateTexture(),m()};const g=new XMLSerializer().serializeToString(this._svgRoot);o.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(g)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:r,resolution:o}=this,{padding:a}=e,{baseTexture:c}=t;t.trim.width=t._frame.width=r.width/o,t.trim.height=t._frame.height=r.height/o,t.trim.x=-a,t.trim.y=-a,t.orig.width=t._frame.width-a*2,t.orig.height=t._frame.height-a*2,this._onTextureUpdate(),c.setRealSize(r.width,r.height,o),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Hu.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=t,this._svgRoot?.remove(),this._svgRoot=t,this._domElement?.remove(),this._domElement=t,this._foreignObject?.remove(),this._foreignObject=t,this._styleElement?.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=ga(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=ga(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Om?(this.ownsStyle=!1,this._style=e):e instanceof fo?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Om.from(e)):(this.ownsStyle=!0,this._style=new Om(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Nd.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Nd.defaultMaxWidth=2024,Nd.defaultMaxHeight=2024,Nd.defaultAutoResolution=!0;var gc={exports:{}},Fm={exports:{}},Bm,L0;function XT(){if(L0)return Bm;L0=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bm=i,Bm}var Lm,U0;function YT(){if(U0)return Lm;U0=1;var i=XT();function e(){}function t(){}return t.resetWarningCache=e,Lm=function(){function r(c,d,m,g,_,w){if(w!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Lm}var z0;function qT(){return z0||(z0=1,Fm.exports=YT()()),Fm.exports}var QT=qT();const Ut=df(QT);function Qn(i){return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(i)}function Dx(i){var e=(function(t,r){if(Qn(t)!=="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var a=o.call(t,r);if(Qn(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)})(i,"string");return Qn(e)==="symbol"?e:String(e)}function ur(i,e,t){return(e=Dx(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Um(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function po(i){return(function(e){if(Array.isArray(e))return Um(e)})(i)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(i)||(function(e,t){if(e){if(typeof e=="string")return Um(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Um(e,t):void 0}})(i)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function nr(i,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o]}var KT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var JT=function(i){return i==null};function fc(i){var e=[];if(i===void 0)return e;if(typeof i=="string")e=i.split(",");else if(typeof i=="number")e=[i];else if(Array.isArray(i))e=po(i);else{if(i===null||Qn(i)!=="object")return e;e=[i&&i?.x||0,i&&i?.y||0]}return e.filter((function(t){return!JT(t)&&!isNaN(t)})).map(Number)}function G0(i,e){if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function zm(i){return i instanceof dt||i instanceof Ss}var uf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Gm(i,e,t){if(zm(i[e])&&zm(t))i[e].copyFrom(t);else if(zm(i[e])){var r=fc(t);nr(r!==void 0&&r.length>0&&r.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),Qn(t)),i[e].set(r.shift(),r.shift())}else i[e]=t}var Ou,Nx=function(i){var e,t=i;if(!Array.isArray(t)){if(e=i,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(i)}var r={};return t.forEach((function(o){r[o]=!0})),function(o){return r[o]!==void 0}},Ox=function(i){return function(){return!i.apply(void 0,arguments)}},Ag="children",eA=(ur(Ou={},Ag,!0),ur(Ou,"parent",!0),ur(Ou,"worldAlpha",!0),ur(Ou,"worldTransform",!0),ur(Ou,"worldVisible",!0),Ou),Cg={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Cs=function(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(d){return requestAnimationFrame((function(){var m,g;d==null||(m=d.__reactpixi)===null||m===void 0||(g=m.root)===null||g===void 0||g.emit("__REACT_PIXI_REQUEST_RENDER__")}))},o=function(d,m){if(t.hasOwnProperty(d))return nr(m.typeofs.some((function(g){return Qn(t[d])===g}))||m.instanceofs.some((function(g){return t[d]instanceof g})),"".concat(i," ").concat(d," prop is invalid")),t[d]};if(t.texture)return nr(t.texture instanceof ke,"".concat(i," texture needs to be typeof `Texture`")),t.texture;var a=o("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||o("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||o("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ke]});nr(!!a,"".concat(i," could not get texture from props"));var c=ke.from(a);return c.__reactpixi={root:e},c.once("update",r),c.once("loaded",r),c.valid&&r(c),c},tA=Ox(Nx([].concat(po(Object.keys(eA)),po(uf))));function Ps(i,e,t){var r=!1;if(nr($t.prototype.isPrototypeOf(i),"instance needs to be typeof `DisplayObject`, got `%s`",Qn(i)),!t.ignoreEvents)for(var o=typeof i.removeListener=="function",a=typeof i.on=="function",c=0;c<uf.length;c++){var d=uf[c];e[d]!==t[d]&&(r=!0,typeof e[d]=="function"&&o&&i.removeListener(d,e[d]),typeof t[d]=="function"&&a&&i.on(d,t[d]))}var m=Object.keys(t||{});if(t.overwriteProps){for(var g=0;g<m.length;g++){var _=m[g];e[_]!==t[_]&&(r=!0,Gm(i,_,t[_]))}return r}for(var w=m.filter(tA),S=0;S<w.length;S++){var b=w[S],A=t[b];t[b]!==e[b]&&(r=!0),A!==void 0?Gm(i,b,A):b in Cg?(console.warn("setting default value: ".concat(b,", from: ").concat(i[b]," to: ").concat(A," for"),i),r=!0,Gm(i,b,Cg[b])):console.warn("ignoring prop: ".concat(b,", from ").concat(i[b]," to ").concat(A," for"),i)}return r}var rA=function(i,e){var t=e.text,r=e.style;return new WT(t,r)},nA=function(){return new cn};function Ea(i,e){if(i==null)return{};var t,r,o=(function(c,d){if(c==null)return{};var m,g,_={},w=Object.keys(c);for(g=0;g<w.length;g++)m=w[g],d.indexOf(m)>=0||(_[m]=c[m]);return _})(i,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(i,t)&&(o[t]=i[t])}return o}var iA=["draw","geometry"],sA=function(i,e){var t=e.geometry;nr(!t||t instanceof mc,"Graphics geometry needs to be a `Graphics`");var r=t?new mc(t.geometry):new mc;return r.applyProps=function(o,a,c){var d=c.draw;c.geometry;var m=Ps(o,a,Ea(c,iA));return a.draw!==d&&typeof d=="function"&&(m=!0,d.call(r,r)),m},r},oA=["image","texture"],aA=function(i,e){var t=e.leftWidth,r=t===void 0?10:t,o=e.topHeight,a=o===void 0?10:o,c=e.rightWidth,d=c===void 0?10:c,m=e.bottomHeight,g=m===void 0?10:m,_=Cs("NineSlicePlane",i,e),w=new fT(_,r,a,d,g);return w.applyProps=function(S,b,A){var I=A.image,P=A.texture,k=Ps(S,b,Ea(A,oA));return(I||P)&&(P!==b.texture&&(k=!0),S.texture=Cs("NineSlicePlane",i,A)),k},w};function H0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),t.push.apply(t,r)}return t}function Od(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H0(Object(t),!0).forEach((function(r){ur(i,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):H0(Object(t)).forEach((function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))}))}return i}var lA=function(i,e){var t=e.maxSize,r=t===void 0?1500:t,o=e.batchSize,a=o===void 0?16384:o,c=e.autoResize,d=c!==void 0&&c,m=Od(Od({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),g=Od(Od({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),_=new gT(r,m,a,d);return _.willUnmount=function(w,S,b){w.destroy(g)},_},uA=["image","texture"],hA=function(i,e){var t=new Is(Cs("Sprite",i,e));return t.applyProps=function(r,o,a){var c=a.image,d=a.texture,m=Ps(r,o,Ea(a,uA));return(d&&o.texture!==a.texture||c&&o.image!==a.image)&&(o.texture!==a.texture&&(m=!0),r.texture=Cs("Sprite",i,a)),m},t},cA=["textures","isPlaying","initialFrame","images"],dA=function(i,e){var t=e.textures,r=e.images,o=e.isPlaying,a=o===void 0||o,c=e.initialFrame,d=function(g){return g.map((function(_){return nr(_ instanceof ke||_?.texture,"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),_}))},m=r?xc.fromImages(r):new xc(d(t));return m[a?"gotoAndPlay":"gotoAndStop"](c||0),m.applyProps=function(g,_,w){var S=w.textures,b=w.isPlaying,A=w.initialFrame,I=w.images,P=Ps(g,_,Ea(w,cA));if(I&&_.images!==I){for(var k=[],G=0;G<I.length;++G)k.push(ke.from(I[G]));g.textures=k,P=!0}if(S&&_.textures!==S&&(g.textures=d(S),P=!0),b!==_.isPlaying||A!==_.initialFrame){var F=typeof A=="number"?A:m.currentFrame||0;m[b?"gotoAndPlay":"gotoAndStop"](F),P=!0}return P},m},fA=function(i,e){var t=e.text,r=t===void 0?"":t,o=e.style,a=o===void 0?{}:o,c=e.isSprite,d=new $g(r,a);return c?(d.updateText(),new Is(d.texture)):d},pA=["tileScale","tilePosition","image","texture"],mA=function(i,e){var t=e.width,r=t===void 0?100:t,o=e.height,a=o===void 0?100:o,c=Cs("TilingSprite",i,e),d=new Vg(c,r,a);return d.applyProps=function(m,g,_){var w=_.tileScale,S=_.tilePosition,b=_.image,A=_.texture,I=Ps(m,g,Ea(_,pA));if(S){var P,k=fc(S);(P=m.tilePosition).set.apply(P,po(k)),I=!G0(fc(g.tilePosition),k)||I}if(w){var G,F=fc(w);(G=m.tileScale).set.apply(G,po(F)),I=!G0(fc(g.tileScale),F)||I}return(b||A)&&(A!==g.texture&&(I=!0),m.texture=Cs("Sprite",i,_)),I},d},gA=["image","texture"],yA=function(i,e){var t=Cs("Mesh",i,e),r=e.vertices,o=e.uvs,a=e.indices,c=e.drawMode,d=c===void 0?ji.TRIANGLES:c,m=new pT(t,r,o,a,d);return m.applyProps=function(g,_,w){var S=w.image,b=w.texture,A=Ps(g,_,Ea(w,gA));return(S||b)&&(b!==_.texture&&(A=!0),g.texture=Cs("Mesh",i,w)),A},m},vA=["image","texture"],_A=function(i,e){var t=Cs("SimpleRope",i,e),r=e.points,o=new mT(t,r);return o.applyProps=function(a,c,d){var m=d.image,g=d.texture,_=Ea(d,vA);nr(Array.isArray(d.points),"SimpleRope points needs to be %s","Array<Point>");var w=Ps(a,c,_);return(m||g)&&(g!==c.texture&&(w=!0),a.texture=Cs("SimpleRope",i,d)),w},o},xA=Object.freeze({__proto__:null,BitmapText:rA,Container:nA,Graphics:sA,NineSlicePlane:aA,ParticleContainer:lA,Sprite:hA,Text:fA,TilingSprite:mA,SimpleMesh:yA,SimpleRope:_A,AnimatedSprite:dA});function j0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),t.push.apply(t,r)}return t}function W0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j0(Object(t),!0).forEach((function(r){ur(i,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):j0(Object(t)).forEach((function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))}))}return i}var On={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},wA=Object.keys(On).reduce((function(i,e){return W0(W0({},i),{},ur({},e,xA[e]))}),{}),Fx={};function EA(i,e){return nr(!!i,"Expect type to be defined, got `%s`",i),nr(!On[i],"Component `%s` could not be created, already exists in default components.",i),Fx[i]=e,i}var $0,V0,X0,Y0,Pg={},Rg={},SA={get exports(){return Rg},set exports(i){Rg=i}},q0={};function bA(){return V0||(V0=1,SA.exports=($0||($0=1,(function(i){function e(C,H){var D=C.length;C.push(H);e:for(;0<D;){var M=D-1>>>1,z=C[M];if(!(0<o(z,H)))break e;C[M]=H,C[D]=z,D=M}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var H=C[0],D=C.pop();if(D!==H){C[0]=D;e:for(var M=0,z=C.length,X=z>>>1;M<X;){var ne=2*(M+1)-1,ue=C[ne],me=ne+1,xe=C[me];if(0>o(ue,D))me<z&&0>o(xe,ue)?(C[M]=xe,C[me]=D,M=me):(C[M]=ue,C[ne]=D,M=ne);else{if(!(me<z&&0>o(xe,D)))break e;C[M]=xe,C[me]=D,M=me}}}return H}function o(C,H){var D=C.sortIndex-H.sortIndex;return D!==0?D:C.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,w=null,S=3,b=!1,A=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function F(C){for(var H=t(g);H!==null;){if(H.callback===null)r(g);else{if(!(H.startTime<=C))break;r(g),H.sortIndex=H.expirationTime,e(m,H)}H=t(g)}}function W(C){if(I=!1,F(C),!A)if(t(m)!==null)A=!0,B(U);else{var H=t(g);H!==null&&L(W,H.startTime-C)}}function U(C,H){A=!1,I&&(I=!1,k(ce),ce=-1),b=!0;var D=S;try{for(F(H),w=t(m);w!==null&&(!(w.expirationTime>H)||C&&!Q());){var M=w.callback;if(typeof M=="function"){w.callback=null,S=w.priorityLevel;var z=M(w.expirationTime<=H);H=i.unstable_now(),typeof z=="function"?w.callback=z:w===t(m)&&r(m),F(H)}else r(m);w=t(m)}if(w!==null)var X=!0;else{var ne=t(g);ne!==null&&L(W,ne.startTime-H),X=!1}return X}finally{w=null,S=D,b=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var K,N=!1,Z=null,ce=-1,pe=5,de=-1;function Q(){return!(i.unstable_now()-de<pe)}function se(){if(Z!==null){var C=i.unstable_now();de=C;var H=!0;try{H=Z(!0,C)}finally{H?K():(N=!1,Z=null)}}else N=!1}if(typeof G=="function")K=function(){G(se)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Re=ae.port2;ae.port1.onmessage=se,K=function(){Re.postMessage(null)}}else K=function(){P(se,0)};function B(C){Z=C,N||(N=!0,K())}function L(C,H){ce=P((function(){C(i.unstable_now())}),H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_continueExecution=function(){A||b||(A=!0,B(U))},i.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<C?Math.floor(1e3/C):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return t(m)},i.unstable_next=function(C){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var D=S;S=H;try{return C()}finally{S=D}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=S;S=C;try{return H()}finally{S=D}},i.unstable_scheduleCallback=function(C,H,D){var M=i.unstable_now();switch(D=typeof D=="object"&&D!==null&&typeof(D=D.delay)=="number"&&0<D?M+D:M,C){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return C={id:_++,callback:H,priorityLevel:C,startTime:D,expirationTime:z=D+z,sortIndex:-1},D>M?(C.sortIndex=D,e(g,C),t(m)===null&&C===t(g)&&(I?(k(ce),ce=-1):I=!0,L(W,D-M))):(C.sortIndex=z,e(m,C),A||b||(A=!0,B(U))),C},i.unstable_shouldYield=Q,i.unstable_wrapCallback=function(C){var H=S;return function(){var D=S;S=H;try{return C.apply(this,arguments)}finally{S=D}}}})(q0)),q0)),Rg}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function TA(){return Y0||(Y0=1,X0=function(i){var e={},t=lo,r=bA(),o=Object.assign;function a(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),b=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),W=Symbol.iterator;function U(l){return l===null||typeof l!="object"?null:typeof(l=W&&l[W]||l["@@iterator"])=="function"?l:null}function K(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case g:return"Fragment";case m:return"Portal";case w:return"Profiler";case _:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case b:return(l.displayName||"Context")+".Consumer";case S:return(l._context.displayName||"Context")+".Provider";case A:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case k:return(u=l.displayName||null)!==null?u:K(l.type)||"Memo";case G:u=l._payload,l=l._init;try{return K(l(u))}catch{}}return null}function N(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(u);case 8:return u===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Z(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do(4098&(u=l).flags)!=0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function ce(l){if(Z(l)!==l)throw Error(a(188))}function pe(l){var u=l.alternate;if(!u){if((u=Z(l))===null)throw Error(a(188));return u!==l?null:l}for(var p=l,v=u;;){var x=p.return;if(x===null)break;var T=x.alternate;if(T===null){if((v=x.return)!==null){p=v;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===p)return ce(x),l;if(T===v)return ce(x),u;T=T.sibling}throw Error(a(188))}if(p.return!==v.return)p=x,v=T;else{for(var O=!1,V=x.child;V;){if(V===p){O=!0,p=x,v=T;break}if(V===v){O=!0,v=x,p=T;break}V=V.sibling}if(!O){for(V=T.child;V;){if(V===p){O=!0,p=T,v=x;break}if(V===v){O=!0,v=T,p=x;break}V=V.sibling}if(!O)throw Error(a(189))}}if(p.alternate!==v)throw Error(a(190))}if(p.tag!==3)throw Error(a(188));return p.stateNode.current===p?l:u}function de(l){return(l=pe(l))!==null?Q(l):null}function Q(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Q(l);if(u!==null)return u;l=l.sibling}return null}function se(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=se(l);if(u!==null)return u}l=l.sibling}return null}var ae,Re=Array.isArray,B=i.getPublicInstance,L=i.getRootHostContext,C=i.getChildHostContext,H=i.prepareForCommit,D=i.resetAfterCommit,M=i.createInstance,z=i.appendInitialChild,X=i.finalizeInitialChildren,ne=i.prepareUpdate,ue=i.shouldSetTextContent,me=i.createTextInstance,xe=i.scheduleTimeout,Te=i.cancelTimeout,Pe=i.noTimeout,ve=i.isPrimaryRenderer,Me=i.supportsMutation,Ue=i.supportsPersistence,We=i.supportsHydration,at=i.getInstanceFromNode,He=i.preparePortalMount,$e=i.getCurrentEventPriority,Mt=i.detachDeletedInstance,Gt=i.supportsMicrotasks,Kn=i.scheduleMicrotask,cr=i.supportsTestSelectors,dr=i.findFiberRoot,Zn=i.getBoundingRect,fi=i.getTextContent,Zr=i.isHiddenSubtree,Bl=i.matchAccessibilityRole,Ll=i.setFocusIfFocusable,mo=i.setupIntersectionObserver,go=i.appendChild,Yi=i.appendChildToContainer,pi=i.commitTextUpdate,qi=i.commitMount,eh=i.commitUpdate,Ul=i.insertBefore,yo=i.insertInContainerBefore,vo=i.removeChild,te=i.removeChildFromContainer,ie=i.resetTextContent,ut=i.hideInstance,_t=i.hideTextInstance,Et=i.unhideInstance,tt=i.unhideTextInstance,Nr=i.clearContainer,Jn=i.cloneInstance,gr=i.createContainerChildSet,dn=i.appendChildToContainerChildSet,_o=i.finalizeContainerChildren,Fn=i.replaceContainerChildren,Sr=i.cloneHiddenInstance,xo=i.cloneHiddenTextInstance,Qi=i.canHydrateInstance,wo=i.canHydrateTextInstance,Bn=i.canHydrateSuspenseInstance,Eo=i.isSuspenseInstancePending,fn=i.isSuspenseInstanceFallback,Ki=i.getSuspenseInstanceFallbackErrorDetails,Zi=i.registerSuspenseInstanceRetry,mi=i.getNextHydratableSibling,zl=i.getFirstHydratableChild,Sa=i.getFirstHydratableChildWithinContainer,Gl=i.getFirstHydratableChildWithinSuspenseInstance,Ln=i.hydrateInstance,ba=i.hydrateTextInstance,Hl=i.hydrateSuspenseInstance,Ta=i.getNextHydratableInstanceAfterSuspenseInstance,gi=i.commitHydratedContainer,Ms=i.commitHydratedSuspenseInstance,jl=i.clearSuspenseBoundary,Aa=i.clearSuspenseBoundaryFromContainer,Cf=i.shouldDeleteUnhydratedTailInstances,Pf=i.didNotMatchHydratedContainerTextInstance,Vt=i.didNotMatchHydratedTextInstance;function Ca(l){if(ae===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);ae=u&&u[1]||""}return`
`+ae+l}var Pa=!1;function Wl(l,u){if(!l||Pa)return"";Pa=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(he){var v=he}Reflect.construct(l,[],u)}else{try{u.call()}catch(he){v=he}l.call(u.prototype)}else{try{throw Error()}catch(he){v=he}l()}}catch(he){if(he&&v&&typeof he.stack=="string"){for(var x=he.stack.split(`
`),T=v.stack.split(`
`),O=x.length-1,V=T.length-1;1<=O&&0<=V&&x[O]!==T[V];)V--;for(;1<=O&&0<=V;O--,V--)if(x[O]!==T[V]){if(O!==1||V!==1)do if(O--,0>--V||x[O]!==T[V]){var ee=`
`+x[O].replace(" at new "," at ");return l.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",l.displayName)),ee}while(1<=O&&0<=V);break}}}finally{Pa=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?Ca(l):""}var $l=Object.prototype.hasOwnProperty,th=[],ks=-1;function Un(l){return{current:l}}function ft(l){0>ks||(l.current=th[ks],th[ks]=null,ks--)}function At(l,u){ks++,th[ks]=l.current,l.current=u}var fr={},br=Un(fr),Gr=Un(!1),Ds=fr;function yi(l,u){var p=l.type.contextTypes;if(!p)return fr;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var x,T={};for(x in p)T[x]=u[x];return v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=T),T}function Tr(l){return(l=l.childContextTypes)!=null}function Ns(){ft(Gr),ft(br)}function Ra(l,u,p){if(br.current!==fr)throw Error(a(168));At(br,u),At(Gr,p)}function Tc(l,u,p){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return p;for(var x in v=v.getChildContext())if(!(x in u))throw Error(a(108,N(l)||"Unknown",x));return o({},p,v)}function Vl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||fr,Ds=br.current,At(br,l),At(Gr,Gr.current),!0}function Xl(l,u,p){var v=l.stateNode;if(!v)throw Error(a(169));p?(l=Tc(l,u,Ds),v.__reactInternalMemoizedMergedChildContext=l,ft(Gr),ft(br),At(br,l)):ft(Gr),At(Gr,p)}var pn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(rh(l)/Ia|0)|0},rh=Math.log,Ia=Math.LN2,nh=64,Ma=4194304;function pt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ka(l,u){var p=l.pendingLanes;if(p===0)return 0;var v=0,x=l.suspendedLanes,T=l.pingedLanes,O=268435455&p;if(O!==0){var V=O&~x;V!==0?v=pt(V):(T&=O)!==0&&(v=pt(T))}else(O=p&~x)!==0?v=pt(O):T!==0&&(v=pt(T));if(v===0)return 0;if(u!==0&&u!==v&&(u&x)==0&&((x=v&-v)>=(T=u&-u)||x===16&&(4194240&T)!=0))return u;if((4&v)!=0&&(v|=16&p),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=v;0<u;)x=1<<(p=31-pn(u)),v|=l[p],u&=~x;return v}function Ac(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Da(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function ih(){var l=nh;return(4194240&(nh<<=1))==0&&(nh=64),l}function Yl(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function So(l,u,p){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-pn(u)]=p}function Na(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var v=31-pn(p),x=1<<v;x&u|l[v]&u&&(l[v]|=u),p&=~x}}var ht=0;function vi(l){return 1<(l&=-l)?4<l?(268435455&l)!=0?16:536870912:4:1}var ei=r.unstable_scheduleCallback,_i=r.unstable_cancelCallback,Oa=r.unstable_shouldYield,Fa=r.unstable_requestPaint,kt=r.unstable_now,sh=r.unstable_ImmediatePriority,Cc=r.unstable_UserBlockingPriority,bo=r.unstable_NormalPriority,Rf=r.unstable_IdlePriority,Ba=null,Jr=null,mn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},xi=null,Ji=!1,Os=!1;function Fs(l){xi===null?xi=[l]:xi.push(l)}function en(){if(!Os&&xi!==null){Os=!0;var l=0,u=ht;try{var p=xi;for(ht=1;l<p.length;l++){var v=p[l];do v=v(!0);while(v!==null)}xi=null,Ji=!1}catch(x){throw xi!==null&&(xi=xi.slice(l+1)),ei(sh,en),x}finally{ht=u,Os=!1}}return null}var To=[],Ao=0,Co=null,Bs=0,Hr=[],tn=0,jr=null,gn=1,yn="";function es(l,u){To[Ao++]=Bs,To[Ao++]=Co,Co=l,Bs=u}function La(l,u,p){Hr[tn++]=gn,Hr[tn++]=yn,Hr[tn++]=jr,jr=l;var v=gn;l=yn;var x=32-pn(v)-1;v&=~(1<<x),p+=1;var T=32-pn(u)+x;if(30<T){var O=x-x%5;T=(v&(1<<O)-1).toString(32),v>>=O,x-=O,gn=1<<32-pn(u)+x|p<<x|v,yn=T+l}else gn=1<<T|p<<x|v,yn=l}function Po(l){l.return!==null&&(es(l,1),La(l,1,0))}function ql(l){for(;l===Co;)Co=To[--Ao],To[Ao]=null,Bs=To[--Ao],To[Ao]=null;for(;l===jr;)jr=Hr[--tn],Hr[tn]=null,yn=Hr[--tn],Hr[tn]=null,gn=Hr[--tn],Hr[tn]=null}var Dt=null,yr=null,Ct=!1,wi=!1,zn=null;function Ql(l,u){var p=ln(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=l,(u=l.deletions)===null?(l.deletions=[p],l.flags|=16):u.push(p)}function Kl(l,u){switch(l.tag){case 5:return(u=Qi(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Dt=l,yr=zl(u),!0);case 6:return(u=wo(u,l.pendingProps))!==null&&(l.stateNode=u,Dt=l,yr=null,!0);case 13:if((u=Bn(u))!==null){var p=jr!==null?{id:gn,overflow:yn}:null;return l.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},(p=ln(18,null,null,0)).stateNode=u,p.return=l,l.child=p,Dt=l,yr=null,!0}return!1;default:return!1}}function Ls(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Ro(l){if(Ct){var u=yr;if(u){var p=u;if(!Kl(l,u)){if(Ls(l))throw Error(a(418));u=mi(p);var v=Dt;u&&Kl(l,u)?Ql(v,p):(l.flags=-4097&l.flags|2,Ct=!1,Dt=l)}}else{if(Ls(l))throw Error(a(418));l.flags=-4097&l.flags|2,Ct=!1,Dt=l}}}function oh(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Dt=l}function Zl(l){if(!We||l!==Dt)return!1;if(!Ct)return oh(l),Ct=!0,!1;if(l.tag!==3&&(l.tag!==5||Cf(l.type)&&!ue(l.type,l.memoizedProps))){var u=yr;if(u){if(Ls(l))throw Pc(),Error(a(418));for(;u;)Ql(l,u),u=mi(u)}}if(oh(l),l.tag===13){if(!We)throw Error(a(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(a(317));yr=Ta(l)}else yr=Dt?mi(l.stateNode):null;return!0}function Pc(){for(var l=yr;l;)l=mi(l)}function Io(){We&&(yr=Dt=null,wi=Ct=!1)}function Ua(l){zn===null?zn=[l]:zn.push(l)}var If=c.ReactCurrentBatchConfig;function Jl(l,u){if(mn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var x=p[v];if(!$l.call(u,x)||!mn(l[x],u[x]))return!1}return!0}function Mf(l){switch(l.tag){case 5:return Ca(l.type);case 16:return Ca("Lazy");case 13:return Ca("Suspense");case 19:return Ca("SuspenseList");case 0:case 2:case 15:return l=Wl(l.type,!1);case 11:return l=Wl(l.type.render,!1);case 1:return l=Wl(l.type,!0);default:return""}}function Gn(l,u){if(l&&l.defaultProps){for(var p in u=o({},u),l=l.defaultProps)u[p]===void 0&&(u[p]=l[p]);return u}return u}var eu=Un(null),za=null,Mo=null,ah=null;function lh(){ah=Mo=za=null}function Rc(l,u,p){ve?(At(eu,u._currentValue),u._currentValue=p):(At(eu,u._currentValue2),u._currentValue2=p)}function Ga(l){var u=eu.current;ft(eu),ve?l._currentValue=u:l._currentValue2=u}function uh(l,u,p){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===p)break;l=l.return}}function ko(l,u){za=l,ah=Mo=null,(l=l.dependencies)!==null&&l.firstContext!==null&&((l.lanes&u)!=0&&(jt=!0),l.firstContext=null)}function vn(l){var u=ve?l._currentValue:l._currentValue2;if(ah!==l)if(l={context:l,memoizedValue:u,next:null},Mo===null){if(za===null)throw Error(a(308));Mo=l,za.dependencies={lanes:0,firstContext:l}}else Mo=Mo.next=l;return u}var ts=null;function hh(l){ts===null?ts=[l]:ts.push(l)}function Ic(l,u,p,v){var x=u.interleaved;return x===null?(p.next=p,hh(u)):(p.next=x.next,x.next=p),u.interleaved=p,ti(l,v)}function ti(l,u){l.lanes|=u;var p=l.alternate;for(p!==null&&(p.lanes|=u),p=l,l=l.return;l!==null;)l.childLanes|=u,(p=l.alternate)!==null&&(p.childLanes|=u),p=l,l=l.return;return p.tag===3?p.stateNode:null}var rs=!1;function ch(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mc(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ei(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function ri(l,u,p){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(2&nt)!=0){var x=v.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),v.pending=u,ti(l,p)}return(x=v.interleaved)===null?(u.next=u,hh(v)):(u.next=x.next,x.next=u),v.interleaved=u,ti(l,p)}function ns(l,u,p){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&p)!=0)){var v=u.lanes;p|=v&=l.pendingLanes,u.lanes=p,Na(l,p)}}function kc(l,u){var p=l.updateQueue,v=l.alternate;if(v!==null&&p===(v=v.updateQueue)){var x=null,T=null;if((p=p.firstBaseUpdate)!==null){do{var O={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?x=T=O:T=T.next=O,p=p.next}while(p!==null);T===null?x=T=u:T=T.next=u}else x=T=u;return p={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:v.shared,effects:v.effects},void(l.updateQueue=p)}(l=p.lastBaseUpdate)===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function Ha(l,u,p,v){var x=l.updateQueue;rs=!1;var T=x.firstBaseUpdate,O=x.lastBaseUpdate,V=x.shared.pending;if(V!==null){x.shared.pending=null;var ee=V,he=ee.next;ee.next=null,O===null?T=he:O.next=he,O=ee;var ge=l.alternate;ge!==null&&(V=(ge=ge.updateQueue).lastBaseUpdate)!==O&&(V===null?ge.firstBaseUpdate=he:V.next=he,ge.lastBaseUpdate=ee)}if(T!==null){var Ie=x.baseState;for(O=0,ge=he=ee=null,V=T;;){var fe=V.lane,be=V.eventTime;if((v&fe)===fe){ge!==null&&(ge=ge.next={eventTime:be,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ze=l,st=V;switch(fe=u,be=p,st.tag){case 1:if(typeof(ze=st.payload)=="function"){Ie=ze.call(be,Ie,fe);break e}Ie=ze;break e;case 3:ze.flags=-65537&ze.flags|128;case 0:if((fe=typeof(ze=st.payload)=="function"?ze.call(be,Ie,fe):ze)==null)break e;Ie=o({},Ie,fe);break e;case 2:rs=!0}}V.callback!==null&&V.lane!==0&&(l.flags|=64,(fe=x.effects)===null?x.effects=[V]:fe.push(V))}else be={eventTime:be,lane:fe,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ge===null?(he=ge=be,ee=Ie):ge=ge.next=be,O|=fe;if((V=V.next)===null){if((V=x.shared.pending)===null)break;V=(fe=V).next,fe.next=null,x.lastBaseUpdate=fe,x.shared.pending=null}}if(ge===null&&(ee=Ie),x.baseState=ee,x.firstBaseUpdate=he,x.lastBaseUpdate=ge,(u=x.shared.interleaved)!==null){x=u;do O|=x.lane,x=x.next;while(x!==u)}else T===null&&(x.shared.lanes=0);fs|=O,l.lanes=O,l.memoizedState=Ie}}function dh(l,u,p){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],x=v.callback;if(x!==null){if(v.callback=null,v=p,typeof x!="function")throw Error(a(191,x));x.call(v)}}}var fh=new t.Component().refs;function tu(l,u,p,v){p=(p=p(v,u=l.memoizedState))==null?u:o({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var ja={isMounted:function(l){return!!(l=l._reactInternals)&&Z(l)===l},enqueueSetState:function(l,u,p){l=l._reactInternals;var v=or(),x=In(l),T=Ei(v,x);T.payload=u,p!=null&&(T.callback=p),(u=ri(l,T,x))!==null&&(Pr(u,l,x,v),ns(u,l,x))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var v=or(),x=In(l),T=Ei(v,x);T.tag=1,T.payload=u,p!=null&&(T.callback=p),(u=ri(l,T,x))!==null&&(Pr(u,l,x,v),ns(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=or(),v=In(l),x=Ei(p,v);x.tag=2,u!=null&&(x.callback=u),(u=ri(l,x,v))!==null&&(Pr(u,l,v,p),ns(u,l,v))}};function Us(l,u,p,v,x,T,O){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,T,O):!u.prototype||!u.prototype.isPureReactComponent||!Jl(p,v)||!Jl(x,T)}function Dc(l,u,p){var v=!1,x=fr,T=u.contextType;return typeof T=="object"&&T!==null?T=vn(T):(x=Tr(u)?Ds:br.current,T=(v=(v=u.contextTypes)!=null)?yi(l,x):fr),u=new u(p,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ja,l.stateNode=u,u._reactInternals=l,v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=x,l.__reactInternalMemoizedMaskedChildContext=T),u}function Nc(l,u,p,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==l&&ja.enqueueReplaceState(u,u.state,null)}function ph(l,u,p,v){var x=l.stateNode;x.props=p,x.state=l.memoizedState,x.refs=fh,ch(l);var T=u.contextType;typeof T=="object"&&T!==null?x.context=vn(T):(T=Tr(u)?Ds:br.current,x.context=yi(l,T)),x.state=l.memoizedState,typeof(T=u.getDerivedStateFromProps)=="function"&&(tu(l,u,T,p),x.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&ja.enqueueReplaceState(x,x.state,null),Ha(l,p,x,v),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308)}function Do(l,u,p){if((l=p.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner){if(p.tag!==1)throw Error(a(309));var v=p.stateNode}if(!v)throw Error(a(147,l));var x=v,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(O){var V=x.refs;V===fh&&(V=x.refs={}),O===null?delete V[T]:V[T]=O},u._stringRef=T,u)}if(typeof l!="string")throw Error(a(284));if(!p._owner)throw Error(a(290,l))}return l}function Wa(l,u){throw l=Object.prototype.toString.call(u),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function No(l){return(0,l._init)(l._payload)}function Oo(l){function u(ye,q){if(l){var le=ye.deletions;le===null?(ye.deletions=[q],ye.flags|=16):le.push(q)}}function p(ye,q){if(!l)return null;for(;q!==null;)u(ye,q),q=q.sibling;return null}function v(ye,q){for(ye=new Map;q!==null;)q.key!==null?ye.set(q.key,q):ye.set(q.index,q),q=q.sibling;return ye}function x(ye,q){return(ye=Di(ye,q)).index=0,ye.sibling=null,ye}function T(ye,q,le){return ye.index=le,l?(le=ye.alternate)!==null?(le=le.index)<q?(ye.flags|=2,q):le:(ye.flags|=2,q):(ye.flags|=1048576,q)}function O(ye){return l&&ye.alternate===null&&(ye.flags|=2),ye}function V(ye,q,le,Ee){return q===null||q.tag!==6?((q=Cu(le,ye.mode,Ee)).return=ye,q):((q=x(q,le)).return=ye,q)}function ee(ye,q,le,Ee){var Qe=le.type;return Qe===g?ge(ye,q,le.props.children,Ee,le.key):q!==null&&(q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===G&&No(Qe)===q.type)?((Ee=x(q,le.props)).ref=Do(ye,q,le),Ee.return=ye,Ee):((Ee=pl(le.type,le.key,le.props,null,ye.mode,Ee)).ref=Do(ye,q,le),Ee.return=ye,Ee)}function he(ye,q,le,Ee){return q===null||q.tag!==4||q.stateNode.containerInfo!==le.containerInfo||q.stateNode.implementation!==le.implementation?((q=jh(le,ye.mode,Ee)).return=ye,q):((q=x(q,le.children||[])).return=ye,q)}function ge(ye,q,le,Ee,Qe){return q===null||q.tag!==7?((q=ms(le,ye.mode,Ee,Qe)).return=ye,q):((q=x(q,le)).return=ye,q)}function Ie(ye,q,le){if(typeof q=="string"&&q!==""||typeof q=="number")return(q=Cu(""+q,ye.mode,le)).return=ye,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case d:return(le=pl(q.type,q.key,q.props,null,ye.mode,le)).ref=Do(ye,null,q),le.return=ye,le;case m:return(q=jh(q,ye.mode,le)).return=ye,q;case G:return Ie(ye,(0,q._init)(q._payload),le)}if(Re(q)||U(q))return(q=ms(q,ye.mode,le,null)).return=ye,q;Wa(ye,q)}return null}function fe(ye,q,le,Ee){var Qe=q!==null?q.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Qe!==null?null:V(ye,q,""+le,Ee);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case d:return le.key===Qe?ee(ye,q,le,Ee):null;case m:return le.key===Qe?he(ye,q,le,Ee):null;case G:return fe(ye,q,(Qe=le._init)(le._payload),Ee)}if(Re(le)||U(le))return Qe!==null?null:ge(ye,q,le,Ee,null);Wa(ye,le)}return null}function be(ye,q,le,Ee,Qe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return V(q,ye=ye.get(le)||null,""+Ee,Qe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case d:return ee(q,ye=ye.get(Ee.key===null?le:Ee.key)||null,Ee,Qe);case m:return he(q,ye=ye.get(Ee.key===null?le:Ee.key)||null,Ee,Qe);case G:return be(ye,q,le,(0,Ee._init)(Ee._payload),Qe)}if(Re(Ee)||U(Ee))return ge(q,ye=ye.get(le)||null,Ee,Qe,null);Wa(q,Ee)}return null}function ze(ye,q,le,Ee){for(var Qe=null,gt=null,je=q,mt=q=0,ar=null;je!==null&&mt<le.length;mt++){je.index>mt?(ar=je,je=null):ar=je.sibling;var yt=fe(ye,je,le[mt],Ee);if(yt===null){je===null&&(je=ar);break}l&&je&&yt.alternate===null&&u(ye,je),q=T(yt,q,mt),gt===null?Qe=yt:gt.sibling=yt,gt=yt,je=ar}if(mt===le.length)return p(ye,je),Ct&&es(ye,mt),Qe;if(je===null){for(;mt<le.length;mt++)(je=Ie(ye,le[mt],Ee))!==null&&(q=T(je,q,mt),gt===null?Qe=je:gt.sibling=je,gt=je);return Ct&&es(ye,mt),Qe}for(je=v(ye,je);mt<le.length;mt++)(ar=be(je,ye,mt,le[mt],Ee))!==null&&(l&&ar.alternate!==null&&je.delete(ar.key===null?mt:ar.key),q=T(ar,q,mt),gt===null?Qe=ar:gt.sibling=ar,gt=ar);return l&&je.forEach((function(ai){return u(ye,ai)})),Ct&&es(ye,mt),Qe}function st(ye,q,le,Ee){var Qe=U(le);if(typeof Qe!="function")throw Error(a(150));if((le=Qe.call(le))==null)throw Error(a(151));for(var gt=Qe=null,je=q,mt=q=0,ar=null,yt=le.next();je!==null&&!yt.done;mt++,yt=le.next()){je.index>mt?(ar=je,je=null):ar=je.sibling;var ai=fe(ye,je,yt.value,Ee);if(ai===null){je===null&&(je=ar);break}l&&je&&ai.alternate===null&&u(ye,je),q=T(ai,q,mt),gt===null?Qe=ai:gt.sibling=ai,gt=ai,je=ar}if(yt.done)return p(ye,je),Ct&&es(ye,mt),Qe;if(je===null){for(;!yt.done;mt++,yt=le.next())(yt=Ie(ye,yt.value,Ee))!==null&&(q=T(yt,q,mt),gt===null?Qe=yt:gt.sibling=yt,gt=yt);return Ct&&es(ye,mt),Qe}for(je=v(ye,je);!yt.done;mt++,yt=le.next())(yt=be(je,ye,mt,yt.value,Ee))!==null&&(l&&yt.alternate!==null&&je.delete(yt.key===null?mt:yt.key),q=T(yt,q,mt),gt===null?Qe=yt:gt.sibling=yt,gt=yt);return l&&je.forEach((function(Wc){return u(ye,Wc)})),Ct&&es(ye,mt),Qe}return function ye(q,le,Ee,Qe){if(typeof Ee=="object"&&Ee!==null&&Ee.type===g&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case d:e:{for(var gt=Ee.key,je=le;je!==null;){if(je.key===gt){if((gt=Ee.type)===g){if(je.tag===7){p(q,je.sibling),(le=x(je,Ee.props.children)).return=q,q=le;break e}}else if(je.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===G&&No(gt)===je.type){p(q,je.sibling),(le=x(je,Ee.props)).ref=Do(q,je,Ee),le.return=q,q=le;break e}p(q,je);break}u(q,je),je=je.sibling}Ee.type===g?((le=ms(Ee.props.children,q.mode,Qe,Ee.key)).return=q,q=le):((Qe=pl(Ee.type,Ee.key,Ee.props,null,q.mode,Qe)).ref=Do(q,le,Ee),Qe.return=q,q=Qe)}return O(q);case m:e:{for(je=Ee.key;le!==null;){if(le.key===je){if(le.tag===4&&le.stateNode.containerInfo===Ee.containerInfo&&le.stateNode.implementation===Ee.implementation){p(q,le.sibling),(le=x(le,Ee.children||[])).return=q,q=le;break e}p(q,le);break}u(q,le),le=le.sibling}(le=jh(Ee,q.mode,Qe)).return=q,q=le}return O(q);case G:return ye(q,le,(je=Ee._init)(Ee._payload),Qe)}if(Re(Ee))return ze(q,le,Ee,Qe);if(U(Ee))return st(q,le,Ee,Qe);Wa(q,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,le!==null&&le.tag===6?(p(q,le.sibling),(le=x(le,Ee)).return=q,q=le):(p(q,le),(le=Cu(Ee,q.mode,Qe)).return=q,q=le),O(q)):p(q,le)}}var Fo=Oo(!0),$a=Oo(!1),Va={},rn=Un(Va),zs=Un(Va),is=Un(Va);function Hn(l){if(l===Va)throw Error(a(174));return l}function ru(l,u){At(is,u),At(zs,l),At(rn,Va),l=L(u),ft(rn),At(rn,l)}function Gs(){ft(rn),ft(zs),ft(is)}function Oc(l){var u=Hn(is.current),p=Hn(rn.current);p!==(u=C(p,l.type,u))&&(At(zs,l),At(rn,u))}function mh(l){zs.current===l&&(ft(rn),ft(zs))}var Ht=Un(0);function nu(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&((p=p.dehydrated)===null||Eo(p)||fn(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((128&u.flags)!=0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var gh=[];function nn(){for(var l=0;l<gh.length;l++){var u=gh[l];ve?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}gh.length=0}var ss=c.ReactCurrentDispatcher,iu=c.ReactCurrentBatchConfig,os=0,Bt=null,ir=null,Qt=null,su=!1,Xa=!1,ni=0,yh=0;function Kt(){throw Error(a(321))}function Ya(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!mn(l[p],u[p]))return!1;return!0}function ou(l,u,p,v,x,T){if(os=T,Bt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ss.current=l===null||l.memoizedState===null?Ah:Ch,l=p(v,x),Xa){T=0;do{if(Xa=!1,ni=0,25<=T)throw Error(a(301));T+=1,Qt=ir=null,u.updateQueue=null,ss.current=Ph,l=p(v,x)}while(Xa)}if(ss.current=jo,u=ir!==null&&ir.next!==null,os=0,Qt=ir=Bt=null,su=!1,u)throw Error(a(300));return l}function Bo(){var l=ni!==0;return ni=0,l}function Or(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Bt.memoizedState=Qt=l:Qt=Qt.next=l,Qt}function Wr(){if(ir===null){var l=Bt.alternate;l=l!==null?l.memoizedState:null}else l=ir.next;var u=Qt===null?Bt.memoizedState:Qt.next;if(u!==null)Qt=u,ir=l;else{if(l===null)throw Error(a(310));l={memoizedState:(ir=l).memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},Qt===null?Bt.memoizedState=Qt=l:Qt=Qt.next=l}return Qt}function Lo(l,u){return typeof u=="function"?u(l):u}function Uo(l){var u=Wr(),p=u.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=l;var v=ir,x=v.baseQueue,T=p.pending;if(T!==null){if(x!==null){var O=x.next;x.next=T.next,T.next=O}v.baseQueue=x=T,p.pending=null}if(x!==null){T=x.next,v=v.baseState;var V=O=null,ee=null,he=T;do{var ge=he.lane;if((os&ge)===ge)ee!==null&&(ee=ee.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),v=he.hasEagerState?he.eagerState:l(v,he.action);else{var Ie={lane:ge,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};ee===null?(V=ee=Ie,O=v):ee=ee.next=Ie,Bt.lanes|=ge,fs|=ge}he=he.next}while(he!==null&&he!==T);ee===null?O=v:ee.next=V,mn(v,u.memoizedState)||(jt=!0),u.memoizedState=v,u.baseState=O,u.baseQueue=ee,p.lastRenderedState=v}if((l=p.interleaved)!==null){x=l;do T=x.lane,Bt.lanes|=T,fs|=T,x=x.next;while(x!==l)}else x===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function au(l){var u=Wr(),p=u.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=l;var v=p.dispatch,x=p.pending,T=u.memoizedState;if(x!==null){p.pending=null;var O=x=x.next;do T=l(T,O.action),O=O.next;while(O!==x);mn(T,u.memoizedState)||(jt=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),p.lastRenderedState=T}return[T,v]}function vh(){}function _h(l,u){var p=Bt,v=Wr(),x=u(),T=!mn(v.memoizedState,x);if(T&&(v.memoizedState=x,jt=!0),v=v.queue,cu(Eh.bind(null,p,v,l),[l]),v.getSnapshot!==u||T||Qt!==null&&1&Qt.memoizedState.tag){if(p.flags|=2048,qa(9,wh.bind(null,p,v,x,u),void 0,null),Jt===null)throw Error(a(349));(30&os)!=0||xh(p,u,x)}return x}function xh(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},(u=Bt.updateQueue)===null?(u={lastEffect:null,stores:null},Bt.updateQueue=u,u.stores=[l]):(p=u.stores)===null?u.stores=[l]:p.push(l)}function wh(l,u,p,v){u.value=p,u.getSnapshot=v,Si(u)&&lu(l)}function Eh(l,u,p){return p((function(){Si(u)&&lu(l)}))}function Si(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!mn(l,p)}catch{return!0}}function lu(l){var u=ti(l,1);u!==null&&Pr(u,l,1,-1)}function uu(l){var u=Or();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:l},u.queue=l,l=l.dispatch=Df.bind(null,Bt,l),[u.memoizedState,l]}function qa(l,u,p,v){return l={tag:l,create:u,destroy:p,deps:v,next:null},(u=Bt.updateQueue)===null?(u={lastEffect:null,stores:null},Bt.updateQueue=u,u.lastEffect=l.next=l):(p=u.lastEffect)===null?u.lastEffect=l.next=l:(v=p.next,p.next=l,l.next=v,u.lastEffect=l),l}function Fc(){return Wr().memoizedState}function as(l,u,p,v){var x=Or();Bt.flags|=l,x.memoizedState=qa(1|u,p,void 0,v===void 0?null:v)}function hu(l,u,p,v){var x=Wr();v=v===void 0?null:v;var T=void 0;if(ir!==null){var O=ir.memoizedState;if(T=O.destroy,v!==null&&Ya(v,O.deps))return void(x.memoizedState=qa(u,p,T,v))}Bt.flags|=l,x.memoizedState=qa(1|u,p,T,v)}function Sh(l,u){return as(8390656,8,l,u)}function cu(l,u){return hu(2048,8,l,u)}function Pt(l,u){return hu(4,2,l,u)}function du(l,u){return hu(4,4,l,u)}function Qa(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function zo(l,u,p){return p=p!=null?p.concat([l]):null,hu(4,4,Qa.bind(null,u,l),p)}function fu(){}function pu(l,u){var p=Wr();u=u===void 0?null:u;var v=p.memoizedState;return v!==null&&u!==null&&Ya(u,v[1])?v[0]:(p.memoizedState=[l,u],l)}function Go(l,u){var p=Wr();u=u===void 0?null:u;var v=p.memoizedState;return v!==null&&u!==null&&Ya(u,v[1])?v[0]:(l=l(),p.memoizedState=[l,u],l)}function Ka(l,u,p){return(21&os)==0?(l.baseState&&(l.baseState=!1,jt=!0),l.memoizedState=p):(mn(p,u)||(p=ih(),Bt.lanes|=p,fs|=p,l.baseState=!0),u)}function Ho(l,u){var p=ht;ht=p!==0&&4>p?p:4,l(!0);var v=iu.transition;iu.transition={};try{l(!1),u()}finally{ht=p,iu.transition=v}}function bh(){return Wr().memoizedState}function kf(l,u,p){var v=In(l);p={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null},Th(l)?Za(u,p):(p=Ic(l,u,p,v))!==null&&(Pr(p,l,v,or()),Ja(p,u,v))}function Df(l,u,p){var v=In(l),x={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null};if(Th(l))Za(u,x);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer)!==null)try{var O=u.lastRenderedState,V=T(O,p);if(x.hasEagerState=!0,x.eagerState=V,mn(V,O)){var ee=u.interleaved;return ee===null?(x.next=x,hh(u)):(x.next=ee.next,ee.next=x),void(u.interleaved=x)}}catch{}(p=Ic(l,u,x,v))!==null&&(Pr(p,l,v,x=or()),Ja(p,u,v))}}function Th(l){var u=l.alternate;return l===Bt||u!==null&&u===Bt}function Za(l,u){Xa=su=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function Ja(l,u,p){if((4194240&p)!=0){var v=u.lanes;p|=v&=l.pendingLanes,u.lanes=p,Na(l,p)}}var jo={readContext:vn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},Ah={readContext:vn,useCallback:function(l,u){return Or().memoizedState=[l,u===void 0?null:u],l},useContext:vn,useEffect:Sh,useImperativeHandle:function(l,u,p){return p=p!=null?p.concat([l]):null,as(4194308,4,Qa.bind(null,u,l),p)},useLayoutEffect:function(l,u){return as(4194308,4,l,u)},useInsertionEffect:function(l,u){return as(4,2,l,u)},useMemo:function(l,u){var p=Or();return u=u===void 0?null:u,l=l(),p.memoizedState=[l,u],l},useReducer:function(l,u,p){var v=Or();return u=p!==void 0?p(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=kf.bind(null,Bt,l),[v.memoizedState,l]},useRef:function(l){return l={current:l},Or().memoizedState=l},useState:uu,useDebugValue:fu,useDeferredValue:function(l){return Or().memoizedState=l},useTransition:function(){var l=uu(!1),u=l[0];return l=Ho.bind(null,l[1]),Or().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,p){var v=Bt,x=Or();if(Ct){if(p===void 0)throw Error(a(407));p=p()}else{if(p=u(),Jt===null)throw Error(a(349));(30&os)!=0||xh(v,u,p)}x.memoizedState=p;var T={value:p,getSnapshot:u};return x.queue=T,Sh(Eh.bind(null,v,T,l),[l]),v.flags|=2048,qa(9,wh.bind(null,v,T,p,u),void 0,null),p},useId:function(){var l=Or(),u=Jt.identifierPrefix;if(Ct){var p=yn;u=":"+u+"R"+(p=(gn&~(1<<32-pn(gn)-1)).toString(32)+p),0<(p=ni++)&&(u+="H"+p.toString(32)),u+=":"}else u=":"+u+"r"+(p=yh++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},Ch={readContext:vn,useCallback:pu,useContext:vn,useEffect:cu,useImperativeHandle:zo,useInsertionEffect:Pt,useLayoutEffect:du,useMemo:Go,useReducer:Uo,useRef:Fc,useState:function(){return Uo(Lo)},useDebugValue:fu,useDeferredValue:function(l){return Ka(Wr(),ir.memoizedState,l)},useTransition:function(){return[Uo(Lo)[0],Wr().memoizedState]},useMutableSource:vh,useSyncExternalStore:_h,useId:bh,unstable_isNewReconciler:!1},Ph={readContext:vn,useCallback:pu,useContext:vn,useEffect:cu,useImperativeHandle:zo,useInsertionEffect:Pt,useLayoutEffect:du,useMemo:Go,useReducer:au,useRef:Fc,useState:function(){return au(Lo)},useDebugValue:fu,useDeferredValue:function(l){var u=Wr();return ir===null?u.memoizedState=l:Ka(u,ir.memoizedState,l)},useTransition:function(){return[au(Lo)[0],Wr().memoizedState]},useMutableSource:vh,useSyncExternalStore:_h,useId:bh,unstable_isNewReconciler:!1};function Wo(l,u){try{var p="",v=u;do p+=Mf(v),v=v.return;while(v);var x=p}catch(T){x=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:x,digest:null}}function mu(l,u,p){return{value:l,source:null,stack:p??null,digest:u??null}}function Rh(l,u){try{console.error(u.value)}catch(p){setTimeout((function(){throw p}))}}var Nf=typeof WeakMap=="function"?WeakMap:Map;function gu(l,u,p){(p=Ei(-1,p)).tag=3,p.payload={element:null};var v=u.value;return p.callback=function(){It||(It=!0,ea=v),Rh(0,u)},p}function bi(l,u,p){(p=Ei(-1,p)).tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var x=u.value;p.payload=function(){return v(x)},p.callback=function(){Rh(0,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){Rh(0,u),typeof v!="function"&&(si===null?si=new Set([this]):si.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})}),p}function Ih(l,u,p){var v=l.pingCache;if(v===null){v=l.pingCache=new Nf;var x=new Set;v.set(u,x)}else(x=v.get(u))===void 0&&(x=new Set,v.set(u,x));x.has(p)||(x.add(p),l=Tu.bind(null,l,u,p),u.then(l,l))}function Hs(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function jn(l,u,p,v,x){return(1&l.mode)==0?(l===u?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:((u=Ei(-1,1)).tag=2,ri(p,u,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=x,l)}var el=c.ReactCurrentOwner,jt=!1;function Ar(l,u,p,v){u.child=l===null?$a(u,null,p,v):Fo(u,l.child,p,v)}function Bc(l,u,p,v,x){p=p.render;var T=u.ref;return ko(u,x),v=ou(l,u,p,v,T,x),p=Bo(),l===null||jt?(Ct&&p&&Po(u),u.flags|=1,Ar(l,u,v,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,wn(l,u,x))}function Lc(l,u,p,v,x){if(l===null){var T=p.type;return typeof T!="function"||fl(T)||T.defaultProps!==void 0||p.compare!==null||p.defaultProps!==void 0?((l=pl(p.type,null,v,u,u.mode,x)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=T,ls(l,u,T,v,x))}if(T=l.child,(l.lanes&x)==0){var O=T.memoizedProps;if((p=(p=p.compare)!==null?p:Jl)(O,v)&&l.ref===u.ref)return wn(l,u,x)}return u.flags|=1,(l=Di(T,v)).ref=u.ref,l.return=u,u.child=l}function ls(l,u,p,v,x){if(l!==null){var T=l.memoizedProps;if(Jl(T,v)&&l.ref===u.ref){if(jt=!1,u.pendingProps=v=T,(l.lanes&x)==0)return u.lanes=l.lanes,wn(l,u,x);(131072&l.flags)!=0&&(jt=!0)}}return Vo(l,u,p,v,x)}function $o(l,u,p){var v=u.pendingProps,x=v.children,T=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((1&u.mode)==0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Ri,er),er|=p;else{if((1073741824&p)==0)return l=T!==null?T.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,At(Ri,er),er|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:p,At(Ri,er),er|=v}else T!==null?(v=T.baseLanes|p,u.memoizedState=null):v=p,At(Ri,er),er|=v;return Ar(l,u,x,p),u.child}function js(l,u){var p=u.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Vo(l,u,p,v,x){var T=Tr(p)?Ds:br.current;return T=yi(u,T),ko(u,x),p=ou(l,u,p,v,T,x),v=Bo(),l===null||jt?(Ct&&v&&Po(u),u.flags|=1,Ar(l,u,p,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,wn(l,u,x))}function yu(l,u,p,v,x){if(Tr(p)){var T=!0;Vl(u)}else T=!1;if(ko(u,x),u.stateNode===null)xn(l,u),Dc(u,p,v),ph(u,p,v,x),v=!0;else if(l===null){var O=u.stateNode,V=u.memoizedProps;O.props=V;var ee=O.context,he=p.contextType;typeof he=="object"&&he!==null?he=vn(he):he=yi(u,he=Tr(p)?Ds:br.current);var ge=p.getDerivedStateFromProps,Ie=typeof ge=="function"||typeof O.getSnapshotBeforeUpdate=="function";Ie||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==v||ee!==he)&&Nc(u,O,v,he),rs=!1;var fe=u.memoizedState;O.state=fe,Ha(u,v,O,x),ee=u.memoizedState,V!==v||fe!==ee||Gr.current||rs?(typeof ge=="function"&&(tu(u,p,ge,v),ee=u.memoizedState),(V=rs||Us(u,p,V,v,fe,ee,he))?(Ie||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=ee),O.props=v,O.state=ee,O.context=he,v=V):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{O=u.stateNode,Mc(l,u),V=u.memoizedProps,he=u.type===u.elementType?V:Gn(u.type,V),O.props=he,Ie=u.pendingProps,fe=O.context,typeof(ee=p.contextType)=="object"&&ee!==null?ee=vn(ee):ee=yi(u,ee=Tr(p)?Ds:br.current);var be=p.getDerivedStateFromProps;(ge=typeof be=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==Ie||fe!==ee)&&Nc(u,O,v,ee),rs=!1,fe=u.memoizedState,O.state=fe,Ha(u,v,O,x);var ze=u.memoizedState;V!==Ie||fe!==ze||Gr.current||rs?(typeof be=="function"&&(tu(u,p,be,v),ze=u.memoizedState),(he=rs||Us(u,p,he,v,fe,ze,ee)||!1)?(ge||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,ze,ee),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,ze,ee)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||V===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=ze),O.props=v,O.state=ze,O.context=ee,v=he):(typeof O.componentDidUpdate!="function"||V===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),v=!1)}return us(l,u,p,v,T,x)}function us(l,u,p,v,x,T){js(l,u);var O=(128&u.flags)!=0;if(!v&&!O)return x&&Xl(u,p,!1),wn(l,u,T);v=u.stateNode,el.current=u;var V=O&&typeof p.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&O?(u.child=Fo(u,l.child,null,T),u.child=Fo(u,null,V,T)):Ar(l,u,V,T),u.memoizedState=v.state,x&&Xl(u,p,!0),u.child}function Ti(l){var u=l.stateNode;u.pendingContext?Ra(0,u.pendingContext,u.pendingContext!==u.context):u.context&&Ra(0,u.context,!1),ru(l,u.containerInfo)}function Rt(l,u,p,v,x){return Io(),Ua(x),u.flags|=256,Ar(l,u,p,v),u.child}var xt,_n,sr,vr,Ai={dehydrated:null,treeContext:null,retryLane:0};function hs(l){return{baseLanes:l,cachePool:null,transitions:null}}function Fr(l,u,p){var v,x=u.pendingProps,T=Ht.current,O=!1,V=(128&u.flags)!=0;if((v=V)||(v=(l===null||l.memoizedState!==null)&&(2&T)!=0),v?(O=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(T|=1),At(Ht,1&T),l===null)return Ro(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?((1&u.mode)==0?u.lanes=1:fn(l)?u.lanes=8:u.lanes=1073741824,null):(V=x.children,l=x.fallback,O?(x=u.mode,O=u.child,V={mode:"hidden",children:V},(1&x)==0&&O!==null?(O.childLanes=0,O.pendingProps=V):O=Au(V,x,0,null),l=ms(l,x,p,null),O.return=u,l.return=u,O.sibling=l,u.child=O,u.child.memoizedState=hs(p),u.memoizedState=Ai,l):Xo(u,V));if((T=l.memoizedState)!==null&&(v=T.dehydrated)!==null)return(function(he,ge,Ie,fe,be,ze,st){if(Ie)return 256&ge.flags?(ge.flags&=-257,tl(he,ge,st,fe=mu(Error(a(422))))):ge.memoizedState!==null?(ge.child=he.child,ge.flags|=128,null):(ze=fe.fallback,be=ge.mode,fe=Au({mode:"visible",children:fe.children},be,0,null),(ze=ms(ze,be,st,null)).flags|=2,fe.return=ge,ze.return=ge,fe.sibling=ze,ge.child=fe,(1&ge.mode)!=0&&Fo(ge,he.child,null,st),ge.child.memoizedState=hs(st),ge.memoizedState=Ai,ze);if((1&ge.mode)==0)return tl(he,ge,st,null);if(fn(be))return fe=Ki(be).digest,ze=Error(a(419)),fe=mu(ze,fe,void 0),tl(he,ge,st,fe);if(Ie=(st&he.childLanes)!=0,jt||Ie){if((fe=Jt)!==null){switch(st&-st){case 4:be=2;break;case 16:be=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:be=32;break;case 536870912:be=268435456;break;default:be=0}(be=(be&(fe.suspendedLanes|st))!=0?0:be)!==0&&be!==ze.retryLane&&(ze.retryLane=be,ti(he,be),Pr(fe,he,be,-1))}return bu(),tl(he,ge,st,fe=mu(Error(a(421))))}return Eo(be)?(ge.flags|=128,ge.child=he.child,ge=Gh.bind(null,he),Zi(be,ge),null):(he=ze.treeContext,We&&(yr=Gl(be),Dt=ge,Ct=!0,zn=null,wi=!1,he!==null&&(Hr[tn++]=gn,Hr[tn++]=yn,Hr[tn++]=jr,gn=he.id,yn=he.overflow,jr=ge)),ge=Xo(ge,fe.children),ge.flags|=4096,ge)})(l,u,V,x,v,T,p);if(O){O=x.fallback,V=u.mode,v=(T=l.child).sibling;var ee={mode:"hidden",children:x.children};return(1&V)==0&&u.child!==T?((x=u.child).childLanes=0,x.pendingProps=ee,u.deletions=null):(x=Di(T,ee)).subtreeFlags=14680064&T.subtreeFlags,v!==null?O=Di(v,O):(O=ms(O,V,p,null)).flags|=2,O.return=u,x.return=u,x.sibling=O,u.child=x,x=O,O=u.child,V=(V=l.child.memoizedState)===null?hs(p):{baseLanes:V.baseLanes|p,cachePool:null,transitions:V.transitions},O.memoizedState=V,O.childLanes=l.childLanes&~p,u.memoizedState=Ai,x}return l=(O=l.child).sibling,x=Di(O,{mode:"visible",children:x.children}),(1&u.mode)==0&&(x.lanes=p),x.return=u,x.sibling=null,l!==null&&((p=u.deletions)===null?(u.deletions=[l],u.flags|=16):p.push(l)),u.child=x,u.memoizedState=null,x}function Xo(l,u){return(u=Au({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function tl(l,u,p,v){return v!==null&&Ua(v),Fo(u,l.child,null,p),(l=Xo(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function Mh(l,u,p){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),uh(l.return,u,p)}function Yo(l,u,p,v,x){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:x}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=p,T.tailMode=x)}function kh(l,u,p){var v=u.pendingProps,x=v.revealOrder,T=v.tail;if(Ar(l,u,v.children,p),(2&(v=Ht.current))!=0)v=1&v|2,u.flags|=128;else{if(l!==null&&(128&l.flags)!=0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Mh(l,p,u);else if(l.tag===19)Mh(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(At(Ht,v),(1&u.mode)==0)u.memoizedState=null;else switch(x){case"forwards":for(p=u.child,x=null;p!==null;)(l=p.alternate)!==null&&nu(l)===null&&(x=p),p=p.sibling;(p=x)===null?(x=u.child,u.child=null):(x=p.sibling,p.sibling=null),Yo(u,!1,x,p,T);break;case"backwards":for(p=null,x=u.child,u.child=null;x!==null;){if((l=x.alternate)!==null&&nu(l)===null){u.child=x;break}l=x.sibling,x.sibling=p,p=x,x=l}Yo(u,!0,p,null,T);break;case"together":Yo(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function xn(l,u){(1&u.mode)==0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function wn(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),fs|=u.lanes,(p&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(a(153));if(u.child!==null){for(p=Di(l=u.child,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,(p=p.sibling=Di(l,l.pendingProps)).return=u;p.sibling=null}return u.child}function En(l){l.flags|=4}function Dh(l,u){if(l!==null&&l.child===u.child)return!0;if((16&u.flags)!=0)return!1;for(l=u.child;l!==null;){if((12854&l.flags)!=0||(12854&l.subtreeFlags)!=0)return!1;l=l.sibling}return!0}if(Me)xt=function(l,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)z(l,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},_n=function(){},sr=function(l,u,p,v,x){if((l=l.memoizedProps)!==v){var T=u.stateNode,O=Hn(rn.current);p=ne(T,p,l,v,x,O),(u.updateQueue=p)&&En(u)}},vr=function(l,u,p,v){p!==v&&En(u)};else if(Ue){xt=function(l,u,p,v){for(var x=u.child;x!==null;){if(x.tag===5){var T=x.stateNode;p&&v&&(T=Sr(T,x.type,x.memoizedProps,x)),z(l,T)}else if(x.tag===6)T=x.stateNode,p&&v&&(T=xo(T,x.memoizedProps,x)),z(l,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),xt(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var Uc=function(l,u,p,v){for(var x=u.child;x!==null;){if(x.tag===5){var T=x.stateNode;p&&v&&(T=Sr(T,x.type,x.memoizedProps,x)),dn(l,T)}else if(x.tag===6)T=x.stateNode,p&&v&&(T=xo(T,x.memoizedProps,x)),dn(l,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),Uc(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};_n=function(l,u){var p=u.stateNode;if(!Dh(l,u)){l=p.containerInfo;var v=gr(l);Uc(v,u,!1,!1),p.pendingChildren=v,En(u),_o(l,v)}},sr=function(l,u,p,v,x){var T=l.stateNode,O=l.memoizedProps;if((l=Dh(l,u))&&O===v)u.stateNode=T;else{var V=u.stateNode,ee=Hn(rn.current),he=null;O!==v&&(he=ne(V,p,O,v,x,ee)),l&&he===null?u.stateNode=T:(T=Jn(T,he,p,O,v,u,l,V),X(T,p,v,x,ee)&&En(u),u.stateNode=T,l?En(u):xt(T,u,!1,!1))}},vr=function(l,u,p,v){p!==v?(l=Hn(is.current),p=Hn(rn.current),u.stateNode=me(v,l,p,u),En(u)):u.stateNode=l.stateNode}}else _n=function(){},sr=function(){},vr=function(){};function Sn(l,u){if(!Ct)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Zt(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,v=0;if(u)for(var x=l.child;x!==null;)p|=x.lanes|x.childLanes,v|=14680064&x.subtreeFlags,v|=14680064&x.flags,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)p|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=v,l.childLanes=p,u}function qo(l,u,p){var v=u.pendingProps;switch(ql(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(u),null;case 1:case 17:return Tr(u.type)&&Ns(),Zt(u),null;case 3:return p=u.stateNode,Gs(),ft(Gr),ft(br),nn(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),l!==null&&l.child!==null||(Zl(u)?En(u):l===null||l.memoizedState.isDehydrated&&(256&u.flags)==0||(u.flags|=1024,zn!==null&&(cl(zn),zn=null))),_n(l,u),Zt(u),null;case 5:mh(u),p=Hn(is.current);var x=u.type;if(l!==null&&u.stateNode!=null)sr(l,u,x,v,p),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(a(166));return Zt(u),null}if(l=Hn(rn.current),Zl(u)){if(!We)throw Error(a(175));l=Ln(u.stateNode,u.type,u.memoizedProps,p,l,u,!wi),u.updateQueue=l,l!==null&&En(u)}else{var T=M(x,v,p,l,u);xt(T,u,!1,!1),u.stateNode=T,X(T,x,v,p,l)&&En(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Zt(u),null;case 6:if(l&&u.stateNode!=null)vr(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(a(166));if(l=Hn(is.current),p=Hn(rn.current),Zl(u)){if(!We)throw Error(a(176));if(l=u.stateNode,p=u.memoizedProps,(v=ba(l,p,u,!wi))&&(x=Dt)!==null)switch(x.tag){case 3:Pf(x.stateNode.containerInfo,l,p,(1&x.mode)!=0);break;case 5:Vt(x.type,x.memoizedProps,x.stateNode,l,p,(1&x.mode)!=0)}v&&En(u)}else u.stateNode=me(v,l,p,u)}return Zt(u),null;case 13:if(ft(Ht),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Ct&&yr!==null&&(1&u.mode)!=0&&(128&u.flags)==0)Pc(),Io(),u.flags|=98560,x=!1;else if(x=Zl(u),v!==null&&v.dehydrated!==null){if(l===null){if(!x)throw Error(a(318));if(!We)throw Error(a(344));if(!(x=(x=u.memoizedState)!==null?x.dehydrated:null))throw Error(a(317));Hl(x,u)}else Io(),(128&u.flags)==0&&(u.memoizedState=null),u.flags|=4;Zt(u),x=!1}else zn!==null&&(cl(zn),zn=null),x=!0;if(!x)return 65536&u.flags?u:null}return(128&u.flags)!=0?(u.lanes=p,u):((p=v!==null)!=(l!==null&&l.memoizedState!==null)&&p&&(u.child.flags|=8192,(1&u.mode)!=0&&(l===null||(1&Ht.current)!=0?tr===0&&(tr=3):bu())),u.updateQueue!==null&&(u.flags|=4),Zt(u),null);case 4:return Gs(),_n(l,u),l===null&&He(u.stateNode.containerInfo),Zt(u),null;case 10:return Ga(u.type._context),Zt(u),null;case 19:if(ft(Ht),(x=u.memoizedState)===null)return Zt(u),null;if(v=(128&u.flags)!=0,(T=x.rendering)===null)if(v)Sn(x,!1);else{if(tr!==0||l!==null&&(128&l.flags)!=0)for(l=u.child;l!==null;){if((T=nu(l))!==null){for(u.flags|=128,Sn(x,!1),(l=T.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=p,p=u.child;p!==null;)x=l,(v=p).flags&=14680066,(T=v.alternate)===null?(v.childLanes=0,v.lanes=x,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,x=T.dependencies,v.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),p=p.sibling;return At(Ht,1&Ht.current|2),u.child}l=l.sibling}x.tail!==null&&kt()>ul&&(u.flags|=128,v=!0,Sn(x,!1),u.lanes=4194304)}else{if(!v)if((l=nu(T))!==null){if(u.flags|=128,v=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Sn(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!Ct)return Zt(u),null}else 2*kt()-x.renderingStartTime>ul&&p!==1073741824&&(u.flags|=128,v=!0,Sn(x,!1),u.lanes=4194304);x.isBackwards?(T.sibling=u.child,u.child=T):((l=x.last)!==null?l.sibling=T:u.child=T,x.last=T)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=kt(),u.sibling=null,l=Ht.current,At(Ht,v?1&l|2:1&l),u):(Zt(u),null);case 22:case 23:return Zs(),p=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==p&&(u.flags|=8192),p&&(1&u.mode)!=0?(1073741824&er)!=0&&(Zt(u),Me&&6&u.subtreeFlags&&(u.flags|=8192)):Zt(u),null;case 24:case 25:return null}throw Error(a(156,u.tag))}function vu(l,u){switch(ql(u),u.tag){case 1:return Tr(u.type)&&Ns(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return Gs(),ft(Gr),ft(br),nn(),(65536&(l=u.flags))!=0&&(128&l)==0?(u.flags=-65537&l|128,u):null;case 5:return mh(u),null;case 13:if(ft(Ht),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(a(340));Io()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return ft(Ht),null;case 4:return Gs(),null;case 10:return Ga(u.type._context),null;case 22:case 23:return Zs(),null;default:return null}}var Ws=!1,bt=!1,bn=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function $r(l,u){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(v){Tt(l,u,v)}else p.current=null}function ii(l,u,p){try{p()}catch(v){Tt(l,u,v)}}var cs=!1;function Qo(l,u,p){var v=u.updateQueue;if((v=v!==null?v.lastEffect:null)!==null){var x=v=v.next;do{if((x.tag&l)===l){var T=x.destroy;x.destroy=void 0,T!==void 0&&ii(u,p,T)}x=x.next}while(x!==v)}}function Ko(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var p=u=u.next;do{if((p.tag&l)===l){var v=p.create;p.destroy=v()}p=p.next}while(p!==u)}}function rl(l){var u=l.ref;if(u!==null){var p=l.stateNode;l.tag===5?l=B(p):l=p,typeof u=="function"?u(l):u.current=l}}function Vr(l){var u=l.alternate;u!==null&&(l.alternate=null,Vr(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&Mt(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Xr(l){return l.tag===5||l.tag===3||l.tag===4}function Nt(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Xr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function sn(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?yo(p,l,u):Yi(p,l);else if(v!==4&&(l=l.child)!==null)for(sn(l,u,p),l=l.sibling;l!==null;)sn(l,u,p),l=l.sibling}function _u(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?Ul(p,l,u):go(p,l);else if(v!==4&&(l=l.child)!==null)for(_u(l,u,p),l=l.sibling;l!==null;)_u(l,u,p),l=l.sibling}var Cr=null,Tn=!1;function An(l,u,p){for(p=p.child;p!==null;)xu(l,u,p),p=p.sibling}function xu(l,u,p){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Ba,p)}catch{}switch(p.tag){case 5:bt||$r(p,u);case 6:if(Me){var v=Cr,x=Tn;Cr=null,An(l,u,p),Tn=x,(Cr=v)!==null&&(Tn?te(Cr,p.stateNode):vo(Cr,p.stateNode))}else An(l,u,p);break;case 18:Me&&Cr!==null&&(Tn?Aa(Cr,p.stateNode):jl(Cr,p.stateNode));break;case 4:Me?(v=Cr,x=Tn,Cr=p.stateNode.containerInfo,Tn=!0,An(l,u,p),Cr=v,Tn=x):(Ue&&(v=p.stateNode.containerInfo,x=gr(v),Fn(v,x)),An(l,u,p));break;case 0:case 11:case 14:case 15:if(!bt&&(v=p.updateQueue)!==null&&(v=v.lastEffect)!==null){x=v=v.next;do{var T=x,O=T.destroy;T=T.tag,O!==void 0&&((2&T)!=0||(4&T)!=0)&&ii(p,u,O),x=x.next}while(x!==v)}An(l,u,p);break;case 1:if(!bt&&($r(p,u),typeof(v=p.stateNode).componentWillUnmount=="function"))try{v.props=p.memoizedProps,v.state=p.memoizedState,v.componentWillUnmount()}catch(V){Tt(p,u,V)}An(l,u,p);break;case 21:An(l,u,p);break;case 22:1&p.mode?(bt=(v=bt)||p.memoizedState!==null,An(l,u,p),bt=v):An(l,u,p);break;default:An(l,u,p)}}function nl(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new bn),u.forEach((function(v){var x=Hc.bind(null,l,v);p.has(v)||(p.add(v),v.then(x,x))}))}}function Cn(l,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var x=p[v];try{var T=l,O=u;if(Me){var V=O;e:for(;V!==null;){switch(V.tag){case 5:Cr=V.stateNode,Tn=!1;break e;case 3:case 4:Cr=V.stateNode.containerInfo,Tn=!0;break e}V=V.return}if(Cr===null)throw Error(a(160));xu(T,O,x),Cr=null,Tn=!1}else xu(T,O,x);var ee=x.alternate;ee!==null&&(ee.return=null),x.return=null}catch(he){Tt(x,u,he)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)$s(u,l),u=u.sibling}function $s(l,u){var p=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Cn(u,l),Pn(l),4&v){try{Qo(3,l,l.return),Ko(3,l)}catch(fe){Tt(l,l.return,fe)}try{Qo(5,l,l.return)}catch(fe){Tt(l,l.return,fe)}}break;case 1:Cn(u,l),Pn(l),512&v&&p!==null&&$r(p,p.return);break;case 5:if(Cn(u,l),Pn(l),512&v&&p!==null&&$r(p,p.return),Me){if(32&l.flags){var x=l.stateNode;try{ie(x)}catch(fe){Tt(l,l.return,fe)}}if(4&v&&(x=l.stateNode)!=null){var T=l.memoizedProps;if(p=p!==null?p.memoizedProps:T,v=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{eh(x,u,v,p,T,l)}catch(fe){Tt(l,l.return,fe)}}}break;case 6:if(Cn(u,l),Pn(l),4&v&&Me){if(l.stateNode===null)throw Error(a(162));x=l.stateNode,T=l.memoizedProps,p=p!==null?p.memoizedProps:T;try{pi(x,p,T)}catch(fe){Tt(l,l.return,fe)}}break;case 3:if(Cn(u,l),Pn(l),4&v){if(Me&&We&&p!==null&&p.memoizedState.isDehydrated)try{gi(u.containerInfo)}catch(fe){Tt(l,l.return,fe)}if(Ue){x=u.containerInfo,T=u.pendingChildren;try{Fn(x,T)}catch(fe){Tt(l,l.return,fe)}}}break;case 4:if(Cn(u,l),Pn(l),4&v&&Ue){x=(T=l.stateNode).containerInfo,T=T.pendingChildren;try{Fn(x,T)}catch(fe){Tt(l,l.return,fe)}}break;case 13:Cn(u,l),Pn(l),8192&(x=l.child).flags&&(T=x.memoizedState!==null,x.stateNode.isHidden=T,!T||x.alternate!==null&&x.alternate.memoizedState!==null||(Mi=kt())),4&v&&nl(l);break;case 22:var O=p!==null&&p.memoizedState!==null;if(1&l.mode?(bt=(p=bt)||O,Cn(u,l),bt=p):Cn(u,l),Pn(l),8192&v){if(p=l.memoizedState!==null,(l.stateNode.isHidden=p)&&!O&&(1&l.mode)!=0)for(Ne=l,v=l.child;v!==null;){for(u=Ne=v;Ne!==null;){var V=(O=Ne).child;switch(O.tag){case 0:case 11:case 14:case 15:Qo(4,O,O.return);break;case 1:$r(O,O.return);var ee=O.stateNode;if(typeof ee.componentWillUnmount=="function"){var he=O,ge=O.return;try{var Ie=he;ee.props=Ie.memoizedProps,ee.state=Ie.memoizedState,ee.componentWillUnmount()}catch(fe){Tt(he,ge,fe)}}break;case 5:$r(O,O.return);break;case 22:if(O.memoizedState!==null){Nh(u);continue}}V!==null?(V.return=O,Ne=V):Nh(u)}v=v.sibling}if(Me){e:if(v=null,Me)for(u=l;;){if(u.tag===5){if(v===null){v=u;try{x=u.stateNode,p?ut(x):Et(u.stateNode,u.memoizedProps)}catch(fe){Tt(l,l.return,fe)}}}else if(u.tag===6){if(v===null)try{T=u.stateNode,p?_t(T):tt(T,u.memoizedProps)}catch(fe){Tt(l,l.return,fe)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Cn(u,l),Pn(l),4&v&&nl(l);break;case 21:break;default:Cn(u,l),Pn(l)}}function Pn(l){var u=l.flags;if(2&u){try{if(Me){e:{for(var p=l.return;p!==null;){if(Xr(p)){var v=p;break e}p=p.return}throw Error(a(160))}switch(v.tag){case 5:var x=v.stateNode;32&v.flags&&(ie(x),v.flags&=-33),_u(l,Nt(l),x);break;case 3:case 4:var T=v.stateNode.containerInfo;sn(l,Nt(l),T);break;default:throw Error(a(161))}}}catch(O){Tt(l,l.return,O)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function Of(l,u,p){Ne=l,Zo(l)}function Zo(l,u,p){for(var v=(1&l.mode)!=0;Ne!==null;){var x=Ne,T=x.child;if(x.tag===22&&v){var O=x.memoizedState!==null||Ws;if(!O){var V=x.alternate,ee=V!==null&&V.memoizedState!==null||bt;V=Ws;var he=bt;if(Ws=O,(bt=ee)&&!he)for(Ne=x;Ne!==null;)ee=(O=Ne).child,O.tag===22&&O.memoizedState!==null?Oh(x):ee!==null?(ee.return=O,Ne=ee):Oh(x);for(;T!==null;)Ne=T,Zo(T),T=T.sibling;Ne=x,Ws=V,bt=he}il(l)}else(8772&x.subtreeFlags)!=0&&T!==null?(T.return=x,Ne=T):il(l)}}function il(l){for(;Ne!==null;){var u=Ne;if((8772&u.flags)!=0){var p=u.alternate;try{if((8772&u.flags)!=0)switch(u.tag){case 0:case 11:case 15:bt||Ko(5,u);break;case 1:var v=u.stateNode;if(4&u.flags&&!bt)if(p===null)v.componentDidMount();else{var x=u.elementType===u.type?p.memoizedProps:Gn(u.type,p.memoizedProps);v.componentDidUpdate(x,p.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&dh(u,T,v);break;case 3:var O=u.updateQueue;if(O!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=B(u.child.stateNode);break;case 1:p=u.child.stateNode}dh(u,O,p)}break;case 5:var V=u.stateNode;p===null&&4&u.flags&&qi(V,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(We&&u.memoizedState===null){var ee=u.alternate;if(ee!==null){var he=ee.memoizedState;if(he!==null){var ge=he.dehydrated;ge!==null&&Ms(ge)}}}break;default:throw Error(a(163))}bt||512&u.flags&&rl(u)}catch(Ie){Tt(u,u.return,Ie)}}if(u===l){Ne=null;break}if((p=u.sibling)!==null){p.return=u.return,Ne=p;break}Ne=u.return}}function Nh(l){for(;Ne!==null;){var u=Ne;if(u===l){Ne=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Ne=p;break}Ne=u.return}}function Oh(l){for(;Ne!==null;){var u=Ne;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Ko(4,u)}catch(ee){Tt(u,p,ee)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var x=u.return;try{v.componentDidMount()}catch(ee){Tt(u,x,ee)}}var T=u.return;try{rl(u)}catch(ee){Tt(u,T,ee)}break;case 5:var O=u.return;try{rl(u)}catch(ee){Tt(u,O,ee)}}}catch(ee){Tt(u,u.return,ee)}if(u===l){Ne=null;break}var V=u.sibling;if(V!==null){V.return=u.return,Ne=V;break}Ne=u.return}}var Ci=0,sl=1,Vs=2,Xs=3,Pi=4;if(typeof Symbol=="function"&&Symbol.for){var Ys=Symbol.for;Ci=Ys("selector.component"),sl=Ys("selector.has_pseudo_class"),Vs=Ys("selector.role"),Xs=Ys("selector.test_id"),Pi=Ys("selector.text")}function ol(l){var u=at(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(a(364));return u}if((l=dr(l))===null)throw Error(a(362));return l.stateNode.current}function al(l,u){switch(u.$$typeof){case Ci:if(l.type===u.value)return!0;break;case sl:e:{u=u.value,l=[l,0];for(var p=0;p<l.length;){var v=l[p++],x=l[p++],T=u[x];if(v.tag!==5||!Zr(v)){for(;T!=null&&al(v,T);)T=u[++x];if(x===u.length){u=!0;break e}for(v=v.child;v!==null;)l.push(v,x),v=v.sibling}}u=!1}return u;case Vs:if(l.tag===5&&Bl(l.stateNode,u.value))return!0;break;case Pi:if((l.tag===5||l.tag===6)&&(l=fi(l))!==null&&0<=l.indexOf(u.value))return!0;break;case Xs:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(a(365))}return!1}function ll(l){switch(l.$$typeof){case Ci:return"<"+(K(l.value)||"Unknown")+">";case sl:return":has("+(ll(l)||"")+")";case Vs:return'[role="'+l.value+'"]';case Pi:return'"'+l.value+'"';case Xs:return'[data-testname="'+l.value+'"]';default:throw Error(a(365))}}function qs(l,u){var p=[];l=[l,0];for(var v=0;v<l.length;){var x=l[v++],T=l[v++],O=u[T];if(x.tag!==5||!Zr(x)){for(;O!=null&&al(x,O);)O=u[++T];if(T===u.length)p.push(x);else for(x=x.child;x!==null;)l.push(x,T),x=x.sibling}}return p}function Yr(l,u){if(!cr)throw Error(a(363));l=qs(l=ol(l),u),u=[],l=Array.from(l);for(var p=0;p<l.length;){var v=l[p++];if(v.tag===5)Zr(v)||u.push(v.stateNode);else for(v=v.child;v!==null;)l.push(v),v=v.sibling}return u}var Qs=Math.ceil,Jo=c.ReactCurrentDispatcher,wu=c.ReactCurrentOwner,St=c.ReactCurrentBatchConfig,nt=0,Jt=null,Xt=null,Ot=0,er=0,Ri=Un(0),tr=0,ds=null,fs=0,ps=0,Rn=0,Ii=null,_r=null,Mi=0,ul=1/0,on=null;function Ks(){ul=kt()+500}var Eu,It=!1,ea=null,si=null,ta=!1,Wn=null,ra=0,$n=0,Ft=null,Wt=-1,Yt=0;function or(){return(6&nt)!=0?kt():Wt!==-1?Wt:Wt=kt()}function In(l){return(1&l.mode)==0?1:(2&nt)!=0&&Ot!==0?Ot&-Ot:If.transition!==null?(Yt===0&&(Yt=ih()),Yt):(l=ht)!==0?l:$e()}function Pr(l,u,p,v){if(50<$n)throw $n=0,Ft=null,Error(a(185));So(l,p,v),(2&nt)!=0&&l===Jt||(l===Jt&&((2&nt)==0&&(ps|=p),tr===4&&oi(l,Ot)),qr(l,v),p===1&&nt===0&&(1&u.mode)==0&&(Ks(),Ji&&en()))}function qr(l,u){var p=l.callbackNode;(function(x,T){for(var O=x.suspendedLanes,V=x.pingedLanes,ee=x.expirationTimes,he=x.pendingLanes;0<he;){var ge=31-pn(he),Ie=1<<ge,fe=ee[ge];fe===-1?(Ie&O)!=0&&(Ie&V)==0||(ee[ge]=Ac(Ie,T)):fe<=T&&(x.expiredLanes|=Ie),he&=~Ie}})(l,u);var v=ka(l,l===Jt?Ot:0);if(v===0)p!==null&&_i(p),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(p!=null&&_i(p),u===1)l.tag===0?(function(x){Ji=!0,Fs(x)})(Vn.bind(null,l)):Fs(Vn.bind(null,l)),Gt?Kn((function(){(6&nt)==0&&en()})):ei(sh,en),p=null;else{switch(vi(v)){case 1:p=sh;break;case 4:p=Cc;break;case 16:default:p=bo;break;case 536870912:p=Rf}p=Hh(p,xr.bind(null,l))}l.callbackPriority=u,l.callbackNode=p}}function xr(l,u){if(Wt=-1,Yt=0,(6&nt)!=0)throw Error(a(327));var p=l.callbackNode;if(Xn()&&l.callbackNode!==p)return null;var v=ka(l,l===Jt?Ot:0);if(v===0)return null;if((30&v)!=0||(v&l.expiredLanes)!=0||u)u=dl(l,v);else{u=v;var x=nt;nt|=2;var T=Fh();for(Jt===l&&Ot===u||(on=null,Ks(),ki(l,u));;)try{Gc();break}catch(V){Su(l,V)}lh(),Jo.current=T,nt=x,Xt!==null?u=0:(Jt=null,Ot=0,u=tr)}if(u!==0){if(u===2&&(x=Da(l))!==0&&(v=x,u=hl(l,x)),u===1)throw p=ds,ki(l,0),oi(l,v),qr(l,kt()),p;if(u===6)oi(l,v);else{if(x=l.current.alternate,(30&v)==0&&!(function(V){for(var ee=V;;){if(16384&ee.flags){var he=ee.updateQueue;if(he!==null&&(he=he.stores)!==null)for(var ge=0;ge<he.length;ge++){var Ie=he[ge],fe=Ie.getSnapshot;Ie=Ie.value;try{if(!mn(fe(),Ie))return!1}catch{return!1}}}if(he=ee.child,16384&ee.subtreeFlags&&he!==null)he.return=ee,ee=he;else{if(ee===V)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===V)return!0;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}}return!0})(x)&&((u=dl(l,v))===2&&(T=Da(l))!==0&&(v=T,u=hl(l,T)),u===1))throw p=ds,ki(l,0),oi(l,v),qr(l,kt()),p;switch(l.finishedWork=x,l.finishedLanes=v,u){case 0:case 1:throw Error(a(345));case 2:case 5:Js(l,_r,on);break;case 3:if(oi(l,v),(130023424&v)===v&&10<(u=Mi+500-kt())){if(ka(l,0)!==0)break;if(((x=l.suspendedLanes)&v)!==v){or(),l.pingedLanes|=l.suspendedLanes&x;break}l.timeoutHandle=xe(Js.bind(null,l,_r,on),u);break}Js(l,_r,on);break;case 4:if(oi(l,v),(4194240&v)===v)break;for(u=l.eventTimes,x=-1;0<v;){var O=31-pn(v);T=1<<O,(O=u[O])>x&&(x=O),v&=~T}if(v=x,10<(v=(120>(v=kt()-v)?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Qs(v/1960))-v)){l.timeoutHandle=xe(Js.bind(null,l,_r,on),v);break}Js(l,_r,on);break;default:throw Error(a(329))}}}return qr(l,kt()),l.callbackNode===p?xr.bind(null,l):null}function hl(l,u){var p=Ii;return l.current.memoizedState.isDehydrated&&(ki(l,u).flags|=256),(l=dl(l,u))!==2&&(u=_r,_r=p,u!==null&&cl(u)),l}function cl(l){_r===null?_r=l:_r.push.apply(_r,l)}function oi(l,u){for(u&=~Rn,u&=~ps,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var p=31-pn(u),v=1<<p;l[p]=-1,u&=~v}}function Vn(l){if((6&nt)!=0)throw Error(a(327));Xn();var u=ka(l,0);if((1&u)==0)return qr(l,kt()),null;var p=dl(l,u);if(l.tag!==0&&p===2){var v=Da(l);v!==0&&(u=v,p=hl(l,v))}if(p===1)throw p=ds,ki(l,0),oi(l,u),qr(l,kt()),p;if(p===6)throw Error(a(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Js(l,_r,on),qr(l,kt()),null}function an(l){Wn!==null&&Wn.tag===0&&(6&nt)==0&&Xn();var u=nt;nt|=1;var p=St.transition,v=ht;try{if(St.transition=null,ht=1,l)return l()}finally{ht=v,St.transition=p,(6&(nt=u))==0&&en()}}function Zs(){er=Ri.current,ft(Ri)}function ki(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==Pe&&(l.timeoutHandle=Pe,Te(p)),Xt!==null)for(p=Xt.return;p!==null;){var v=p;switch(ql(v),v.tag){case 1:(v=v.type.childContextTypes)!=null&&Ns();break;case 3:Gs(),ft(Gr),ft(br),nn();break;case 5:mh(v);break;case 4:Gs();break;case 13:case 19:ft(Ht);break;case 10:Ga(v.type._context);break;case 22:case 23:Zs()}p=p.return}if(Jt=l,Xt=l=Di(l.current,null),Ot=er=u,tr=0,ds=null,Rn=ps=fs=0,_r=Ii=null,ts!==null){for(u=0;u<ts.length;u++)if((v=(p=ts[u]).interleaved)!==null){p.interleaved=null;var x=v.next,T=p.pending;if(T!==null){var O=T.next;T.next=x,v.next=O}p.pending=v}ts=null}return l}function Su(l,u){for(;;){var p=Xt;try{if(lh(),ss.current=jo,su){for(var v=Bt.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}su=!1}if(os=0,Qt=ir=Bt=null,Xa=!1,ni=0,wu.current=null,p===null||p.return===null){tr=1,ds=u,Xt=null;break}e:{var T=l,O=p.return,V=p,ee=u;if(u=Ot,V.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var he=ee,ge=V,Ie=ge.tag;if((1&ge.mode)==0&&(Ie===0||Ie===11||Ie===15)){var fe=ge.alternate;fe?(ge.updateQueue=fe.updateQueue,ge.memoizedState=fe.memoizedState,ge.lanes=fe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var be=Hs(O);if(be!==null){be.flags&=-257,jn(be,O,V,0,u),1&be.mode&&Ih(T,he,u),ee=he;var ze=(u=be).updateQueue;if(ze===null){var st=new Set;st.add(ee),u.updateQueue=st}else ze.add(ee);break e}if((1&u)==0){Ih(T,he,u),bu();break e}ee=Error(a(426))}else if(Ct&&1&V.mode){var ye=Hs(O);if(ye!==null){(65536&ye.flags)==0&&(ye.flags|=256),jn(ye,O,V,0,u),Ua(Wo(ee,V));break e}}T=ee=Wo(ee,V),tr!==4&&(tr=2),Ii===null?Ii=[T]:Ii.push(T),T=O;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u,kc(T,gu(0,ee,u));break e;case 1:V=ee;var q=T.type,le=T.stateNode;if((128&T.flags)==0&&(typeof q.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(si===null||!si.has(le)))){T.flags|=65536,u&=-u,T.lanes|=u,kc(T,bi(T,V,u));break e}}T=T.return}while(T!==null)}Lh(p)}catch(Ee){u=Ee,Xt===p&&p!==null&&(Xt=p=p.return);continue}break}}function Fh(){var l=Jo.current;return Jo.current=jo,l===null?jo:l}function bu(){tr!==0&&tr!==3&&tr!==2||(tr=4),Jt===null||(268435455&fs)==0&&(268435455&ps)==0||oi(Jt,Ot)}function dl(l,u){var p=nt;nt|=2;var v=Fh();for(Jt===l&&Ot===u||(on=null,ki(l,u));;)try{zc();break}catch(x){Su(l,x)}if(lh(),nt=p,Jo.current=v,Xt!==null)throw Error(a(261));return Jt=null,Ot=0,tr}function zc(){for(;Xt!==null;)Bh(Xt)}function Gc(){for(;Xt!==null&&!Oa();)Bh(Xt)}function Bh(l){var u=Eu(l.alternate,l,er);l.memoizedProps=l.pendingProps,u===null?Lh(l):Xt=u,wu.current=null}function Lh(l){var u=l;do{var p=u.alternate;if(l=u.return,(32768&u.flags)==0){if((p=qo(p,u,er))!==null)return void(Xt=p)}else{if((p=vu(p,u))!==null)return p.flags&=32767,void(Xt=p);if(l===null)return tr=6,void(Xt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(Xt=u);Xt=u=l}while(u!==null);tr===0&&(tr=5)}function Js(l,u,p){var v=ht,x=St.transition;try{St.transition=null,ht=1,(function(T,O,V,ee){do Xn();while(Wn!==null);if((6&nt)!=0)throw Error(a(327));V=T.finishedWork;var he=T.finishedLanes;if(V===null)return null;if(T.finishedWork=null,T.finishedLanes=0,V===T.current)throw Error(a(177));T.callbackNode=null,T.callbackPriority=0;var ge=V.lanes|V.childLanes;if((function(be,ze){var st=be.pendingLanes&~ze;be.pendingLanes=ze,be.suspendedLanes=0,be.pingedLanes=0,be.expiredLanes&=ze,be.mutableReadLanes&=ze,be.entangledLanes&=ze,ze=be.entanglements;var ye=be.eventTimes;for(be=be.expirationTimes;0<st;){var q=31-pn(st),le=1<<q;ze[q]=0,ye[q]=-1,be[q]=-1,st&=~le}})(T,ge),T===Jt&&(Xt=Jt=null,Ot=0),(2064&V.subtreeFlags)==0&&(2064&V.flags)==0||ta||(ta=!0,Hh(bo,(function(){return Xn(),null}))),ge=(15990&V.flags)!=0,(15990&V.subtreeFlags)!=0||ge){ge=St.transition,St.transition=null;var Ie=ht;ht=1;var fe=nt;nt|=4,wu.current=null,(function(be,ze){for(H(be.containerInfo),Ne=ze;Ne!==null;)if(ze=(be=Ne).child,(1028&be.subtreeFlags)!=0&&ze!==null)ze.return=be,Ne=ze;else for(;Ne!==null;){be=Ne;try{var st=be.alternate;if((1024&be.flags)!=0)switch(be.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(st!==null){var ye=st.memoizedProps,q=st.memoizedState,le=be.stateNode,Ee=le.getSnapshotBeforeUpdate(be.elementType===be.type?ye:Gn(be.type,ye),q);le.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:Me&&Nr(be.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(Qe){Tt(be,be.return,Qe)}if((ze=be.sibling)!==null){ze.return=be.return,Ne=ze;break}Ne=be.return}st=cs,cs=!1})(T,V),$s(V,T),D(T.containerInfo),T.current=V,Of(V),Fa(),nt=fe,ht=Ie,St.transition=ge}else T.current=V;if(ta&&(ta=!1,Wn=T,ra=he),ge=T.pendingLanes,ge===0&&(si=null),(function(be){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Ba,be,void 0,(128&be.current.flags)==128)}catch{}})(V.stateNode),qr(T,kt()),O!==null)for(ee=T.onRecoverableError,V=0;V<O.length;V++)he=O[V],ee(he.value,{componentStack:he.stack,digest:he.digest});if(It)throw It=!1,T=ea,ea=null,T;(1&ra)!=0&&T.tag!==0&&Xn(),ge=T.pendingLanes,(1&ge)!=0?T===Ft?$n++:($n=0,Ft=T):$n=0,en()})(l,u,p,v)}finally{St.transition=x,ht=v}return null}function Xn(){if(Wn!==null){var l=vi(ra),u=St.transition,p=ht;try{if(St.transition=null,ht=16>l?16:l,Wn===null)var v=!1;else{if(l=Wn,Wn=null,ra=0,(6&nt)!=0)throw Error(a(331));var x=nt;for(nt|=4,Ne=l.current;Ne!==null;){var T=Ne,O=T.child;if((16&Ne.flags)!=0){var V=T.deletions;if(V!==null){for(var ee=0;ee<V.length;ee++){var he=V[ee];for(Ne=he;Ne!==null;){var ge=Ne;switch(ge.tag){case 0:case 11:case 15:Qo(8,ge,T)}var Ie=ge.child;if(Ie!==null)Ie.return=ge,Ne=Ie;else for(;Ne!==null;){var fe=(ge=Ne).sibling,be=ge.return;if(Vr(ge),ge===he){Ne=null;break}if(fe!==null){fe.return=be,Ne=fe;break}Ne=be}}}var ze=T.alternate;if(ze!==null){var st=ze.child;if(st!==null){ze.child=null;do{var ye=st.sibling;st.sibling=null,st=ye}while(st!==null)}}Ne=T}}if((2064&T.subtreeFlags)!=0&&O!==null)O.return=T,Ne=O;else e:for(;Ne!==null;){if((2048&(T=Ne).flags)!=0)switch(T.tag){case 0:case 11:case 15:Qo(9,T,T.return)}var q=T.sibling;if(q!==null){q.return=T.return,Ne=q;break e}Ne=T.return}}var le=l.current;for(Ne=le;Ne!==null;){var Ee=(O=Ne).child;if((2064&O.subtreeFlags)!=0&&Ee!==null)Ee.return=O,Ne=Ee;else e:for(O=le;Ne!==null;){if((2048&(V=Ne).flags)!=0)try{switch(V.tag){case 0:case 11:case 15:Ko(9,V)}}catch(gt){Tt(V,V.return,gt)}if(V===O){Ne=null;break e}var Qe=V.sibling;if(Qe!==null){Qe.return=V.return,Ne=Qe;break e}Ne=V.return}}if(nt=x,en(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Ba,l)}catch{}v=!0}return v}finally{ht=p,St.transition=u}}return!1}function Uh(l,u,p){l=ri(l,u=gu(0,u=Wo(p,u),1),1),u=or(),l!==null&&(So(l,1,u),qr(l,u))}function Tt(l,u,p){if(l.tag===3)Uh(l,l,p);else for(;u!==null;){if(u.tag===3){Uh(u,l,p);break}if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(si===null||!si.has(v))){u=ri(u,l=bi(u,l=Wo(p,l),1),1),l=or(),u!==null&&(So(u,1,l),qr(u,l));break}}u=u.return}}function Tu(l,u,p){var v=l.pingCache;v!==null&&v.delete(u),u=or(),l.pingedLanes|=l.suspendedLanes&p,Jt===l&&(Ot&p)===p&&(tr===4||tr===3&&(130023424&Ot)===Ot&&500>kt()-Mi?ki(l,0):Rn|=p),qr(l,u)}function zh(l,u){u===0&&((1&l.mode)==0?u=1:(u=Ma,(130023424&(Ma<<=1))==0&&(Ma=4194304)));var p=or();(l=ti(l,u))!==null&&(So(l,u,p),qr(l,p))}function Gh(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),zh(l,p)}function Hc(l,u){var p=0;switch(l.tag){case 13:var v=l.stateNode,x=l.memoizedState;x!==null&&(p=x.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(a(314))}v!==null&&v.delete(u),zh(l,p)}function Hh(l,u){return ei(l,u)}function jc(l,u,p,v){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(l,u,p,v){return new jc(l,u,p,v)}function fl(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Di(l,u){var p=l.alternate;return p===null?((p=ln(l.tag,u,l.key,l.mode)).elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=14680064&l.flags,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function pl(l,u,p,v,x,T){var O=2;if(v=l,typeof l=="function")fl(l)&&(O=1);else if(typeof l=="string")O=5;else e:switch(l){case g:return ms(p.children,x,T,u);case _:O=8,x|=8;break;case w:return(l=ln(12,p,u,2|x)).elementType=w,l.lanes=T,l;case I:return(l=ln(13,p,u,x)).elementType=I,l.lanes=T,l;case P:return(l=ln(19,p,u,x)).elementType=P,l.lanes=T,l;case F:return Au(p,x,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:O=10;break e;case b:O=9;break e;case A:O=11;break e;case k:O=14;break e;case G:O=16,v=null;break e}throw Error(a(130,l==null?l:typeof l,""))}return(u=ln(O,p,u,x)).elementType=l,u.type=v,u.lanes=T,u}function ms(l,u,p,v){return(l=ln(7,l,v,u)).lanes=p,l}function Au(l,u,p,v){return(l=ln(22,l,v,u)).elementType=F,l.lanes=p,l.stateNode={isHidden:!1},l}function Cu(l,u,p){return(l=ln(6,l,null,u)).lanes=p,l}function jh(l,u,p){return(u=ln(4,l.children!==null?l.children:[],l.key,u)).lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Ff(l,u,p,v,x){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Pe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=v,this.onRecoverableError=x,We&&(this.mutableSourceEagerHydrationData=null)}function Wh(l,u,p,v,x,T,O,V,ee){return l=new Ff(l,u,p,V,ee),u===1?(u=1,T===!0&&(u|=8)):u=0,T=ln(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:v,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},ch(T),l}function $h(l){if(!l)return fr;e:{if(Z(l=l._reactInternals)!==l||l.tag!==1)throw Error(a(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Tr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(a(171))}if(l.tag===1){var p=l.type;if(Tr(p))return Tc(l,p,u)}return u}function Vh(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return(l=de(u))===null?null:l.stateNode}function ml(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function Pu(l,u){ml(l,u),(l=l.alternate)&&ml(l,u)}function Bf(l){return(l=de(l))===null?null:l.stateNode}function Lf(){return null}return Eu=function(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps||Gr.current)jt=!0;else{if((l.lanes&p)==0&&(128&u.flags)==0)return jt=!1,(function(Ie,fe,be){switch(fe.tag){case 3:Ti(fe),Io();break;case 5:Oc(fe);break;case 1:Tr(fe.type)&&Vl(fe);break;case 4:ru(fe,fe.stateNode.containerInfo);break;case 10:Rc(0,fe.type._context,fe.memoizedProps.value);break;case 13:var ze=fe.memoizedState;if(ze!==null)return ze.dehydrated!==null?(At(Ht,1&Ht.current),fe.flags|=128,null):(be&fe.child.childLanes)!=0?Fr(Ie,fe,be):(At(Ht,1&Ht.current),(Ie=wn(Ie,fe,be))!==null?Ie.sibling:null);At(Ht,1&Ht.current);break;case 19:if(ze=(be&fe.childLanes)!=0,(128&Ie.flags)!=0){if(ze)return kh(Ie,fe,be);fe.flags|=128}var st=fe.memoizedState;if(st!==null&&(st.rendering=null,st.tail=null,st.lastEffect=null),At(Ht,Ht.current),ze)break;return null;case 22:case 23:return fe.lanes=0,$o(Ie,fe,be)}return wn(Ie,fe,be)})(l,u,p);jt=(131072&l.flags)!=0}else jt=!1,Ct&&(1048576&u.flags)!=0&&La(u,Bs,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;xn(l,u),l=u.pendingProps;var x=yi(u,br.current);ko(u,p),x=ou(null,u,v,l,x,p);var T=Bo();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Tr(v)?(T=!0,Vl(u)):T=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ch(u),x.updater=ja,u.stateNode=x,x._reactInternals=u,ph(u,v,l,p),u=us(null,u,v,!0,T,p)):(u.tag=0,Ct&&T&&Po(u),Ar(null,u,x,p),u=u.child),u;case 16:v=u.elementType;e:{switch(xn(l,u),l=u.pendingProps,v=(x=v._init)(v._payload),u.type=v,x=u.tag=(function(Ie){if(typeof Ie=="function")return fl(Ie)?1:0;if(Ie!=null){if((Ie=Ie.$$typeof)===A)return 11;if(Ie===k)return 14}return 2})(v),l=Gn(v,l),x){case 0:u=Vo(null,u,v,l,p);break e;case 1:u=yu(null,u,v,l,p);break e;case 11:u=Bc(null,u,v,l,p);break e;case 14:u=Lc(null,u,v,Gn(v.type,l),p);break e}throw Error(a(306,v,""))}return u;case 0:return v=u.type,x=u.pendingProps,Vo(l,u,v,x=u.elementType===v?x:Gn(v,x),p);case 1:return v=u.type,x=u.pendingProps,yu(l,u,v,x=u.elementType===v?x:Gn(v,x),p);case 3:e:{if(Ti(u),l===null)throw Error(a(387));v=u.pendingProps,x=(T=u.memoizedState).element,Mc(l,u),Ha(u,v,null,p);var O=u.memoizedState;if(v=O.element,We&&T.isDehydrated){if(T={element:v,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},u.updateQueue.baseState=T,u.memoizedState=T,256&u.flags){u=Rt(l,u,v,p,x=Wo(Error(a(423)),u));break e}if(v!==x){u=Rt(l,u,v,p,x=Wo(Error(a(424)),u));break e}for(We&&(yr=Sa(u.stateNode.containerInfo),Dt=u,Ct=!0,zn=null,wi=!1),p=$a(u,null,v,p),u.child=p;p;)p.flags=-3&p.flags|4096,p=p.sibling}else{if(Io(),v===x){u=wn(l,u,p);break e}Ar(l,u,v,p)}u=u.child}return u;case 5:return Oc(u),l===null&&Ro(u),v=u.type,x=u.pendingProps,T=l!==null?l.memoizedProps:null,O=x.children,ue(v,x)?O=null:T!==null&&ue(v,T)&&(u.flags|=32),js(l,u),Ar(l,u,O,p),u.child;case 6:return l===null&&Ro(u),null;case 13:return Fr(l,u,p);case 4:return ru(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=Fo(u,null,v,p):Ar(l,u,v,p),u.child;case 11:return v=u.type,x=u.pendingProps,Bc(l,u,v,x=u.elementType===v?x:Gn(v,x),p);case 7:return Ar(l,u,u.pendingProps,p),u.child;case 8:case 12:return Ar(l,u,u.pendingProps.children,p),u.child;case 10:e:{if(v=u.type._context,x=u.pendingProps,T=u.memoizedProps,Rc(0,v,O=x.value),T!==null)if(mn(T.value,O)){if(T.children===x.children&&!Gr.current){u=wn(l,u,p);break e}}else for((T=u.child)!==null&&(T.return=u);T!==null;){var V=T.dependencies;if(V!==null){O=T.child;for(var ee=V.firstContext;ee!==null;){if(ee.context===v){if(T.tag===1){(ee=Ei(-1,p&-p)).tag=2;var he=T.updateQueue;if(he!==null){var ge=(he=he.shared).pending;ge===null?ee.next=ee:(ee.next=ge.next,ge.next=ee),he.pending=ee}}T.lanes|=p,(ee=T.alternate)!==null&&(ee.lanes|=p),uh(T.return,p,u),V.lanes|=p;break}ee=ee.next}}else if(T.tag===10)O=T.type===u.type?null:T.child;else if(T.tag===18){if((O=T.return)===null)throw Error(a(341));O.lanes|=p,(V=O.alternate)!==null&&(V.lanes|=p),uh(O,p,u),O=T.sibling}else O=T.child;if(O!==null)O.return=T;else for(O=T;O!==null;){if(O===u){O=null;break}if((T=O.sibling)!==null){T.return=O.return,O=T;break}O=O.return}T=O}Ar(l,u,x.children,p),u=u.child}return u;case 9:return x=u.type,v=u.pendingProps.children,ko(u,p),v=v(x=vn(x)),u.flags|=1,Ar(l,u,v,p),u.child;case 14:return x=Gn(v=u.type,u.pendingProps),Lc(l,u,v,x=Gn(v.type,x),p);case 15:return ls(l,u,u.type,u.pendingProps,p);case 17:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:Gn(v,x),xn(l,u),u.tag=1,Tr(v)?(l=!0,Vl(u)):l=!1,ko(u,p),Dc(u,v,x),ph(u,v,x,p),us(null,u,v,!0,l,p);case 19:return kh(l,u,p);case 22:return $o(l,u,p)}throw Error(a(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=ti(l,134217728);u!==null&&Pr(u,l,134217728,or()),Pu(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=ti(l,1);u!==null&&Pr(u,l,1,or()),Pu(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=In(l),p=ti(l,u);p!==null&&Pr(p,l,u,or()),Pu(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var p=pt(u.pendingLanes);p!==0&&(Na(u,1|p),qr(u,kt()),(6&nt)==0&&(Ks(),en()))}break;case 13:an((function(){var v=ti(l,1);if(v!==null){var x=or();Pr(v,l,1,x)}})),Pu(l,1)}},e.batchedUpdates=function(l,u){var p=nt;nt|=1;try{return l(u)}finally{(nt=p)===0&&(Ks(),Ji&&en())}},e.createComponentSelector=function(l){return{$$typeof:Ci,value:l}},e.createContainer=function(l,u,p,v,x,T,O){return Wh(l,u,!1,null,0,v,0,T,O)},e.createHasPseudoClassSelector=function(l){return{$$typeof:sl,value:l}},e.createHydrationContainer=function(l,u,p,v,x,T,O,V,ee){return(l=Wh(p,v,!0,l,0,T,0,V,ee)).context=$h(null),p=l.current,(T=Ei(v=or(),x=In(p))).callback=u??null,ri(p,T,x),l.current.lanes=x,So(l,x,v),qr(l,v),l},e.createPortal=function(l,u,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:v==null?null:""+v,children:l,containerInfo:u,implementation:p}},e.createRoleSelector=function(l){return{$$typeof:Vs,value:l}},e.createTestNameSelector=function(l){return{$$typeof:Xs,value:l}},e.createTextSelector=function(l){return{$$typeof:Pi,value:l}},e.deferredUpdates=function(l){var u=ht,p=St.transition;try{return St.transition=null,ht=16,l()}finally{ht=u,St.transition=p}},e.discreteUpdates=function(l,u,p,v,x){var T=ht,O=St.transition;try{return St.transition=null,ht=1,l(u,p,v,x)}finally{ht=T,St.transition=O,nt===0&&Ks()}},e.findAllNodes=Yr,e.findBoundingRects=function(l,u){if(!cr)throw Error(a(363));u=Yr(l,u),l=[];for(var p=0;p<u.length;p++)l.push(Zn(u[p]));for(u=l.length-1;0<u;u--)for(var v=(p=l[u]).x,x=v+p.width,T=p.y,O=T+p.height,V=u-1;0<=V;V--)if(u!==V){var ee=l[V],he=ee.x,ge=he+ee.width,Ie=ee.y,fe=Ie+ee.height;if(v>=he&&T>=Ie&&x<=ge&&O<=fe){l.splice(u,1);break}if(!(v!==he||p.width!==ee.width||fe<T||Ie>O)){Ie>T&&(ee.height+=Ie-T,ee.y=T),fe<O&&(ee.height=O-Ie),l.splice(u,1);break}if(!(T!==Ie||p.height!==ee.height||ge<v||he>x)){he>v&&(ee.width+=he-v,ee.x=v),ge<x&&(ee.width=x-he),l.splice(u,1);break}}return l},e.findHostInstance=Vh,e.findHostInstanceWithNoPortals=function(l){return(l=(l=pe(l))!==null?se(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return Vh(l)},e.flushControlled=function(l){var u=nt;nt|=1;var p=St.transition,v=ht;try{St.transition=null,ht=1,l()}finally{ht=v,St.transition=p,(nt=u)===0&&(Ks(),en())}},e.flushPassiveEffects=Xn,e.flushSync=an,e.focusWithin=function(l,u){if(!cr)throw Error(a(363));for(u=qs(l=ol(l),u),u=Array.from(u),l=0;l<u.length;){var p=u[l++];if(!Zr(p)){if(p.tag===5&&Ll(p.stateNode))return!0;for(p=p.child;p!==null;)u.push(p),p=p.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ht},e.getFindAllNodesFailureDescription=function(l,u){if(!cr)throw Error(a(363));var p=0,v=[];l=[ol(l),0];for(var x=0;x<l.length;){var T=l[x++],O=l[x++],V=u[O];if((T.tag!==5||!Zr(T))&&(al(T,V)&&(v.push(ll(V)),++O>p&&(p=O)),O<u.length))for(T=T.child;T!==null;)l.push(T,O),T=T.sibling}if(p<u.length){for(l=[];p<u.length;p++)l.push(ll(u[p]));return`findAllNodes was able to match part of the selector:
  `+v.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?B(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:Bf,findFiberByHostInstance:l.findFiberByHostInstance||Lf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Ba=u.inject(l),Jr=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,p,v){if(!cr)throw Error(a(363));l=Yr(l,u);var x=mo(l,p,v).disconnect;return{disconnect:function(){x()}}},e.registerMutableSourceForHydration=function(l,u){var p=u._getVersion;p=p(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,p]:l.mutableSourceEagerHydrationData.push(u,p)},e.runWithPriority=function(l,u){var p=ht;try{return ht=l,u()}finally{ht=p}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,p,v){var x=u.current,T=or(),O=In(x);return p=$h(p),u.context===null?u.context=p:u.pendingContext=p,(u=Ei(T,O)).payload={element:l},(v=v===void 0?null:v)!==null&&(u.callback=v),(l=ri(x,u,O))!==null&&(Pr(l,x,O,T),ns(l,x,O)),O},e}),X0}({get exports(){return Pg},set exports(i){Pg=i}}).exports=TA();var AA=ZT(Pg),Bx={name:"root",dependencies:{"react-dom":"^18.0.0"}},Ig={},Fd={get exports(){return Ig},set exports(i){Ig=i}};(function(){var i,e,t,r,o,a;typeof performance<"u"&&performance!==null&&performance.now?Fd.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Fd.exports=function(){return(i()-o)/1e6},e=process.hrtime,r=(i=function(){var c;return 1e9*(c=e())[0]+c[1]})(),a=1e9*process.uptime(),o=r-a):Date.now?(Fd.exports=function(){return Date.now()-t},t=Date.now()):(Fd.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(KT);var Q0,Wu={},bl={};({get exports(){return Wu},set exports(i){Wu=i}}).exports=(Q0||(Q0=1,bl.ConcurrentRoot=1,bl.ContinuousEventPriority=4,bl.DefaultEventPriority=16,bl.DiscreteEventPriority=1,bl.IdleEventPriority=536870912,bl.LegacyRoot=0),bl);var CA={};function Hm(i,e){i.addChild&&(i.addChild(e),typeof e.didMount=="function"&&e.didMount(e,i))}function Lx(i,e){var t,r,o;(t=i.willUnmount)===null||t===void 0||t.call(i,i,e),((r=i.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(o=i.children)!==null&&o!==void 0&&o.length&&po(i.children).forEach((function(a){Lx(a,i)}))}function K0(i,e){var t;Lx(e,i),i.removeChild(e);var r=(t=e.config)!==null&&t!==void 0?t:{},o=r.destroy,a=o===void 0||o,c=r.destroyChildren,d=c===void 0||c,m=r.destroyTexture,g=m!==void 0&&m,_=r.destroyBaseTexture,w=_!==void 0&&_;a&&e.destroy({children:d,texture:g,baseTexture:w})}function Z0(i,e,t){var r,o;nr(e!==t,"Cannot insert node before itself"),i.children.indexOf(e)!==-1&&i.removeChild(e);var a=i.getChildIndex(t);i.addChildAt(e,a),(r=i.__reactpixi)===null||r===void 0||(o=r.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var J0=null,Wi=AA({getRootHostContext:function(){return CA},getChildHostContext:function(i){return i},getChildHostContextForEventComponent:function(i){return i},getPublicInstance:function(i){return i},getCurrentEventPriority:function(){return(function(){var i,e;if(typeof window>"u")return Wu.DefaultEventPriority;switch((i=window)===null||i===void 0||(e=i.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Wu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Wu.ContinuousEventPriority;default:return Wu.DefaultEventPriority}})()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(i){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=wA[i];if(typeof a=="function"&&(e=a(o,r)),!e){var c=Fx[i];c&&((e=c.create(r,{root:o})).didMount=c.didMount?c.didMount.bind(e):void 0,e.willUnmount=c.willUnmount?c.willUnmount.bind(e):void 0,e.applyProps=c.applyProps?c.applyProps.bind(e):void 0,e.config=c.config)}return e&&(e.__reactpixi={root:o},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:Ps)(e,{},r)),e},hideInstance:function(i){i.visible=!1},unhideInstance:function(i,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;i.visible=t},finalizeInitialChildren:function(i,e,t){return!1},prepareUpdate:function(i,e,t,r,o,a){return J0=(function(c,d,m,g){var _=null;for(var w in m)!g.hasOwnProperty(w)&&m.hasOwnProperty(w)&&m[w]!==null&&(w===Ag||(_||(_=[]),_.push(w,null)));for(var S in g){var b=g[S],A=m!==null?m[S]:void 0;!g.hasOwnProperty(S)||b===A||b===null&&A===null||S===Ag||(_||(_=[]),_.push(S,b))}return _})(0,0,t,r)},shouldSetTextContent:function(i,e){return!1},shouldDeprioritizeSubtree:function(i,e){var t=e.alpha===void 0||e.alpha>0,r=e.renderable===void 0||e.renderable===!0,o=e.visible===void 0||e.visible===!0;return!(t&&r&&o)},createTextInstance:function(i,e,t){nr(!1,'Error trying to add text node "'.concat(i,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(i,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Ig,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var i,e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=Hm.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),a},appendChild:function(){for(var i,e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=Hm.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),a},appendChildToContainer:function(){for(var i,e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=Hm.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),a},removeChild:function(){for(var i,e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=K0.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),a},removeChildFromContainer:function(){for(var i,e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=K0.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),a},insertBefore:Z0,insertInContainerBefore:function(){for(var i,e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=Z0.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),a},commitUpdate:function(i,e,t,r,o){var a,c,d=i&&i.applyProps;typeof d!="function"&&(d=Ps),(d(i,r,o)||J0)&&((a=i.__reactpixi)===null||a===void 0||(c=a.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(i,e,t,r,o){},commitTextUpdate:function(i,e,t){},resetTextContent:function(i){},clearContainer:function(i){},getFundamentalComponentInstance:function(i){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(i){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},getInstanceFromNode:function(i){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(i){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(i){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(i){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(i){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(i){}}),PA=Bx.dependencies["react-dom"].replace(/[^0-9.]/g,""),RA=Bx.name;Wi.injectIntoDevTools({bundleType:0,version:PA,rendererPackageName:RA,findHostInstanceByFiber:Wi.findHostInstance});var va=new Map;function Ux(i){if(nr(cn.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`."),va.has(i)){var e=va.get(i).pixiFiberContainer;Wi.updateContainer(null,e,void 0,(function(){va.delete(i)}))}}function zx(i){nr(cn.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`.");var e=va.get(i);if(nr(!e,"createRoot should only be called once"),!e){var t=Wi.createContainer(i);e={pixiFiberContainer:t,reactRoot:{render:function(r){return Wi.updateContainer(r,t,void 0),Wi.getPublicRootInstance(t)},unmount:function(){Ux(i),va.delete(i)}}},va.set(i,e)}return e.reactRoot}function IA(i,e,t){var r;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),va.has(e)?r=va.get(e).reactRoot:r=zx(e),r.render(i)}function MA(i){Ux(i)}function wc(){return wc=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},wc.apply(this,arguments)}function kA(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function DA(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Dx(r.key),r)}}function io(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function hf(i,e){return hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},hf(i,e)}function NA(i,e){if(e&&(Qn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return io(i)}function cf(i){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cf(i)}var Af=lo.createContext(null),Gx=Af.Provider,Hx=Af.Consumer,OA=function(i){var e=lo.forwardRef((function(t,r){return lo.createElement(Hx,null,(function(o){return lo.createElement(i,wc({},t,{ref:r,app:o}))}))}));return e.displayName="withPIXIApp(".concat(i.displayName||i.name,")"),e};function FA(i){var e=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var t,r=cf(i);if(e){var o=cf(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return NA(this,t)}}function e_(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),t.push.apply(t,r)}return t}function Bd(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(t),!0).forEach((function(r){ur(i,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):e_(Object(t)).forEach((function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))}))}return i}var t_=function(){},jx={width:Ut.number,height:Ut.number,onMount:Ut.func,onUnmount:Ut.func,raf:Ut.bool,renderOnComponentChange:Ut.bool,children:Ut.node,options:Ut.shape({autoStart:Ut.bool,width:Ut.number,height:Ut.number,useContextAlpha:Ut.bool,backgroundAlpha:Ut.number,autoDensity:Ut.bool,antialias:Ut.bool,preserveDrawingBuffer:Ut.bool,resolution:Ut.number,forceCanvas:Ut.bool,backgroundColor:Ut.number,clearBeforeRender:Ut.bool,powerPreference:Ut.string,sharedTicker:Ut.bool,sharedLoader:Ut.bool,resizeTo:function(i,e){var t=i[e];t&&nr(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Qn(t),", expect `window` or an `HTMLElement`."))},view:function(i,e,t){var r=i[e];r&&nr(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Qn(r),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},BA={width:800,height:600,onMount:t_,onUnmount:t_,raf:!0,renderOnComponentChange:!0},Mg=(function(i){(function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),c&&hf(a,c)})(o,lo.Component);var e,t,r=FA(o);function o(){var a;kA(this,o);for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];return ur(io(a=r.call.apply(r,[this].concat(d))),"_canvas",null),ur(io(a),"_mediaQuery",null),ur(io(a),"_ticker",null),ur(io(a),"_needsUpdate",!0),ur(io(a),"app",null),ur(io(a),"updateSize",(function(){var g=a.props,_=g.width,w=g.height,S=g.options;S!=null&&S.resolution||(a.app.renderer.resolution=window.devicePixelRatio,a.resetInteractionManager()),a.app.renderer.resize(_,w)})),ur(io(a),"needsRenderUpdate",(function(){a._needsUpdate=!0})),ur(io(a),"renderStage",(function(){var g=a.props,_=g.renderOnComponentChange;!g.raf&&_&&a._needsUpdate&&(a._needsUpdate=!1,a.app.renderer.render(a.app.stage))})),a}return e=o,(t=[{key:"componentDidMount",value:function(){var a=this.props,c=a.onMount,d=a.width,m=a.height,g=a.options,_=a.raf,w=a.renderOnComponentChange;this.app=new wf(Bd(Bd({width:d,height:m,view:this._canvas},g),{},{autoDensity:g?.autoDensity!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[_?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Wi.createContainer(this.app.stage),Wi.updateContainer(this.getChildren(),this.mountNode,this),c(this.app),g!=null&&g.autoDensity&&window.matchMedia&&g?.resolution===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),w&&!_&&(this._ticker=new kr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(a,c,d){var m,g=this.props,_=g.width,w=g.height,S=g.raf,b=g.renderOnComponentChange,A=g.options;A?.resolution!==void 0&&a?.options.resolution!==A?.resolution&&(this.app.renderer.resolution=A.resolution,this.resetInteractionManager()),a.height===w&&a.width===_&&((m=a.options)===null||m===void 0?void 0:m.resolution)===A?.resolution||this.updateSize(),a.raf!==S&&this.app.ticker[S?"start":"stop"](),Wi.updateContainer(this.getChildren(),this.mountNode,this),a.width===_&&a.height===w&&a.raf===S&&a.renderOnComponentChange===b&&a.options===A||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var a=this.app.renderer.plugins.interaction;a!=null&&a.resolution&&(a.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var a=this.props.children;return lo.createElement(Gx,{value:this.app},a)}},{key:"componentDidCatch",value:function(a,c){console.error("Error occurred in `Stage`."),console.error(a),console.error(c)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Wi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var a,c,d=this,m=this.props.options;return m&&m.view?(nr(m.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):lo.createElement("canvas",wc({},(a=this.props,c=[].concat(po(Object.keys(jx)),po(Object.keys(Cg))),Object.keys(a).filter((function(g){return!c.includes(g)})).reduce((function(g,_){return Bd(Bd({},g),{},ur({},_,a[_]))}),{})),{ref:function(g){return d._canvas=g}}))}}])&&DA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),o})();Mg.propTypes=jx,Mg.defaultProps=BA;var LA=Mg;function Wx(){var i=Hi.useContext(Af);return nr(i instanceof wf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),i}function UA(i){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=Wx();nr(typeof i=="function","`useTick` needs a callback function."),nr(t instanceof wf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var r=Hi.useRef(null);Hi.useEffect((function(){r.current=i}),[i]),Hi.useEffect((function(){if(e){var o=function(a){return r.current.apply(t.ticker,[a,t.ticker])};return t.ticker.add(o),function(){t.ticker&&t.ticker.remove(o)}}}),[e])}function zA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function kg(i,e,t){return kg=zA()?Reflect.construct.bind():function(r,o,a){var c=[null];c.push.apply(c,o);var d=new(Function.bind.apply(r,c));return a&&hf(d,a.prototype),d},kg.apply(null,arguments)}var GA=["children","apply"];function r_(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable}))),t.push.apply(t,r)}return t}function Ld(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(t),!0).forEach((function(r){ur(i,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):r_(Object(t)).forEach((function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))}))}return i}var HA=function(i,e){nr(Qn(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),r=function(o){var a=o.children,c=o.apply,d=Ea(o,GA),m=Hi.useRef(Hi.useMemo((function(){return t.map((function(w){var S,b=(d==null||(S=d[w])===null||S===void 0?void 0:S.construct)||[];return kg(e[w],po(b))}))}),[t])),g=Hi.useMemo((function(){return t.reduce((function(w,S,b){return Ld(Ld({},w),{},ur({},S,m.current[b]))}),{})}),[t]),_=Hi.useMemo((function(){return Object.keys(d).filter(Ox(Nx(t))).reduce((function(w,S){return Ld(Ld({},w),{},ur({},S,d[S]))}),{})}),[d,t]);return t.forEach((function(w,S){return Object.assign(m.current[S],d[w])})),c&&(function(){for(var w=arguments.length,S=new Array(w),b=0;b<w;b++)S[b]=arguments[b];return S.every((function(A){return typeof A=="function"}))})(c)&&c.call(i,g),lo.createElement(i,wc({},_,{filters:m.current}),a)};return r.displayName="FilterWrapper",r.propTypes={children:Ut.node,apply:Ut.func},r},jA=On.BitmapText,WA=On.Container,$A=On.Graphics,VA=On.NineSlicePlane,XA=On.ParticleContainer,YA=On.Sprite,qA=On.AnimatedSprite,QA=On.Text,KA=On.TilingSprite,ZA=On.SimpleMesh,JA=On.SimpleRope;const eC=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:qA,AppConsumer:Hx,AppContext:Af,AppProvider:Gx,BitmapText:jA,Container:WA,Graphics:$A,NineSlicePlane:VA,ParticleContainer:XA,PixiComponent:EA,PixiFiber:Wi,SimpleMesh:ZA,SimpleRope:JA,Sprite:YA,Stage:LA,TYPES:On,Text:QA,TilingSprite:KA,applyDefaultProps:Ps,createRoot:zx,eventHandlers:uf,render:IA,unmountComponentAtNode:MA,useApp:Wx,useTick:UA,withFilters:HA,withPixiApp:OA},Symbol.toStringTag,{value:"Module"})),tC=i_(eC);var n_;function rC(){return n_||(n_=1,gc.exports=tC),gc.exports}var Fu=rC();const nC=()=>{const i=Hi.useMemo(()=>new ax(2),[]),e="https://react.pixijs.io/v7/img/bunny.png";return fa.jsxs(Fu.Stage,{width:800,height:600,options:{background:1087931},children:[fa.jsx(Fu.Sprite,{image:e,x:300,y:150}),fa.jsx(Fu.Sprite,{image:e,x:500,y:150}),fa.jsx(Fu.Sprite,{image:e,x:400,y:200}),fa.jsx(Fu.Container,{x:200,y:200,children:fa.jsx(Fu.Text,{text:"Hello World",anchor:.5,x:220,y:150,filters:[i],style:new fo({align:"center",fill:"0xffffff",fontSize:50,letterSpacing:20,dropShadow:!0,dropShadowColor:"#E72264",dropShadowDistance:6})})})]})};b1.createRoot(document.getElementById("root")).render(fa.jsx(Hi.StrictMode,{children:fa.jsx(nC,{})}))});export default iC();
